var __BUNDLE_START_TIME__=globalThis.nativePerformanceNow?nativePerformanceNow():Date.now(),__DEV__=false,process=globalThis.process||{},__METRO_GLOBAL_PREFIX__='';process.env=process.env||{};process.env.NODE_ENV=process.env.NODE_ENV||"production";
!(function(e){"use strict";e.__r=i,e[`${__METRO_GLOBAL_PREFIX__}__d`]=function(e,n,o){if(t.has(n))return;const i={dependencyMap:o,factory:e,hasError:!1,importedAll:r,importedDefault:r,isInitialized:!1,publicModule:{exports:{}}};t.set(n,i)},e.__c=o,e.__registerSegment=function(e,r,n){p[e]=r,n&&n.forEach(r=>{t.has(r)||h.has(r)||h.set(r,e)})};var t=o();const r={},{hasOwnProperty:n}={};function o(){return t=new Map}function i(e,r){if(null===e)throw new Error("Cannot find module");const n=e,o=t.get(n);return o&&o.isInitialized?o.publicModule.exports:d(n,o)}function l(e){const n=e,o=t.get(n);if(o&&o.importedDefault!==r)return o.importedDefault;const l=i(n),u=l&&l.__esModule?l.default:l;return t.get(n).importedDefault=u}function u(e){const o=e,l=t.get(o);if(l&&l.importedAll!==r)return l.importedAll;const u=i(o);let c;if(u&&u.__esModule)c=u;else{if(c={},u)for(const e in u)n.call(u,e)&&(c[e]=u[e]);c.default=u}return t.get(o).importedAll=c}i.importDefault=l,i.importAll=u,i.context=function(){throw new Error("The experimental Metro feature `require.context` is not enabled in your project.")},i.resolveWeak=function(){throw new Error("require.resolveWeak cannot be called dynamically.")};let c=!1;function d(t,r){if(!c&&e.ErrorUtils){let n;c=!0;try{n=g(t,r)}catch(t){e.ErrorUtils.reportFatalError(t)}return c=!1,n}return g(t,r)}const a=16,s=65535;function f(e){return{segmentId:e>>>a,localId:e&s}}i.unpackModuleId=f,i.packModuleId=function(e){return(e.segmentId<<a)+e.localId};const p=[],h=new Map;function g(r,n){if(!n&&p.length>0){const e=h.get(r)??0,o=p[e];null!=o&&(o(r),n=t.get(r),h.delete(r))}const o=e.nativeRequire;if(!n&&o){const{segmentId:e,localId:i}=f(r);o(i,e),n=t.get(r)}if(!n)throw m(r);if(n.hasError)throw n.error;n.isInitialized=!0;const{factory:c,dependencyMap:d}=n;try{const t=n.publicModule;return t.id=r,c(e,i,l,u,t,t.exports,d),n.factory=void 0,n.dependencyMap=void 0,t.exports}catch(e){throw n.hasError=!0,n.error=e,n.isInitialized=!1,n.publicModule.exports=void 0,e}}function m(e){return Error('Requiring unknown module "'+e+'".')}})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
!(function(e){e.$$require_external="undefined"!=typeof require?require:()=>null})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
'undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window&&window;
!(function(r){let l=0,n=!0===r.RN$useAlwaysAvailableJSErrorHandling?r.RN$handleException:(r,l)=>{throw r};const t={setGlobalHandler(r){n=r},getGlobalHandler:()=>n,reportError(r){n&&n(r,!1)},reportFatalError(r){n&&n(r,!0)},applyWithGuard(r,n,e,a,o){try{return l++,r.apply(n,e)}catch(r){t.reportError(r)}finally{l--}return null},applyWithGuardIfNeeded:(r,l,n)=>t.inGuard()?r.apply(l,n):(t.applyWithGuard(r,l,n),null),inGuard:()=>!!l,guard(r,l,n){if('function'!=typeof r)return console.warn('A function must be passed to ErrorUtils.guard, got ',r),null;const e=l??r.name??'<generated guard>';return function(...l){return t.applyWithGuard(r,n??this,l,null,e)}}};r.ErrorUtils=t})('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof global?global:'undefined'!=typeof window?window:this);
__d(function(g,r,i,a,m,e,d){var f=r(d[0]),t=f(r(d[1])),u=f(r(d[2]));(0,t.default)(u.default)},0,[1,2,87]);
__d(function(g,r,i,a,m,_e,d){m.exports=function(e){return e&&e.__esModule?e:{default:e}},m.exports.__esModule=!0,m.exports.default=m.exports},1,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){let o=t;if(n.default.registerComponent('main',()=>o),'undefined'!=typeof window){const t=document.getElementById('root');n.default.runApplication('main',{rootTag:t,hydrate:globalThis.__EXPO_ROUTER_HYDRATE__})}},r(d[1]);var n=t(r(d[2]));t(r(d[3]))},2,[1,3,9,86]);
__d(function(g,r,i,a,m,e,d){r(d[0]),r(d[1])},3,[4,8]);
__d(function(g,r,i,a,m,e,d){r(d[0])},4,[5]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(globalThis,'__ExpoImportMetaRegistry',{value:r(d[0]).ImportMetaRegistry,enumerable:!1,writable:!0})},5,[6]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ImportMetaRegistry=void 0;var t=r(d[0]);e.ImportMetaRegistry={get url(){return(0,t.getBundleUrl)()}}},6,[7]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getBundleUrl=function(){let n=null;n='undefined'==typeof window?'file://'+__filename:document.currentScript?.src;if(null==n)return null;const t=new URL(n);return`${t.protocol}//${t.host}${t.pathname}`}},7,[]);
__d(function(g,r,i,a,m,e,d){},8,[]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;t(_r(d[1]));var e=t(_r(d[2])),r=t(_r(d[3])),n=(function(t,e){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var i,o,p={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return p;if(i=e?n:r){if(i.has(t))return i.get(t);i.set(t,p)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?i(p,e,o):p[e]=t[e]);return p})(t,e)})(_r(d[4]));var i,o={},p={},u=t=>t();class s{static getAppKeys(){return Object.keys(p)}static getApplication(t,r){return(0,e.default)(p[t]&&p[t].getApplication,"Application "+t+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),p[t].getApplication(r)}static registerComponent(t,e){return p[t]={getApplication:t=>(0,n.getApplication)(u(e),t?t.initialProps:o,i&&i(t)),run:t=>(0,n.default)(u(e),i&&i(t),t.callback,{hydrate:t.hydrate||!1,initialProps:t.initialProps||o,mode:t.mode||'concurrent',rootTag:t.rootTag})},t}static registerConfig(t){t.forEach(t=>{var r=t.appKey,n=t.component,i=t.run;i?s.registerRunnable(r,i):((0,e.default)(n,'No component provider passed in'),s.registerComponent(r,n))})}static registerRunnable(t,e){return p[t]={run:e},t}static runApplication(t,r){return(0,e.default)(p[t]&&p[t].run,"Application \""+t+"\" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),p[t].run(r)}static setComponentProviderInstrumentationHook(t){u=t}static setWrapperComponentProvider(t){i=t}static unmountApplicationComponentAtRootTag(t){(0,r.default)(t)}}_e.default=s},9,[1,10,15,16,17]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach(function(r){(0,t.default)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e};var t=e(_r(d[1]));function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}},10,[1,11]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n,t){return(n=(0,r.default)(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e};var r=e(_r(d[1]))},11,[1,12]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var f=(0,n.default)(t,"string");return"symbol"==(0,u.default)(f)?f:f+""};var u=t(r(d[1])),n=t(r(d[2]))},12,[1,13,14]);
__d(function(g,r,i,a,m,e,d){function o(t){return e.default=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},13,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,t){if("object"!=(0,r.default)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var u=i.call(e,t||"default");if("object"!=(0,r.default)(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)};var r=e(_r(d[1]))},14,[1,13]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=function(n,o){for(var t=arguments.length,f=new Array(t>2?t-2:0),s=2;s<t;s++)f[s-2]=arguments[s];if(!n){var l;if(void 0===o)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;(l=new Error(o.replace(/%s/g,function(){return String(f[u++])}))).name='Invariant Violation'}throw l.framesToPop=1,l}}},15,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return n.unmount(),!0}},16,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,t,l,f){var i=f.hydrate,p=f.initialProps,c=f.rootTag,s=i?o.hydrate:o.default;return(0,n.default)(c,'Expect to have a valid rootTag, instead got ',c),s(u.default.createElement(r.default,{WrapperComponent:t,ref:l,rootTag:c},u.default.createElement(e,p)),c)},_e.getApplication=function(e,n,o){return{element:u.default.createElement(r.default,{WrapperComponent:o,rootTag:{}},u.default.createElement(e,n)),getStyleElement:e=>{var r=l.default.getSheet();return u.default.createElement("style",(0,t.default)({},e,{dangerouslySetInnerHTML:{__html:r.textContent},id:r.id}))}}};var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?o(u,t,l):u[t]=e[t]);return u})(e,t)})(_r(d[4])),l=e(_r(d[5])),u=e(_r(d[6]))},17,[1,18,19,15,20,33,25]);
__d(function(g,_r,i,a,m,_e,d){function n(){return _e.default=n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},n.apply(null,arguments)}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=n},18,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function({children:n}){return n}},19,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,u){(0,n.createSheet)(u);var c=(0,t.createRoot)(u);return c.render(o),c},e.hydrate=function(o,u){return(0,n.createSheet)(u),(0,t.hydrateRoot)(u,o)};var t=r(d[0]),n=r(d[1])},20,[21,29]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function _(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(_){console.error(_)}})(),m.exports=r(d[0])},21,[22]);
__d(function(e,n,t,r,l,a,o){
/**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var i=n(o[0]),u=n(o[1]),s=n(o[2]);function c(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}var d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=N&&e[N]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function _(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case h:return"Fragment";case m:return"Portal";case v:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(n=e.displayName||null)?n:_(e.type)||"Memo";case C:n=e._payload,e=e._init;try{return _(e(n))}catch(e){}}return null}var F,O,D=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign;function A(e){if(void 0===F)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);F=n&&n[1]||"",O=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+F+e+O}var R=!1;function I(e,n){if(!e||R)return"";R=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&r&&"string"==typeof e.stack)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],i=a[1];if(o&&i){var u=o.split("\n"),s=i.split("\n");for(l=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;l<s.length&&!s[l].includes("DetermineComponentFrameRoot");)l++;if(r===u.length||l===s.length)for(r=u.length-1,l=s.length-1;1<=r&&0<=l&&u[r]!==s[l];)l--;for(;1<=r&&0<=l;r--,l--)if(u[r]!==s[l]){if(1!==r||1!==l)do{if(r--,0>--l||u[r]!==s[l]){var c="\n"+u[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=l);break}}}finally{R=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?A(t):""}function U(e){switch(e.tag){case 26:case 27:case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 15:return e=I(e.type,!1);case 11:return e=I(e.type.render,!1);case 1:return e=I(e.type,!0);default:return""}}function V(e){try{var n="";do{n+=U(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function j(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function B(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function Q(e){if(j(e)!==e)throw Error(c(188))}function $(e){var n=e.alternate;if(!n){if(null===(n=j(e)))throw Error(c(188));return n!==e?null:e}for(var t=e,r=n;;){var l=t.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(r=l.return)){t=r;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===t)return Q(l),e;if(a===r)return Q(l),n;a=a.sibling}throw Error(c(188))}if(t.return!==r.return)t=l,r=a;else{for(var o=!1,i=l.child;i;){if(i===t){o=!0,t=l,r=a;break}if(i===r){o=!0,r=l,t=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===t){o=!0,t=a,r=l;break}if(i===r){o=!0,r=a,t=l;break}i=i.sibling}if(!o)throw Error(c(189))}}if(t.alternate!==r)throw Error(c(190))}if(3!==t.tag)throw Error(c(188));return t.stateNode.current===t?e:n}function W(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=W(e)))return n;e=e.sibling}return null}var H=Array.isArray,q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Y=[],X=-1;function G(e){return{current:e}}function Z(e){0>X||(e.current=Y[X],Y[X]=null,X--)}function J(e,n){X++,Y[X]=e.current,e.current=n}var ee=G(null),ne=G(null),te=G(null),re=G(null);function le(e,n){switch(J(te,n),J(ne,e),J(ee,null),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?vf(n):0;break;default:if(n=(e=8===e?n.parentNode:n).tagName,e=e.namespaceURI)n=yf(e=vf(e),n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ee),J(ee,n)}function ae(){Z(ee),Z(ne),Z(te)}function oe(e){null!==e.memoizedState&&J(re,e);var n=ee.current,t=yf(n,e.type);n!==t&&(J(ne,e),J(ee,t))}function ie(e){ne.current===e&&(Z(ee),Z(ne)),re.current===e&&(Z(re),sd._currentValue=K)}var ue=Object.prototype.hasOwnProperty,se=i.unstable_scheduleCallback,ce=i.unstable_cancelCallback,fe=i.unstable_shouldYield,de=i.unstable_requestPaint,pe=i.unstable_now,me=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,ge=i.unstable_UserBlockingPriority,ve=i.unstable_NormalPriority,ye=i.unstable_LowPriority,be=i.unstable_IdlePriority,ke=i.log,we=i.unstable_setDisableYieldValue,Se=null,Ee=null;function xe(e){if(Ee&&"function"==typeof Ee.onCommitFiberRoot)try{Ee.onCommitFiberRoot(Se,e,void 0,!(128&~e.current.flags))}catch(e){}}function Ce(e){if("function"==typeof ke&&we(e),Ee&&"function"==typeof Ee.setStrictMode)try{Ee.setStrictMode(Se,e)}catch(e){}}var ze=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Pe(e)/Ne|0)|0},Pe=Math.log,Ne=Math.LN2;var Le=128,Te=4194304;function _e(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Fe(e,n){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,a=e.pingedLanes,o=e.warmLanes;e=0!==e.finishedLanes;var i=134217727&t;return 0!==i?0!==(t=i&~l)?r=_e(t):0!==(a&=i)?r=_e(a):e||0!==(o=i&~o)&&(r=_e(o)):0!==(i=t&~l)?r=_e(i):0!==a?r=_e(a):e||0!==(o=t&~o)&&(r=_e(o)),0===r?0:0!==n&&n!==r&&0===(n&l)&&((l=r&-r)>=(o=n&-n)||32===l&&4194176&o)?n:r}function Oe(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function De(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Me(){var e=Le;return!(4194176&(Le<<=1))&&(Le=128),e}function Ae(){var e=Te;return!(62914560&(Te<<=1))&&(Te=4194304),e}function Re(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function Ie(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ue(e,n,t,r,l,a){var o=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var i=e.entanglements,u=e.expirationTimes,s=e.hiddenUpdates;for(t=o&~t;0<t;){var c=31-ze(t),f=1<<c;i[c]=0,u[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==r&&Ve(e,r,0),0!==a&&0===l&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~n))}function Ve(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-ze(n);e.entangledLanes|=n,e.entanglements[r]=1073741824|e.entanglements[r]|4194218&t}function je(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var r=31-ze(t),l=1<<r;l&n|e[r]&n&&(e[r]|=n),t&=~l}}function Be(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Qe(){var e=q.p;return 0!==e?e:void 0===(e=window.event)?32:xd(e.type)}function $e(e,n){var t=q.p;try{return q.p=e,n()}finally{q.p=t}}var We=Math.random().toString(36).slice(2),He="__reactFiber$"+We,qe="__reactProps$"+We,Ke="__reactContainer$"+We,Ye="__reactEvents$"+We,Xe="__reactListeners$"+We,Ge="__reactHandles$"+We,Ze="__reactResources$"+We,Je="__reactMarker$"+We;function en(e){delete e[He],delete e[qe],delete e[Ye],delete e[Xe],delete e[Ge]}function nn(e){var n=e[He];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Ke]||t[He]){if(t=n.alternate,null!==n.child||null!==t&&null!==t.child)for(e=Ff(e);null!==e;){if(t=e[He])return t;e=Ff(e)}return n}t=(e=t).parentNode}return null}function tn(e){if(e=e[He]||e[Ke]){var n=e.tag;if(5===n||6===n||13===n||26===n||27===n||3===n)return e}return null}function rn(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e.stateNode;throw Error(c(33))}function ln(e){var n=e[Ze];return n||(n=e[Ze]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function an(e){e[Je]=!0}var on=new Set,un={};function sn(e,n){cn(e,n),cn(e+"Capture",n)}function cn(e,n){for(un[e]=n,e=0;e<n.length;e++)on.add(n[e])}var fn=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pn={},mn={};function hn(e,n,t){if(l=n,ue.call(mn,l)||!ue.call(pn,l)&&(dn.test(l)?mn[l]=!0:(pn[l]=!0,0)))if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":return void e.removeAttribute(n);case"boolean":var r=n.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(n)}e.setAttribute(n,""+t)}var l}function gn(e,n,t){if(null===t)e.removeAttribute(n);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttribute(n,""+t)}}function vn(e,n,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttributeNS(n,t,""+r)}}function yn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function bn(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function kn(e){var n=bn(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),r=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==t&&"function"==typeof t.get&&"function"==typeof t.set){var l=t.get,a=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return l.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function wn(e){e._valueTracker||(e._valueTracker=kn(e))}function Sn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),r="";return e&&(r=bn(e)?e.checked?"true":"false":e.value),(e=r)!==t&&(n.setValue(e),!0)}function En(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}var xn=/[\n"\\]/g;function Cn(e){return e.replace(xn,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function zn(e,n,t,r,l,a,o,i){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=n?"number"===o?(0===n&&""===e.value||e.value!=n)&&(e.value=""+yn(n)):e.value!==""+yn(n)&&(e.value=""+yn(n)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=n?Nn(e,o,yn(n)):null!=t?Nn(e,o,yn(t)):null!=r&&e.removeAttribute("value"),null==l&&null!=a&&(e.defaultChecked=!!a),null!=l&&(e.checked=l&&"function"!=typeof l&&"symbol"!=typeof l),null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.name=""+yn(i):e.removeAttribute("name")}function Pn(e,n,t,r,l,a,o,i){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=n||null!=t){if(("submit"===a||"reset"===a)&&null==n)return;t=null!=t?""+yn(t):"",n=null!=n?""+yn(n):t,i||n===e.value||(e.value=n),e.defaultValue=n}r="function"!=typeof(r=null!=r?r:l)&&"symbol"!=typeof r&&!!r,e.checked=i?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function Nn(e,n,t){"number"===n&&En(e.ownerDocument)===e||e.defaultValue===""+t||(e.defaultValue=""+t)}function Ln(e,n,t,r){if(e=e.options,n){n={};for(var l=0;l<t.length;l++)n["$"+t[l]]=!0;for(t=0;t<e.length;t++)l=n.hasOwnProperty("$"+e[t].value),e[t].selected!==l&&(e[t].selected=l),l&&r&&(e[t].defaultSelected=!0)}else{for(t=""+yn(t),n=null,l=0;l<e.length;l++){if(e[l].value===t)return e[l].selected=!0,void(r&&(e[l].defaultSelected=!0));null!==n||e[l].disabled||(n=e[l])}null!==n&&(n.selected=!0)}}function Tn(e,n,t){null==n||((n=""+yn(n))!==e.value&&(e.value=n),null!=t)?e.defaultValue=null!=t?""+yn(t):"":e.defaultValue!==n&&(e.defaultValue=n)}function _n(e,n,t,r){if(null==n){if(null!=r){if(null!=t)throw Error(c(92));if(H(r)){if(1<r.length)throw Error(c(93));r=r[0]}t=r}null==t&&(t=""),n=t}t=yn(n),e.defaultValue=t,(r=e.textContent)===t&&""!==r&&null!==r&&(e.value=r)}function Fn(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&3===t.nodeType)return void(t.nodeValue=n)}e.textContent=n}var On=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(e,n,t){var r=0===n.indexOf("--");null==t||"boolean"==typeof t||""===t?r?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="":r?e.setProperty(n,t):"number"!=typeof t||0===t||On.has(n)?"float"===n?e.cssFloat=t:e[n]=(""+t).trim():e[n]=t+"px"}function Mn(e,n,t){if(null!=n&&"object"!=typeof n)throw Error(c(62));if(e=e.style,null!=t){for(var r in t)!t.hasOwnProperty(r)||null!=n&&n.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var l in n)r=n[l],n.hasOwnProperty(l)&&t[l]!==r&&Dn(e,l,r)}else for(var a in n)n.hasOwnProperty(a)&&Dn(e,a,n[a])}function An(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),In=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Un(e){return In.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Vn=null;function jn(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Bn=null,Qn=null;function $n(e){var n=tn(e);if(n&&(e=n.stateNode)){var t=e[qe]||null;e:switch(e=n.stateNode,n.type){case"input":if(zn(e,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),n=t.name,"radio"===t.type&&null!=n){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+Cn(""+n)+'"][type="radio"]'),n=0;n<t.length;n++){var r=t[n];if(r!==e&&r.form===e.form){var l=r[qe]||null;if(!l)throw Error(c(90));zn(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(n=0;n<t.length;n++)(r=t[n]).form===e.form&&Sn(r)}break e;case"textarea":Tn(e,t.value,t.defaultValue);break e;case"select":null!=(n=t.value)&&Ln(e,!!t.multiple,n,!1)}}}var Wn=!1;function Hn(e,n,t){if(Wn)return e(n,t);Wn=!0;try{return e(n)}finally{if(Wn=!1,(null!==Bn||null!==Qn)&&(ec(),Bn&&(n=Bn,e=Qn,Qn=Bn=null,$n(n),e)))for(n=0;n<e.length;n++)$n(e[n])}}function qn(e,n){var t=e.stateNode;if(null===t)return null;var r=t[qe]||null;if(null===r)return null;t=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(t&&"function"!=typeof t)throw Error(c(231,n,typeof t));return t}var Kn=!1;if(fn)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){Kn=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch(e){Kn=!1}var Xn=null,Gn=null,Zn=null;function Jn(){if(Zn)return Zn;var e,n,t=Gn,r=t.length,l="value"in Xn?Xn.value:Xn.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===l[a-n];n++);return Zn=l.slice(e,1<n?1-n:void 0)}function et(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function nt(){return!0}function tt(){return!1}function rt(e){function n(n,t,r,l,a){for(var o in this._reactName=n,this._targetInst=r,this.type=t,this.nativeEvent=l,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(null!=l.defaultPrevented?l.defaultPrevented:!1===l.returnValue)?nt:tt,this.isPropagationStopped=tt,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nt)},persist:function(){},isPersistent:nt}),n}var lt,at,ot,it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ut=rt(it),st=M({},it,{view:0,detail:0}),ct=rt(st),ft=M({},st,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:St,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ot&&(ot&&"mousemove"===e.type?(lt=e.screenX-ot.screenX,at=e.screenY-ot.screenY):at=lt=0,ot=e),lt)},movementY:function(e){return"movementY"in e?e.movementY:at}}),dt=rt(ft),pt=rt(M({},ft,{dataTransfer:0})),mt=rt(M({},st,{relatedTarget:0})),ht=rt(M({},it,{animationName:0,elapsedTime:0,pseudoElement:0})),gt=rt(M({},it,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),vt=rt(M({},it,{data:0})),yt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=kt[e])&&!!n[e]}function St(){return wt}var Et=rt(M({},st,{key:function(e){if(e.key){var n=yt[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=et(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bt[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:St,charCode:function(e){return"keypress"===e.type?et(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?et(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xt=rt(M({},ft,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ct=rt(M({},st,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:St})),zt=rt(M({},it,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pt=rt(M({},ft,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Nt=rt(M({},it,{newState:0,oldState:0})),Lt=[9,13,27,32],Tt=fn&&"CompositionEvent"in window,_t=null;fn&&"documentMode"in document&&(_t=document.documentMode);var Ft=fn&&"TextEvent"in window&&!_t,Ot=fn&&(!Tt||_t&&8<_t&&11>=_t),Dt=String.fromCharCode(32),Mt=!1;function At(e,n){switch(e){case"keyup":return-1!==Lt.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rt(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var It=!1;function Ut(e,n){switch(e){case"compositionend":return Rt(n);case"keypress":return 32!==n.which?null:(Mt=!0,Dt);case"textInput":return(e=n.data)===Dt&&Mt?null:e;default:return null}}function Vt(e,n){if(It)return"compositionend"===e||!Tt&&At(e,n)?(e=Jn(),Zn=Gn=Xn=null,It=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ot&&"ko"!==n.locale?null:n.data}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!jt[e.type]:"textarea"===n}function Qt(e,n,t,r){Bn?Qn?Qn.push(r):Qn=[r]:Bn=r,0<(n=nf(n,"onChange")).length&&(t=new ut("onChange","change",null,t,r),e.push({event:t,listeners:n}))}var $t=null,Wt=null;function Ht(e){qc(e,0)}function qt(e){if(Sn(rn(e)))return e}function Kt(e,n){if("change"===e)return n}var Yt=!1;if(fn){var Xt;if(fn){var Gt="oninput"in document;if(!Gt){var Zt=document.createElement("div");Zt.setAttribute("oninput","return;"),Gt="function"==typeof Zt.oninput}Xt=Gt}else Xt=!1;Yt=Xt&&(!document.documentMode||9<document.documentMode)}function Jt(){$t&&($t.detachEvent("onpropertychange",er),Wt=$t=null)}function er(e){if("value"===e.propertyName&&qt(Wt)){var n=[];Qt(n,Wt,e,jn(e)),Hn(Ht,n)}}function nr(e,n,t){"focusin"===e?(Jt(),Wt=t,($t=n).attachEvent("onpropertychange",er)):"focusout"===e&&Jt()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qt(Wt)}function rr(e,n){if("click"===e)return qt(n)}function lr(e,n){if("input"===e||"change"===e)return qt(n)}var ar="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function or(e,n){if(ar(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var l=t[r];if(!ue.call(n,l)||!ar(e[l],n[l]))return!1}return!0}function ir(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,n){var t,r=ir(e);for(e=0;r;){if(3===r.nodeType){if(t=e+r.textContent.length,e<=n&&t>=n)return{node:r,offset:n-e};e=t}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ir(r)}}function sr(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?sr(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function cr(e){for(var n=En((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);n instanceof e.HTMLIFrameElement;){try{var t="string"==typeof n.contentWindow.location.href}catch(e){t=!1}if(!t)break;n=En((e=n.contentWindow).document)}return n}function fr(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}function dr(e,n){var t=cr(n);n=e.focusedElem;var r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var l=n.textContent.length,a=Math.min(r.start,l);r=void 0===r.end?a:Math.min(r.end,l),!t.extend&&a>r&&(l=r,r=a,a=l),l=ur(n,a);var o=ur(n,r);l&&o&&(1!==t.rangeCount||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(l.node,l.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pr=fn&&"documentMode"in document&&11>=document.documentMode,mr=null,hr=null,gr=null,vr=!1;function yr(e,n,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;vr||null==mr||mr!==En(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&or(gr,r)||(gr=r,0<(r=nf(hr,"onSelect")).length&&(n=new ut("onSelect","select",null,n,t),e.push({event:n,listeners:r}),n.target=mr)))}function br(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},wr={},Sr={};function Er(e){if(wr[e])return wr[e];if(!kr[e])return e;var n,t=kr[e];for(n in t)if(t.hasOwnProperty(n)&&n in Sr)return wr[e]=t[n];return e}fn&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var xr=Er("animationend"),Cr=Er("animationiteration"),zr=Er("animationstart"),Pr=Er("transitionrun"),Nr=Er("transitionstart"),Lr=Er("transitioncancel"),Tr=Er("transitionend"),_r=new Map,Fr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Or(e,n){_r.set(e,n),sn(n,[e])}var Dr=[],Mr=0,Ar=0;function Rr(){for(var e=Mr,n=Ar=Mr=0;n<e;){var t=Dr[n];Dr[n++]=null;var r=Dr[n];Dr[n++]=null;var l=Dr[n];Dr[n++]=null;var a=Dr[n];if(Dr[n++]=null,null!==r&&null!==l){var o=r.pending;null===o?l.next=l:(l.next=o.next,o.next=l),r.pending=l}0!==a&&jr(t,l,a)}}function Ir(e,n,t,r){Dr[Mr++]=e,Dr[Mr++]=n,Dr[Mr++]=t,Dr[Mr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ur(e,n,t,r){return Ir(e,n,t,r),Br(e)}function Vr(e,n){return Ir(e,null,null,n),Br(e)}function jr(e,n,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t);for(var l=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(r=a.alternate)&&(r.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(l=!0)),e=a,a=a.return;l&&null!==n&&3===e.tag&&(a=e.stateNode,l=31-ze(t),null===(e=(a=a.hiddenUpdates)[l])?a[l]=[n]:e.push(n),n.lane=536870912|t)}function Br(e){if(50<$s)throw $s=0,Ws=null,Error(c(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var Qr={},$r=new WeakMap;function Wr(e,n){if("object"==typeof e&&null!==e){var t=$r.get(e);return void 0!==t?t:(n={value:e,source:n,stack:V(n)},$r.set(e,n),n)}return{value:e,source:n,stack:V(n)}}var Hr=[],qr=0,Kr=null,Yr=0,Xr=[],Gr=0,Zr=null,Jr=1,el="";function nl(e,n){Hr[qr++]=Yr,Hr[qr++]=Kr,Kr=e,Yr=n}function tl(e,n,t){Xr[Gr++]=Jr,Xr[Gr++]=el,Xr[Gr++]=Zr,Zr=e;var r=Jr;e=el;var l=32-ze(r)-1;r&=~(1<<l),t+=1;var a=32-ze(n)+l;if(30<a){var o=l-l%5;a=(r&(1<<o)-1).toString(32),r>>=o,l-=o,Jr=1<<32-ze(n)+l|t<<l|r,el=a+e}else Jr=1<<a|t<<l|r,el=e}function rl(e){null!==e.return&&(nl(e,1),tl(e,1,0))}function ll(e){for(;e===Kr;)Kr=Hr[--qr],Hr[qr]=null,Yr=Hr[--qr],Hr[qr]=null;for(;e===Zr;)Zr=Xr[--Gr],Xr[Gr]=null,el=Xr[--Gr],Xr[Gr]=null,Jr=Xr[--Gr],Xr[Gr]=null}var al=null,ol=null,il=!1,ul=null,sl=!1,cl=Error(c(519));function fl(e){throw gl(Wr(Error(c(418,"")),e)),cl}function dl(e){var n=e.stateNode,t=e.type,r=e.memoizedProps;switch(n[He]=e,n[qe]=r,t){case"dialog":Kc("cancel",n),Kc("close",n);break;case"iframe":case"object":case"embed":Kc("load",n);break;case"video":case"audio":for(t=0;t<Wc.length;t++)Kc(Wc[t],n);break;case"source":Kc("error",n);break;case"img":case"image":case"link":Kc("error",n),Kc("load",n);break;case"details":Kc("toggle",n);break;case"input":Kc("invalid",n),Pn(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),wn(n);break;case"select":Kc("invalid",n);break;case"textarea":Kc("invalid",n),_n(n,r.value,r.defaultValue,r.children),wn(n)}"string"!=typeof(t=r.children)&&"number"!=typeof t&&"bigint"!=typeof t||n.textContent===""+t||!0===r.suppressHydrationWarning||uf(n.textContent,t)?(null!=r.popover&&(Kc("beforetoggle",n),Kc("toggle",n)),null!=r.onScroll&&Kc("scroll",n),null!=r.onScrollEnd&&Kc("scrollend",n),null!=r.onClick&&(n.onclick=sf),n=!0):n=!1,n||fl(e)}function pl(e){for(al=e.return;al;)switch(al.tag){case 3:case 27:return void(sl=!0);case 5:case 13:return void(sl=!1);default:al=al.return}}function ml(e){if(e!==al)return!1;if(!il)return pl(e),il=!0,!1;var n,t=!1;if((n=3!==e.tag&&27!==e.tag)&&((n=5===e.tag)&&(n=!("form"!==(n=e.type)&&"button"!==n)||bf(e.type,e.memoizedProps)),n=!n),n&&(t=!0),t&&ol&&fl(e),pl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType)if("/$"===(n=e.data)){if(0===t){ol=_f(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++;e=e.nextSibling}ol=null}}else ol=al?_f(e.stateNode.nextSibling):null;return!0}function hl(){ol=al=null,il=!1}function gl(e){null===ul?ul=[e]:ul.push(e)}var vl=Error(c(460)),yl=Error(c(474)),bl={then:function(){}};function kl(e){return"fulfilled"===(e=e.status)||"rejected"===e}function wl(){}function Sl(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(wl,wl),n=t),n.status){case"fulfilled":return n.value;case"rejected":if((e=n.reason)===vl)throw Error(c(483));throw e;default:if("string"==typeof n.status)n.then(wl,wl);else{if(null!==(e=vs)&&100<e.shellSuspendCounter)throw Error(c(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":if((e=n.reason)===vl)throw Error(c(483));throw e}throw El=n,vl}}var El=null;function xl(){if(null===El)throw Error(c(459));var e=El;return El=null,e}var Cl=null,zl=0;function Pl(e){var n=zl;return zl+=1,null===Cl&&(Cl=[]),Sl(Cl,e,n)}function Nl(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function Ll(e,n){if(n.$$typeof===d)throw Error(c(525));throw e=Object.prototype.toString.call(n),Error(c(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Tl(e){return(0,e._init)(e._payload)}function _l(e){function n(n,t){if(e){var r=n.deletions;null===r?(n.deletions=[t],n.flags|=16):r.push(t)}}function t(t,r){if(!e)return null;for(;null!==r;)n(t,r),r=r.sibling;return null}function r(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function l(e,n){return(e=Ju(e,n)).index=0,e.sibling=null,e}function a(n,t,r){return n.index=r,e?null!==(r=n.alternate)?(r=r.index)<t?(n.flags|=33554434,t):r:(n.flags|=33554434,t):(n.flags|=1048576,t)}function o(n){return e&&null===n.alternate&&(n.flags|=33554434),n}function i(e,n,t,r){return null===n||6!==n.tag?((n=ls(t,e.mode,r)).return=e,n):((n=l(n,t)).return=e,n)}function u(e,n,t,r){var a=t.type;return a===h?f(e,n,t.props.children,r,t.key):null!==n&&(n.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===C&&Tl(a)===n.type)?(Nl(n=l(n,t.props),t),n.return=e,n):(Nl(n=ns(t.type,t.key,t.props,null,e.mode,r),t),n.return=e,n)}function s(e,n,t,r){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=as(t,e.mode,r)).return=e,n):((n=l(n,t.children||[])).return=e,n)}function f(e,n,t,r,a){return null===n||7!==n.tag?((n=ts(t,e.mode,r,a)).return=e,n):((n=l(n,t)).return=e,n)}function d(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=ls(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return Nl(t=ns(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case m:return(n=as(n,e.mode,t)).return=e,n;case C:return d(e,n=(0,n._init)(n._payload),t)}if(H(n)||L(n))return(n=ts(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return d(e,Pl(n),t);if(n.$$typeof===k)return d(e,Vi(e,n),t);Ll(e,n)}return null}function g(e,n,t,r){var l=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==l?null:i(e,n,""+t,r);if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return t.key===l?u(e,n,t,r):null;case m:return t.key===l?s(e,n,t,r):null;case C:return g(e,n,t=(l=t._init)(t._payload),r)}if(H(t)||L(t))return null!==l?null:f(e,n,t,r,null);if("function"==typeof t.then)return g(e,n,Pl(t),r);if(t.$$typeof===k)return g(e,n,Vi(e,t),r);Ll(e,t)}return null}function v(e,n,t,r,l){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return i(n,e=e.get(t)||null,""+r,l);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return u(n,e=e.get(null===r.key?t:r.key)||null,r,l);case m:return s(n,e=e.get(null===r.key?t:r.key)||null,r,l);case C:return v(e,n,t,r=(0,r._init)(r._payload),l)}if(H(r)||L(r))return f(n,e=e.get(t)||null,r,l,null);if("function"==typeof r.then)return v(e,n,t,Pl(r),l);if(r.$$typeof===k)return v(e,n,t,Vi(n,r),l);Ll(n,r)}return null}function y(l,o,i,u){for(var s=null,c=null,f=o,p=o=0,m=null;null!==f&&p<i.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var h=g(l,f,i[p],u);if(null===h){null===f&&(f=m);break}e&&f&&null===h.alternate&&n(l,f),o=a(h,o,p),null===c?s=h:c.sibling=h,c=h,f=m}if(p===i.length)return t(l,f),il&&nl(l,p),s;if(null===f){for(;p<i.length;p++)null!==(f=d(l,i[p],u))&&(o=a(f,o,p),null===c?s=f:c.sibling=f,c=f);return il&&nl(l,p),s}for(f=r(f);p<i.length;p++)null!==(m=v(f,l,p,i[p],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),o=a(m,o,p),null===c?s=m:c.sibling=m,c=m);return e&&f.forEach(function(e){return n(l,e)}),il&&nl(l,p),s}function b(l,o,i,u){if(null==i)throw Error(c(151));for(var s=null,f=null,p=o,m=o=0,h=null,y=i.next();null!==p&&!y.done;m++,y=i.next()){p.index>m?(h=p,p=null):h=p.sibling;var b=g(l,p,y.value,u);if(null===b){null===p&&(p=h);break}e&&p&&null===b.alternate&&n(l,p),o=a(b,o,m),null===f?s=b:f.sibling=b,f=b,p=h}if(y.done)return t(l,p),il&&nl(l,m),s;if(null===p){for(;!y.done;m++,y=i.next())null!==(y=d(l,y.value,u))&&(o=a(y,o,m),null===f?s=y:f.sibling=y,f=y);return il&&nl(l,m),s}for(p=r(p);!y.done;m++,y=i.next())null!==(y=v(p,l,m,y.value,u))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=a(y,o,m),null===f?s=y:f.sibling=y,f=y);return e&&p.forEach(function(e){return n(l,e)}),il&&nl(l,m),s}function w(e,r,a,i){if("object"==typeof a&&null!==a&&a.type===h&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case p:e:{for(var u=a.key;null!==r;){if(r.key===u){if((u=a.type)===h){if(7===r.tag){t(e,r.sibling),(i=l(r,a.props.children)).return=e,e=i;break e}}else if(r.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===C&&Tl(u)===r.type){t(e,r.sibling),Nl(i=l(r,a.props),a),i.return=e,e=i;break e}t(e,r);break}n(e,r),r=r.sibling}a.type===h?((i=ts(a.props.children,e.mode,i,a.key)).return=e,e=i):(Nl(i=ns(a.type,a.key,a.props,null,e.mode,i),a),i.return=e,e=i)}return o(e);case m:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){t(e,r.sibling),(i=l(r,a.children||[])).return=e,e=i;break e}t(e,r);break}n(e,r),r=r.sibling}(i=as(a,e.mode,i)).return=e,e=i}return o(e);case C:return w(e,r,a=(u=a._init)(a._payload),i)}if(H(a))return y(e,r,a,i);if(L(a)){if("function"!=typeof(u=L(a)))throw Error(c(150));return b(e,r,a=u.call(a),i)}if("function"==typeof a.then)return w(e,r,Pl(a),i);if(a.$$typeof===k)return w(e,r,Vi(e,a),i);Ll(e,a)}return"string"==typeof a&&""!==a||"number"==typeof a||"bigint"==typeof a?(a=""+a,null!==r&&6===r.tag?(t(e,r.sibling),(i=l(r,a)).return=e,e=i):(t(e,r),(i=ls(a,e.mode,i)).return=e,e=i),o(e)):t(e,r)}return function(e,n,t,r){try{zl=0;var l=w(e,n,t,r);return Cl=null,l}catch(n){if(n===vl)throw n;var a=Gu(29,n,null,e.mode);return a.lanes=r,a.return=e,a}}}var Fl=_l(!0),Ol=_l(!1),Dl=G(null),Ml=G(0);function Al(e,n){J(Ml,e=Cs),J(Dl,n),Cs=e|n.baseLanes}function Rl(){J(Ml,Cs),J(Dl,Dl.current)}function Il(){Cs=Ml.current,Z(Dl),Z(Ml)}var Ul=G(null),Vl=null;function jl(e){var n=e.alternate;J(Wl,1&Wl.current),J(Ul,e),null===Vl&&(null===n||null!==Dl.current||null!==n.memoizedState)&&(Vl=e)}function Bl(e){if(22===e.tag){if(J(Wl,Wl.current),J(Ul,e),null===Vl){var n=e.alternate;null!==n&&null!==n.memoizedState&&(Vl=e)}}else Ql()}function Ql(){J(Wl,Wl.current),J(Ul,Ul.current)}function $l(e){Z(Ul),Vl===e&&(Vl=null),Z(Wl)}var Wl=G(0);function Hl(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||"$?"===t.data||"$!"===t.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ql="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},Kl=i.unstable_scheduleCallback,Yl=i.unstable_NormalPriority,Xl={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gl(){return{controller:new ql,data:new Map,refCount:0}}function Zl(e){e.refCount--,0===e.refCount&&Kl(Yl,function(){e.controller.abort()})}var Jl=null,ea=0,na=0,ta=null;function ra(e,n){if(null===Jl){var t=Jl=[];ea=0,na=Uc(),ta={status:"pending",value:void 0,then:function(e){t.push(e)}}}return ea++,n.then(la,la),n}function la(){if(0===--ea&&null!==Jl){null!==ta&&(ta.status="fulfilled");var e=Jl;Jl=null,na=0,ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var aa=D.S;D.S=function(e,n){"object"==typeof n&&null!==n&&"function"==typeof n.then&&ra(0,n),null!==aa&&aa(e,n)};var oa=G(null);function ia(){var e=oa.current;return null!==e?e:vs.pooledCache}function ua(e,n){J(oa,null===n?oa.current:n.pool)}function sa(){var e=ia();return null===e?null:{parent:Xl._currentValue,pool:e}}var ca=0,fa=null,da=null,pa=null,ma=!1,ha=!1,ga=!1,va=0,ya=0,ba=null,ka=0;function wa(){throw Error(c(321))}function Sa(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!ar(e[t],n[t]))return!1;return!0}function Ea(e,n,t,r,l,a){return ca=a,fa=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=null===e||null===e.memoizedState?Io:Uo,ga=!1,a=t(r,l),ga=!1,ha&&(a=Ca(n,t,r,l)),xa(e),a}function xa(e){D.H=Ro;var n=null!==da&&null!==da.next;if(ca=0,pa=da=fa=null,ma=!1,ya=0,ba=null,n)throw Error(c(300));null===e||ri||null!==(e=e.dependencies)&&Ri(e)&&(ri=!0)}function Ca(e,n,t,r){fa=e;var l=0;do{if(ha&&(ba=null),ya=0,ha=!1,25<=l)throw Error(c(301));if(l+=1,pa=da=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=Vo,a=n(t,r)}while(ha);return a}function za(){var e=D.H,n=e.useState()[0];return n="function"==typeof n.then?Fa(n):n,e=e.useState()[0],(null!==da?da.memoizedState:null)!==e&&(fa.flags|=1024),n}function Pa(){var e=0!==va;return va=0,e}function Na(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function La(e){if(ma){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}ma=!1}ca=0,pa=da=fa=null,ha=!1,ya=va=0,ba=null}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===pa?fa.memoizedState=pa=e:pa=pa.next=e,pa}function _a(){if(null===da){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=da.next;var n=null===pa?fa.memoizedState:pa.next;if(null!==n)pa=n,da=e;else{if(null===e){if(null===fa.alternate)throw Error(c(467));throw Error(c(310))}e={memoizedState:(da=e).memoizedState,baseState:da.baseState,baseQueue:da.baseQueue,queue:da.queue,next:null},null===pa?fa.memoizedState=pa=e:pa=pa.next=e}return pa}function Fa(e){var n=ya;return ya+=1,null===ba&&(ba=[]),e=Sl(ba,e,n),n=fa,null===(null===pa?n.memoizedState:pa.next)&&(n=n.alternate,D.H=null===n||null===n.memoizedState?Io:Uo),e}function Oa(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Fa(e);if(e.$$typeof===k)return Ui(e)}throw Error(c(438,String(e)))}function Da(e){var n=null,t=fa.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var r=fa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(n={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t={lastEffect:null,events:null,stores:null,memoCache:null},fa.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),r=0;r<e;r++)t[r]=P;return n.index++,t}function Ma(e,n){return"function"==typeof n?n(e):n}function Aa(e){return Ra(_a(),da,e)}function Ra(e,n,t){var r=e.queue;if(null===r)throw Error(c(311));r.lastRenderedReducer=t;var l=e.baseQueue,a=r.pending;if(null!==a){if(null!==l){var o=l.next;l.next=a.next,a.next=o}n.baseQueue=l=a,r.pending=null}if(a=e.baseState,null===l)e.memoizedState=a;else{var i=o=null,u=null,s=n=l.next,f=!1;do{var d=-536870913&s.lane;if(d!==s.lane?(bs&d)===d:(ca&d)===d){var p=s.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),d===na&&(f=!0);else{if((ca&p)===p){s=s.next,p===na&&(f=!0);continue}d={lane:0,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===u?(i=u=d,o=a):u=u.next=d,fa.lanes|=p,Ps|=p}d=s.action,ga&&t(a,d),a=s.hasEagerState?s.eagerState:t(a,d)}else p={lane:d,revertLane:s.revertLane,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null},null===u?(i=u=p,o=a):u=u.next=p,fa.lanes|=d,Ps|=d;s=s.next}while(null!==s&&s!==n);if(null===u?o=a:u.next=i,!ar(a,e.memoizedState)&&(ri=!0,f&&null!==(t=ta)))throw t;e.memoizedState=a,e.baseState=o,e.baseQueue=u,r.lastRenderedState=a}return null===l&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ia(e){var n=_a(),t=n.queue;if(null===t)throw Error(c(311));t.lastRenderedReducer=e;var r=t.dispatch,l=t.pending,a=n.memoizedState;if(null!==l){t.pending=null;var o=l=l.next;do{a=e(a,o.action),o=o.next}while(o!==l);ar(a,n.memoizedState)||(ri=!0),n.memoizedState=a,null===n.baseQueue&&(n.baseState=a),t.lastRenderedState=a}return[a,r]}function Ua(e,n,t){var r=fa,l=_a(),a=il;if(a){if(void 0===t)throw Error(c(407));t=t()}else t=n();var o=!ar((da||l).memoizedState,t);if(o&&(l.memoizedState=t,ri=!0),l=l.queue,co(Ba.bind(null,r,l,e),[e]),l.getSnapshot!==n||o||null!==pa&&1&pa.memoizedState.tag){if(r.flags|=2048,ao(9,ja.bind(null,r,l,t,n),{destroy:void 0},null),null===vs)throw Error(c(349));a||60&ca||Va(r,n,t)}return t}function Va(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=fa.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},fa.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function ja(e,n,t,r){n.value=t,n.getSnapshot=r,Qa(n)&&$a(e)}function Ba(e,n,t){return t(function(){Qa(n)&&$a(e)})}function Qa(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!ar(e,t)}catch(e){return!0}}function $a(e){var n=Vr(e,2);null!==n&&Ks(n,e,2)}function Wa(e){var n=Ta();if("function"==typeof e){var t=e;if(e=t(),ga){Ce(!0);try{t()}finally{Ce(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:e},n}function Ha(e,n,t,r){return e.baseState=t,Ra(e,da,"function"==typeof r?r:Ma)}function qa(e,n,t,r,l){if(Do(e))throw Error(c(485));if(null!==(e=n.action)){var a={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?t(!0):a.isTransition=!1,r(a),null===(t=n.pending)?(a.next=n.pending=a,Ka(n,a)):(a.next=t.next,n.pending=t.next=a)}}function Ka(e,n){var t=n.action,r=n.payload,l=e.state;if(n.isTransition){var a=D.T,o={};D.T=o;try{var i=t(l,r),u=D.S;null!==u&&u(o,i),Ya(e,n,i)}catch(t){Ga(e,n,t)}finally{D.T=a}}else try{Ya(e,n,a=t(l,r))}catch(t){Ga(e,n,t)}}function Ya(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){Xa(e,n,t)},function(t){return Ga(e,n,t)}):Xa(e,n,t)}function Xa(e,n,t){n.status="fulfilled",n.value=t,Za(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,Ka(e,t)))}function Ga(e,n,t){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{n.status="rejected",n.reason=t,Za(n),n=n.next}while(n!==r)}e.action=null}function Za(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ja(e,n){return n}function eo(e,n){if(il){var t=vs.formState;if(null!==t){e:{var r=fa;if(il){if(ol){n:{for(var l=ol,a=sl;8!==l.nodeType;){if(!a){l=null;break n}if(null===(l=_f(l.nextSibling))){l=null;break n}}l="F!"===(a=l.data)||"F"===a?l:null}if(l){ol=_f(l.nextSibling),r="F!"===l.data;break e}}fl(r)}r=!1}r&&(n=t[0])}}return(t=Ta()).memoizedState=t.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:n},t.queue=r,t=_o.bind(null,fa,r),r.dispatch=t,r=Wa(!1),a=Oo.bind(null,fa,!1,r.queue),l={state:n,dispatch:null,action:e,pending:null},(r=Ta()).queue=l,t=qa.bind(null,fa,l,a,t),l.dispatch=t,r.memoizedState=e,[n,t,!1]}function no(e){return to(_a(),da,e)}function to(e,n,t){n=Ra(e,n,Ja)[0],e=Aa(Ma)[0],n="object"==typeof n&&null!==n&&"function"==typeof n.then?Fa(n):n;var r=_a(),l=r.queue,a=l.dispatch;return t!==r.memoizedState&&(fa.flags|=2048,ao(9,ro.bind(null,l,t),{destroy:void 0},null)),[n,a,e]}function ro(e,n){e.action=n}function lo(e){var n=_a(),t=da;if(null!==t)return to(n,t,e);_a(),n=n.memoizedState;var r=(t=_a()).queue.dispatch;return t.memoizedState=e,[n,r,!1]}function ao(e,n,t,r){return e={tag:e,create:n,inst:t,deps:r,next:null},null===(n=fa.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},fa.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(r=t.next,t.next=e,e.next=r,n.lastEffect=e),e}function oo(){return _a().memoizedState}function io(e,n,t,r){var l=Ta();fa.flags|=e,l.memoizedState=ao(1|n,t,{destroy:void 0},void 0===r?null:r)}function uo(e,n,t,r){var l=_a();r=void 0===r?null:r;var a=l.memoizedState.inst;null!==da&&null!==r&&Sa(r,da.memoizedState.deps)?l.memoizedState=ao(n,t,a,r):(fa.flags|=e,l.memoizedState=ao(1|n,t,a,r))}function so(e,n){io(8390656,8,e,n)}function co(e,n){uo(2048,8,e,n)}function fo(e,n){return uo(4,2,e,n)}function po(e,n){return uo(4,4,e,n)}function mo(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function ho(e,n,t){t=null!=t?t.concat([e]):null,uo(4,4,mo.bind(null,n,e),t)}function go(){}function vo(e,n){var t=_a();n=void 0===n?null:n;var r=t.memoizedState;return null!==n&&Sa(n,r[1])?r[0]:(t.memoizedState=[e,n],e)}function yo(e,n){var t=_a();n=void 0===n?null:n;var r=t.memoizedState;if(null!==n&&Sa(n,r[1]))return r[0];if(r=e(),ga){Ce(!0);try{e()}finally{Ce(!1)}}return t.memoizedState=[r,n],r}function bo(e,n,t){return void 0===t||1073741824&ca?e.memoizedState=n:(e.memoizedState=t,e=qs(),fa.lanes|=e,Ps|=e,t)}function ko(e,n,t,r){return ar(t,n)?t:null!==Dl.current?(e=bo(e,t,r),ar(e,n)||(ri=!0),e):42&ca?(e=qs(),fa.lanes|=e,Ps|=e,n):(ri=!0,e.memoizedState=t)}function wo(e,n,t,r,l){var a=q.p;q.p=0!==a&&8>a?a:8;var o,i,u,s=D.T,c={};D.T=c,Oo(e,!1,n,t);try{var f=l(),d=D.S;if(null!==d&&d(c,f),null!==f&&"object"==typeof f&&"function"==typeof f.then)Fo(e,n,(o=r,i=[],u={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},f.then(function(){u.status="fulfilled",u.value=o;for(var e=0;e<i.length;e++)(0,i[e])(o)},function(e){for(u.status="rejected",u.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),u),Hs());else Fo(e,n,r,Hs())}catch(t){Fo(e,n,{then:function(){},status:"rejected",reason:t},Hs())}finally{q.p=a,D.T=s}}function So(){}function Eo(e,n,t,r){if(5!==e.tag)throw Error(c(476));var l=xo(e).queue;wo(e,l,n,K,null===t?So:function(){return Co(e),t(r)})}function xo(e){var n=e.memoizedState;if(null!==n)return n;var t={};return(n={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:K},next:null}).next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function Co(e){Fo(e,xo(e).next.queue,{},Hs())}function zo(){return Ui(sd)}function Po(){return _a().memoizedState}function No(){return _a().memoizedState}function Lo(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Hs(),r=Hi(n,e=Wi(t),t);return null!==r&&(Ks(r,n,t),qi(r,n,t)),n={cache:Gl()},void(e.payload=n)}n=n.return}}function To(e,n,t){var r=Hs();t={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Do(e)?Mo(n,t):null!==(t=Ur(e,n,t,r))&&(Ks(t,e,r),Ao(t,n,r))}function _o(e,n,t){Fo(e,n,t,Hs())}function Fo(e,n,t,r){var l={lane:r,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Do(e))Mo(n,l);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var o=n.lastRenderedState,i=a(o,t);if(l.hasEagerState=!0,l.eagerState=i,ar(i,o))return Ir(e,n,l,0),null===vs&&Rr(),!1}catch(e){}if(null!==(t=Ur(e,n,l,r)))return Ks(t,e,r),Ao(t,n,r),!0}return!1}function Oo(e,n,t,r){if(r={lane:2,revertLane:Uc(),action:r,hasEagerState:!1,eagerState:null,next:null},Do(e)){if(n)throw Error(c(479))}else null!==(n=Ur(e,t,r,2))&&Ks(n,e,2)}function Do(e){var n=e.alternate;return e===fa||null!==n&&n===fa}function Mo(e,n){ha=ma=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ao(e,n,t){if(4194176&t){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,je(e,t)}}var Ro={readContext:Ui,use:Oa,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useLayoutEffect:wa,useInsertionEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useSyncExternalStore:wa,useId:wa};Ro.useCacheRefresh=wa,Ro.useMemoCache=wa,Ro.useHostTransitionStatus=wa,Ro.useFormState=wa,Ro.useActionState=wa,Ro.useOptimistic=wa;var Io={readContext:Ui,use:Oa,useCallback:function(e,n){return Ta().memoizedState=[e,void 0===n?null:n],e},useContext:Ui,useEffect:so,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,io(4194308,4,mo.bind(null,n,e),t)},useLayoutEffect:function(e,n){return io(4194308,4,e,n)},useInsertionEffect:function(e,n){io(4,2,e,n)},useMemo:function(e,n){var t=Ta();n=void 0===n?null:n;var r=e();if(ga){Ce(!0);try{e()}finally{Ce(!1)}}return t.memoizedState=[r,n],r},useReducer:function(e,n,t){var r=Ta();if(void 0!==t){var l=t(n);if(ga){Ce(!0);try{t(n)}finally{Ce(!1)}}}else l=n;return r.memoizedState=r.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},r.queue=e,e=e.dispatch=To.bind(null,fa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:function(e){var n=(e=Wa(e)).queue,t=_o.bind(null,fa,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:go,useDeferredValue:function(e,n){return bo(Ta(),e,n)},useTransition:function(){var e=Wa(!1);return e=wo.bind(null,fa,e.queue,!0,!1),Ta().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var r=fa,l=Ta();if(il){if(void 0===t)throw Error(c(407));t=t()}else{if(t=n(),null===vs)throw Error(c(349));60&bs||Va(r,n,t)}l.memoizedState=t;var a={value:t,getSnapshot:n};return l.queue=a,so(Ba.bind(null,r,a,e),[e]),r.flags|=2048,ao(9,ja.bind(null,r,a,t,n),{destroy:void 0},null),t},useId:function(){var e=Ta(),n=vs.identifierPrefix;if(il){var t=el;n=":"+n+"R"+(t=(Jr&~(1<<32-ze(Jr)-1)).toString(32)+t),0<(t=va++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=ka++).toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return Ta().memoizedState=Lo.bind(null,fa)}};Io.useMemoCache=Da,Io.useHostTransitionStatus=zo,Io.useFormState=eo,Io.useActionState=eo,Io.useOptimistic=function(e){var n=Ta();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=Oo.bind(null,fa,!0,t),t.dispatch=n,[e,n]};var Uo={readContext:Ui,use:Oa,useCallback:vo,useContext:Ui,useEffect:co,useImperativeHandle:ho,useInsertionEffect:fo,useLayoutEffect:po,useMemo:yo,useReducer:Aa,useRef:oo,useState:function(){return Aa(Ma)},useDebugValue:go,useDeferredValue:function(e,n){return ko(_a(),da.memoizedState,e,n)},useTransition:function(){var e=Aa(Ma)[0],n=_a().memoizedState;return["boolean"==typeof e?e:Fa(e),n]},useSyncExternalStore:Ua,useId:Po};Uo.useCacheRefresh=No,Uo.useMemoCache=Da,Uo.useHostTransitionStatus=zo,Uo.useFormState=no,Uo.useActionState=no,Uo.useOptimistic=function(e,n){return Ha(_a(),0,e,n)};var Vo={readContext:Ui,use:Oa,useCallback:vo,useContext:Ui,useEffect:co,useImperativeHandle:ho,useInsertionEffect:fo,useLayoutEffect:po,useMemo:yo,useReducer:Ia,useRef:oo,useState:function(){return Ia(Ma)},useDebugValue:go,useDeferredValue:function(e,n){var t=_a();return null===da?bo(t,e,n):ko(t,da.memoizedState,e,n)},useTransition:function(){var e=Ia(Ma)[0],n=_a().memoizedState;return["boolean"==typeof e?e:Fa(e),n]},useSyncExternalStore:Ua,useId:Po};function jo(e,n,t,r){t=null==(t=t(r,n=e.memoizedState))?n:M({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}Vo.useCacheRefresh=No,Vo.useMemoCache=Da,Vo.useHostTransitionStatus=zo,Vo.useFormState=lo,Vo.useActionState=lo,Vo.useOptimistic=function(e,n){var t=_a();return null!==da?Ha(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])};var Bo={isMounted:function(e){return!!(e=e._reactInternals)&&j(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var r=Hs(),l=Wi(r);l.payload=n,null!=t&&(l.callback=t),null!==(n=Hi(e,l,r))&&(Ks(n,e,r),qi(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var r=Hs(),l=Wi(r);l.tag=1,l.payload=n,null!=t&&(l.callback=t),null!==(n=Hi(e,l,r))&&(Ks(n,e,r),qi(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Hs(),r=Wi(t);r.tag=2,null!=n&&(r.callback=n),null!==(n=Hi(e,r,t))&&(Ks(n,e,t),qi(n,e,t))}};function Qo(e,n,t,r,l,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!n.prototype||!n.prototype.isPureReactComponent||(!or(t,r)||!or(l,a))}function $o(e,n,t,r){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,r),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,r),n.state!==e&&Bo.enqueueReplaceState(n,n.state,null)}function Wo(e,n){var t=n;if("ref"in n)for(var r in t={},n)"ref"!==r&&(t[r]=n[r]);if(e=e.defaultProps)for(var l in t===n&&(t=M({},t)),e)void 0===t[l]&&(t[l]=e[l]);return t}var Ho="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function qo(e){Ho(e)}function Ko(e){console.error(e)}function Yo(e){Ho(e)}function Xo(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function Go(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Zo(e,n,t){return(t=Wi(t)).tag=3,t.payload={element:null},t.callback=function(){Xo(e,n)},t}function Jo(e){return(e=Wi(e)).tag=3,e}function ei(e,n,t,r){var l=t.type.getDerivedStateFromError;if("function"==typeof l){var a=r.value;e.payload=function(){return l(a)},e.callback=function(){Go(n,t,r)}}var o=t.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Go(n,t,r),"function"!=typeof l&&(null===Is?Is=new Set([this]):Is.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}function ni(e,n,t,r,l){if(t.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(n=t.alternate)&&Ai(n,t,l,!0),null!==(t=Ul.current)){switch(t.tag){case 13:return null===Vl?oc():null===t.alternate&&0===zs&&(zs=3),t.flags&=-257,t.flags|=65536,t.lanes=l,r===bl?t.flags|=16384:(null===(n=t.updateQueue)?t.updateQueue=new Set([r]):n.add(r),Sc(e,r,l)),!1;case 22:return t.flags|=65536,r===bl?t.flags|=16384:(null===(n=t.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},t.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([r]):t.add(r),Sc(e,r,l)),!1}throw Error(c(435,t.tag))}return Sc(e,r,l),oc(),!1}if(il)return null!==(n=Ul.current)?(!(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=l,r!==cl&&gl(Wr(e=Error(c(422),{cause:r}),t))):(r!==cl&&gl(Wr(n=Error(c(423),{cause:r}),t)),(e=e.current.alternate).flags|=65536,l&=-l,e.lanes|=l,r=Wr(r,t),Ki(e,l=Zo(e.stateNode,r,l)),4!==zs&&(zs=2)),!1;var a=Error(c(520),{cause:r});if(a=Wr(a,t),null===Fs?Fs=[a]:Fs.push(a),4!==zs&&(zs=2),null===n)return!0;r=Wr(r,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=l&-l,t.lanes|=e,Ki(t,e=Zo(t.stateNode,r,e)),!1;case 1:if(n=t.type,a=t.stateNode,!(128&t.flags||"function"!=typeof n.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Is&&Is.has(a))))return t.flags|=65536,l&=-l,t.lanes|=l,ei(l=Jo(l),e,t,r),Ki(t,l),!1}t=t.return}while(null!==t);return!1}var ti=Error(c(461)),ri=!1;function li(e,n,t,r){n.child=null===e?Ol(n,null,t,r):Fl(n,e.child,t,r)}function ai(e,n,t,r,l){t=t.render;var a=n.ref;if("ref"in r){var o={};for(var i in r)"ref"!==i&&(o[i]=r[i])}else o=r;return Ii(n),r=Ea(e,n,t,o,a,l),i=Pa(),null===e||ri?(il&&i&&rl(n),n.flags|=1,li(e,n,r,l),n.child):(Na(e,n,l),Ci(e,n,l))}function oi(e,n,t,r,l){if(null===e){var a=t.type;return"function"!=typeof a||Zu(a)||void 0!==a.defaultProps||null!==t.compare?((e=ns(t.type,null,r,n,n.mode,l)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,ii(e,n,a,r,l))}if(a=e.child,!zi(e,l)){var o=a.memoizedProps;if((t=null!==(t=t.compare)?t:or)(o,r)&&e.ref===n.ref)return Ci(e,n,l)}return n.flags|=1,(e=Ju(a,r)).ref=n.ref,e.return=n,n.child=e}function ii(e,n,t,r,l){if(null!==e){var a=e.memoizedProps;if(or(a,r)&&e.ref===n.ref){if(ri=!1,n.pendingProps=r=a,!zi(e,l))return n.lanes=e.lanes,Ci(e,n,l);131072&e.flags&&(ri=!0)}}return fi(e,n,t,r,l)}function ui(e,n,t){var r=n.pendingProps,l=r.children,a=!!(2&n.stateNode._pendingVisibility),o=null!==e?e.memoizedState:null;if(ci(e,n),"hidden"===r.mode||a){if(128&n.flags){if(r=null!==o?o.baseLanes|t:t,null!==e){for(l=n.child=e.child,a=0;null!==l;)a=a|l.lanes|l.childLanes,l=l.sibling;n.childLanes=a&~r}else n.childLanes=0,n.child=null;return si(e,n,r,t)}if(!(536870912&t))return n.lanes=n.childLanes=536870912,si(e,n,null!==o?o.baseLanes|t:t,t);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&ua(0,null!==o?o.cachePool:null),null!==o?Al(n,o):Rl(),Bl(n)}else null!==o?(ua(0,o.cachePool),Al(n,o),Ql(),n.memoizedState=null):(null!==e&&ua(0,null),Rl(),Ql());return li(e,n,l,t),n.child}function si(e,n,t,r){var l=ia();return l=null===l?null:{parent:Xl._currentValue,pool:l},n.memoizedState={baseLanes:t,cachePool:l},null!==e&&ua(0,null),Rl(),Bl(n),null!==e&&Ai(e,n,r,!0),null}function ci(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=2097664);else{if("function"!=typeof t&&"object"!=typeof t)throw Error(c(284));null!==e&&e.ref===t||(n.flags|=2097664)}}function fi(e,n,t,r,l){return Ii(n),t=Ea(e,n,t,r,void 0,l),r=Pa(),null===e||ri?(il&&r&&rl(n),n.flags|=1,li(e,n,t,l),n.child):(Na(e,n,l),Ci(e,n,l))}function di(e,n,t,r,l,a){return Ii(n),n.updateQueue=null,t=Ca(n,r,t,l),xa(e),r=Pa(),null===e||ri?(il&&r&&rl(n),n.flags|=1,li(e,n,t,a),n.child):(Na(e,n,a),Ci(e,n,a))}function pi(e,n,t,r,l){if(Ii(n),null===n.stateNode){var a=Qr,o=t.contextType;"object"==typeof o&&null!==o&&(a=Ui(o)),a=new t(r,a),n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=Bo,n.stateNode=a,a._reactInternals=n,(a=n.stateNode).props=r,a.state=n.memoizedState,a.refs={},Qi(n),o=t.contextType,a.context="object"==typeof o&&null!==o?Ui(o):Qr,a.state=n.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(jo(n,t,o,r),a.state=n.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(o=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&Bo.enqueueReplaceState(a,a.state,null),Gi(n,r,a,l),Xi(),a.state=n.memoizedState),"function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!0}else if(null===e){a=n.stateNode;var i=n.memoizedProps,u=Wo(t,i);a.props=u;var s=a.context,c=t.contextType;o=Qr,"object"==typeof c&&null!==c&&(o=Ui(c));var f=t.getDerivedStateFromProps;c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=n.pendingProps!==i,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||s!==o)&&$o(n,a,r,o),Bi=!1;var d=n.memoizedState;a.state=d,Gi(n,r,a,l),Xi(),s=n.memoizedState,i||d!==s||Bi?("function"==typeof f&&(jo(n,t,f,r),s=n.memoizedState),(u=Bi||Qo(n,t,u,r,d,s,o))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=s),a.props=r,a.state=s,a.context=o,r=u):("function"==typeof a.componentDidMount&&(n.flags|=4194308),r=!1)}else{a=n.stateNode,$i(e,n),c=Wo(t,o=n.memoizedProps),a.props=c,f=n.pendingProps,d=a.context,s=t.contextType,u=Qr,"object"==typeof s&&null!==s&&(u=Ui(s)),(s="function"==typeof(i=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==f||d!==u)&&$o(n,a,r,u),Bi=!1,d=n.memoizedState,a.state=d,Gi(n,r,a,l),Xi();var p=n.memoizedState;o!==f||d!==p||Bi||null!==e&&null!==e.dependencies&&Ri(e.dependencies)?("function"==typeof i&&(jo(n,t,i,r),p=n.memoizedState),(c=Bi||Qo(n,t,c,r,d,p,u)||null!==e&&null!==e.dependencies&&Ri(e.dependencies))?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),r=!1)}return a=r,ci(e,n),r=!!(128&n.flags),a||r?(a=n.stateNode,t=r&&"function"!=typeof t.getDerivedStateFromError?null:a.render(),n.flags|=1,null!==e&&r?(n.child=Fl(n,e.child,null,l),n.child=Fl(n,null,t,l)):li(e,n,t,l),n.memoizedState=a.state,e=n.child):e=Ci(e,n,l),e}function mi(e,n,t,r){return hl(),n.flags|=256,li(e,n,t,r),n.child}var hi={dehydrated:null,treeContext:null,retryLane:0};function gi(e){return{baseLanes:e,cachePool:sa()}}function vi(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Ts),e}function yi(e,n,t){var r,l=n.pendingProps,a=!1,o=!!(128&n.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Wl.current)),r&&(a=!0,n.flags&=-129),r=!!(32&n.flags),n.flags&=-33,null===e){if(il){if(a?jl(n):Ql(),il){var i,u=ol;if(i=u){e:{for(i=u,u=sl;8!==i.nodeType;){if(!u){u=null;break e}if(null===(i=_f(i.nextSibling))){u=null;break e}}u=i}null!==u?(n.memoizedState={dehydrated:u,treeContext:null!==Zr?{id:Jr,overflow:el}:null,retryLane:536870912},(i=Gu(18,null,null,0)).stateNode=u,i.return=n,n.child=i,al=n,ol=null,i=!0):i=!1}i||fl(n)}if(null!==(u=n.memoizedState)&&null!==(u=u.dehydrated))return"$!"===u.data?n.lanes=16:n.lanes=536870912,null;$l(n)}return u=l.children,l=l.fallback,a?(Ql(),u=ki({mode:"hidden",children:u},a=n.mode),l=ts(l,a,t,null),u.return=n,l.return=n,u.sibling=l,n.child=u,(a=n.child).memoizedState=gi(t),a.childLanes=vi(e,r,t),n.memoizedState=hi,l):(jl(n),bi(n,u))}if(null!==(i=e.memoizedState)&&null!==(u=i.dehydrated)){if(o)256&n.flags?(jl(n),n.flags&=-257,n=wi(e,n,t)):null!==n.memoizedState?(Ql(),n.child=e.child,n.flags|=128,n=null):(Ql(),a=l.fallback,u=n.mode,l=ki({mode:"visible",children:l.children},u),(a=ts(a,u,t,null)).flags|=2,l.return=n,a.return=n,l.sibling=a,n.child=l,Fl(n,e.child,null,t),(l=n.child).memoizedState=gi(t),l.childLanes=vi(e,r,t),n.memoizedState=hi,n=a);else if(jl(n),"$!"===u.data){if(r=u.nextSibling&&u.nextSibling.dataset)var s=r.dgst;r=s,(l=Error(c(419))).stack="",l.digest=r,gl({value:l,source:null,stack:null}),n=wi(e,n,t)}else if(ri||Ai(e,n,t,!1),r=0!==(t&e.childLanes),ri||r){if(null!==(r=vs)){if(42&(l=t&-t))l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(0!==(l=0!==(l&(r.suspendedLanes|t))?0:l)&&l!==i.retryLane)throw i.retryLane=l,Vr(e,l),Ks(r,e,l),ti}"$?"===u.data||oc(),n=wi(e,n,t)}else"$?"===u.data?(n.flags|=128,n.child=e.child,n=Cc.bind(null,e),u._reactRetry=n,n=null):(e=i.treeContext,ol=_f(u.nextSibling),al=n,il=!0,ul=null,sl=!1,null!==e&&(Xr[Gr++]=Jr,Xr[Gr++]=el,Xr[Gr++]=Zr,Jr=e.id,el=e.overflow,Zr=n),(n=bi(n,l.children)).flags|=4096);return n}return a?(Ql(),a=l.fallback,u=n.mode,s=(i=e.child).sibling,(l=Ju(i,{mode:"hidden",children:l.children})).subtreeFlags=31457280&i.subtreeFlags,null!==s?a=Ju(s,a):(a=ts(a,u,t,null)).flags|=2,a.return=n,l.return=n,l.sibling=a,n.child=l,l=a,a=n.child,null===(u=e.child.memoizedState)?u=gi(t):(null!==(i=u.cachePool)?(s=Xl._currentValue,i=i.parent!==s?{parent:s,pool:s}:i):i=sa(),u={baseLanes:u.baseLanes|t,cachePool:i}),a.memoizedState=u,a.childLanes=vi(e,r,t),n.memoizedState=hi,l):(jl(n),e=(t=e.child).sibling,(t=Ju(t,{mode:"visible",children:l.children})).return=n,t.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=t,n.memoizedState=null,t)}function bi(e,n){return(n=ki({mode:"visible",children:n},e.mode)).return=e,e.child=n}function ki(e,n){return rs(e,n,0,null)}function wi(e,n,t){return Fl(n,e.child,null,t),(e=bi(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Si(e,n,t){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n),Di(e.return,n,t)}function Ei(e,n,t,r,l){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:l}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=l)}function xi(e,n,t){var r=n.pendingProps,l=r.revealOrder,a=r.tail;if(li(e,n,r.children,t),2&(r=Wl.current))r=1&r|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Si(e,t,n);else if(19===e.tag)Si(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(J(Wl,r),l){case"forwards":for(t=n.child,l=null;null!==t;)null!==(e=t.alternate)&&null===Hl(e)&&(l=t),t=t.sibling;null===(t=l)?(l=n.child,n.child=null):(l=t.sibling,t.sibling=null),Ei(n,!1,l,t,a);break;case"backwards":for(t=null,l=n.child,n.child=null;null!==l;){if(null!==(e=l.alternate)&&null===Hl(e)){n.child=l;break}e=l.sibling,l.sibling=t,t=l,l=e}Ei(n,!0,t,null,a);break;case"together":Ei(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ci(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ps|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Ai(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(c(153));if(null!==n.child){for(t=Ju(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Ju(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function zi(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Ri(e))}function Pi(e,n,t){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),Fi(n,Xl,e.memoizedState.cache),hl();break;case 27:case 5:oe(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var r=n.memoizedState;if(null!==r)return null!==r.dehydrated?(jl(n),n.flags|=128,null):0!==(t&n.child.childLanes)?yi(e,n,t):(jl(n),null!==(e=Ci(e,n,t))?e.sibling:null);jl(n);break;case 19:var l=!!(128&e.flags);if((r=0!==(t&n.childLanes))||(Ai(e,n,t,!1),r=0!==(t&n.childLanes)),l){if(r)return xi(e,n,t);n.flags|=128}if(null!==(l=n.memoizedState)&&(l.rendering=null,l.tail=null,l.lastEffect=null),J(Wl,Wl.current),r)break;return null;case 22:case 23:return n.lanes=0,ui(e,n,t);case 24:Fi(n,Xl,e.memoizedState.cache)}return Ci(e,n,t)}function Ni(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)ri=!0;else{if(!(zi(e,t)||128&n.flags))return ri=!1,Pi(e,n,t);ri=!!(131072&e.flags)}else ri=!1,il&&1048576&n.flags&&tl(n,Yr,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var r=n.elementType,l=r._init;if(r=l(r._payload),n.type=r,"function"!=typeof r){if(null!=r){if((l=r.$$typeof)===w){n.tag=11,n=ai(null,n,r,e,t);break e}if(l===x){n.tag=14,n=oi(null,n,r,e,t);break e}}throw n=_(r)||r,Error(c(306,n,""))}Zu(r)?(e=Wo(r,e),n.tag=1,n=pi(null,n,r,e,t)):(n.tag=0,n=fi(null,n,r,e,t))}return n;case 0:return fi(e,n,n.type,n.pendingProps,t);case 1:return pi(e,n,r=n.type,l=Wo(r,n.pendingProps),t);case 3:e:{if(le(n,n.stateNode.containerInfo),null===e)throw Error(c(387));var a=n.pendingProps;r=(l=n.memoizedState).element,$i(e,n),Gi(n,a,null,t);var o=n.memoizedState;if(a=o.cache,Fi(n,Xl,a),a!==l.cache&&Mi(n,[Xl],t,!0),Xi(),a=o.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:o.cache},n.updateQueue.baseState=l,n.memoizedState=l,256&n.flags){n=mi(e,n,a,t);break e}if(a!==r){gl(r=Wr(Error(c(424)),n)),n=mi(e,n,a,t);break e}for(ol=_f(n.stateNode.containerInfo.firstChild),al=n,il=!0,ul=null,sl=!0,t=Ol(n,null,a,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(hl(),a===r){n=Ci(e,n,t);break e}li(e,n,a,t)}n=n.child}return n;case 26:return ci(e,n),null===e?(t=Vf(n.type,null,n.pendingProps,null))?n.memoizedState=t:il||(t=n.type,e=n.pendingProps,(r=gf(te.current).createElement(t))[He]=n,r[qe]=e,df(r,t,e),an(r),n.stateNode=r):n.memoizedState=Vf(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return oe(n),null===e&&il&&(r=n.stateNode=Of(n.type,n.pendingProps,te.current),al=n,sl=!0,ol=_f(r.firstChild)),r=n.pendingProps.children,null!==e||il?li(e,n,r,t):n.child=Fl(n,null,r,t),ci(e,n),n.child;case 5:return null===e&&il&&((l=r=ol)&&(null!==(r=Lf(r,n.type,n.pendingProps,sl))?(n.stateNode=r,al=n,ol=_f(r.firstChild),sl=!1,l=!0):l=!1),l||fl(n)),oe(n),l=n.type,a=n.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,bf(l,a)?r=null:null!==o&&bf(l,o)&&(n.flags|=32),null!==n.memoizedState&&(l=Ea(e,n,za,null,null,t),sd._currentValue=l),ci(e,n),li(e,n,r,t),n.child;case 6:return null===e&&il&&((e=t=ol)&&(null!==(t=Tf(t,n.pendingProps,sl))?(n.stateNode=t,al=n,ol=null,e=!0):e=!1),e||fl(n)),null;case 13:return yi(e,n,t);case 4:return le(n,n.stateNode.containerInfo),r=n.pendingProps,null===e?n.child=Fl(n,null,r,t):li(e,n,r,t),n.child;case 11:return ai(e,n,n.type,n.pendingProps,t);case 7:return li(e,n,n.pendingProps,t),n.child;case 8:case 12:return li(e,n,n.pendingProps.children,t),n.child;case 10:return r=n.pendingProps,Fi(n,n.type,r.value),li(e,n,r.children,t),n.child;case 9:return l=n.type._context,r=n.pendingProps.children,Ii(n),r=r(l=Ui(l)),n.flags|=1,li(e,n,r,t),n.child;case 14:return oi(e,n,n.type,n.pendingProps,t);case 15:return ii(e,n,n.type,n.pendingProps,t);case 19:return xi(e,n,t);case 22:return ui(e,n,t);case 24:return Ii(n),r=Ui(Xl),null===e?(null===(l=ia())&&(l=vs,a=Gl(),l.pooledCache=a,a.refCount++,null!==a&&(l.pooledCacheLanes|=t),l=a),n.memoizedState={parent:r,cache:l},Qi(n),Fi(n,Xl,l)):(0!==(e.lanes&t)&&($i(e,n),Gi(n,null,null,t),Xi()),l=e.memoizedState,a=n.memoizedState,l.parent!==r?(l={parent:r,cache:r},n.memoizedState=l,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=l),Fi(n,Xl,r)):(r=a.cache,Fi(n,Xl,r),r!==l.cache&&Mi(n,[Xl],t,!0))),li(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(c(156,n.tag))}var Li=G(null),Ti=null,_i=null;function Fi(e,n,t){J(Li,n._currentValue),n._currentValue=t}function Oi(e){e._currentValue=Li.current,Z(Li)}function Di(e,n,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==r&&(r.childLanes|=n)):null!==r&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===t)break;e=e.return}}function Mi(e,n,t,r){var l=e.child;for(null!==l&&(l.return=e);null!==l;){var a=l.dependencies;if(null!==a){var o=l.child;a=a.firstContext;e:for(;null!==a;){var i=a;a=l;for(var u=0;u<n.length;u++)if(i.context===n[u]){a.lanes|=t,null!==(i=a.alternate)&&(i.lanes|=t),Di(a.return,t,e),r||(o=null);break e}a=i.next}}else if(18===l.tag){if(null===(o=l.return))throw Error(c(341));o.lanes|=t,null!==(a=o.alternate)&&(a.lanes|=t),Di(o,t,e),o=null}else o=l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===e){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}}function Ai(e,n,t,r){e=null;for(var l=n,a=!1;null!==l;){if(!a)if(524288&l.flags)a=!0;else if(262144&l.flags)break;if(10===l.tag){var o=l.alternate;if(null===o)throw Error(c(387));if(null!==(o=o.memoizedProps)){var i=l.type;ar(l.pendingProps.value,o.value)||(null!==e?e.push(i):e=[i])}}else if(l===re.current){if(null===(o=l.alternate))throw Error(c(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(null!==e?e.push(sd):e=[sd])}l=l.return}null!==e&&Mi(n,e,t,r),n.flags|=262144}function Ri(e){for(e=e.firstContext;null!==e;){if(!ar(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ii(e){Ti=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ui(e){return ji(Ti,e)}function Vi(e,n){return null===Ti&&Ii(e),ji(e,n)}function ji(e,n){var t=n._currentValue;if(n={context:n,memoizedValue:t,next:null},null===_i){if(null===e)throw Error(c(308));_i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else _i=_i.next=n;return t}var Bi=!1;function Qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $i(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hi(e,n,t){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&gs){var l=r.pending;return null===l?n.next=n:(n.next=l.next,l.next=n),r.pending=n,n=Br(e),jr(e,null,t),n}return Ir(e,r,n,t),Br(e)}function qi(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194176&t)){var r=n.lanes;t|=r&=e.pendingLanes,n.lanes=t,je(e,t)}}function Ki(e,n){var t=e.updateQueue,r=e.alternate;if(null!==r&&t===(r=r.updateQueue)){var l=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var o={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?l=a=o:a=a.next=o,t=t.next}while(null!==t);null===a?l=a=n:a=a.next=n}else l=a=n;return t={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}var Yi=!1;function Xi(){if(Yi){if(null!==ta)throw ta}}function Gi(e,n,t,r){Yi=!1;var l=e.updateQueue;Bi=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(null!==i){l.shared.pending=null;var u=i,s=u.next;u.next=null,null===o?a=s:o.next=s,o=u;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===i?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=u))}if(null!==a){var f=l.baseState;for(o=0,c=s=u=null,i=a;;){var d=-536870913&i.lane,p=d!==i.lane;if(p?(bs&d)===d:(r&d)===d){0!==d&&d===na&&(Yi=!0),null!==c&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,h=i;d=n;var g=t;switch(h.tag){case 1:if("function"==typeof(m=h.payload)){f=m.call(g,f,d);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=h.payload)?m.call(g,f,d):m))break e;f=M({},f,d);break e;case 2:Bi=!0}}null!==(d=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=l.callbacks)?l.callbacks=[d]:p.push(d))}else p={lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=p,u=f):c=c.next=p,o|=d;if(null===(i=i.next)){if(null===(i=l.shared.pending))break;i=(p=i).next,p.next=null,l.lastBaseUpdate=p,l.shared.pending=null}}null===c&&(u=f),l.baseState=u,l.firstBaseUpdate=s,l.lastBaseUpdate=c,null===a&&(l.shared.lanes=0),Ps|=o,e.lanes=o,e.memoizedState=f}}function Zi(e,n){if("function"!=typeof e)throw Error(c(191,e));e.call(n)}function Ji(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)Zi(t[e],n)}function eu(e,n){try{var t=n.updateQueue,r=null!==t?t.lastEffect:null;if(null!==r){var l=r.next;t=l;do{if((t.tag&e)===e){r=void 0;var a=t.create,o=t.inst;r=a(),o.destroy=r}t=t.next}while(t!==l)}}catch(e){wc(n,n.return,e)}}function nu(e,n,t){try{var r=n.updateQueue,l=null!==r?r.lastEffect:null;if(null!==l){var a=l.next;r=a;do{if((r.tag&e)===e){var o=r.inst,i=o.destroy;if(void 0!==i){o.destroy=void 0,l=n;var u=t;try{i()}catch(e){wc(l,u,e)}}}r=r.next}while(r!==a)}}catch(e){wc(n,n.return,e)}}function tu(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{Ji(n,t)}catch(n){wc(e,e.return,n)}}}function ru(e,n,t){t.props=Wo(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){wc(e,n,t)}}function lu(e,n){try{var t=e.ref;if(null!==t){var r=e.stateNode;switch(e.tag){case 26:case 27:case 5:var l=r;break;default:l=r}"function"==typeof t?e.refCleanup=t(l):t.current=l}}catch(t){wc(e,n,t)}}function au(e,n){var t=e.ref,r=e.refCleanup;if(null!==t)if("function"==typeof r)try{r()}catch(t){wc(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){wc(e,n,t)}else t.current=null}function ou(e){var n=e.type,t=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":t.autoFocus&&r.focus();break e;case"img":t.src?r.src=t.src:t.srcSet&&(r.srcset=t.srcSet)}}catch(n){wc(e,e.return,n)}}function iu(e,n,t){try{var r=e.stateNode;pf(r,e.type,t,n),r[qe]=n}catch(n){wc(e,e.return,n)}}function uu(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||uu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cu(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?8===t.nodeType?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(8===t.nodeType?(n=t.parentNode).insertBefore(e,t):(n=t).appendChild(e),null!=(t=t._reactRootContainer)||null!==n.onclick||(n.onclick=sf));else if(4!==r&&27!==r&&null!==(e=e.child))for(cu(e,n,t),e=e.sibling;null!==e;)cu(e,n,t),e=e.sibling}function fu(e,n,t){var r=e.tag;if(5===r||6===r)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(4!==r&&27!==r&&null!==(e=e.child))for(fu(e,n,t),e=e.sibling;null!==e;)fu(e,n,t),e=e.sibling}var du=!1,pu=!1,mu=!1,hu="function"==typeof WeakSet?WeakSet:Set,gu=null,vu=!1;function yu(e,n){if(e=e.containerInfo,mf=vd,fr(e=cr(e))){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(r&&0!==r.rangeCount){t=r.anchorNode;var l=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch(e){t=null;break e}var o=0,i=-1,u=-1,s=0,f=0,d=e,p=null;n:for(;;){for(var m;d!==t||0!==l&&3!==d.nodeType||(i=o+l),d!==a||0!==r&&3!==d.nodeType||(u=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(m=d.firstChild);)p=d,d=m;for(;;){if(d===e)break n;if(p===t&&++s===l&&(i=o),p===a&&++f===r&&(u=o),null!==(m=d.nextSibling))break;p=(d=p).parentNode}d=m}t=-1===i||-1===u?null:{start:i,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(hf={focusedElem:e,selectionRange:t},vd=!1,gu=n;null!==gu;)if(e=(n=gu).child,1028&n.subtreeFlags&&null!==e)e.return=n,gu=e;else for(;null!==gu;){switch(a=(n=gu).alternate,e=n.flags,n.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,t=n,l=a.memoizedProps,a=a.memoizedState,r=t.stateNode;try{var h=Wo(t.type,l,(t.elementType,t.type));e=r.getSnapshotBeforeUpdate(h,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){wc(t,t.return,e)}}break;case 3:if(1024&e)if(9===(t=(e=n.stateNode.containerInfo).nodeType))Nf(e);else if(1===t)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nf(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(c(163))}if(null!==(e=n.sibling)){e.return=n.return,gu=e;break}gu=n.return}return h=vu,vu=!1,h}function bu(e,n,t){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Ou(e,t),4&r&&eu(5,t);break;case 1:if(Ou(e,t),4&r)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){wc(t,t.return,e)}else{var l=Wo(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(l,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){wc(t,t.return,e)}}64&r&&tu(t),512&r&&lu(t,t.return);break;case 3:if(Ou(e,t),64&r&&null!==(r=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:case 1:e=t.child.stateNode}try{Ji(r,e)}catch(e){wc(t,t.return,e)}}break;case 26:Ou(e,t),512&r&&lu(t,t.return);break;case 27:case 5:Ou(e,t),null===n&&4&r&&ou(t),512&r&&lu(t,t.return);break;case 12:default:Ou(e,t);break;case 13:Ou(e,t),4&r&&Cu(e,t);break;case 22:if(!(l=null!==t.memoizedState||du)){n=null!==n&&null!==n.memoizedState||pu;var a=du,o=pu;du=l,(pu=n)&&!o?Mu(e,t,!!(8772&t.subtreeFlags)):Ou(e,t),du=a,pu=o}512&r&&("manual"===t.memoizedProps.mode?lu(t,t.return):au(t,t.return))}}function ku(e){var n=e.alternate;null!==n&&(e.alternate=null,ku(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&en(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wu=null,Su=!1;function Eu(e,n,t){for(t=t.child;null!==t;)xu(e,n,t),t=t.sibling}function xu(e,n,t){if(Ee&&"function"==typeof Ee.onCommitFiberUnmount)try{Ee.onCommitFiberUnmount(Se,t)}catch(e){}switch(t.tag){case 26:pu||au(t,n),Eu(e,n,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode).parentNode.removeChild(t);break;case 27:pu||au(t,n);var r=wu,l=Su;for(wu=t.stateNode,Eu(e,n,t),n=(t=t.stateNode).attributes;n.length;)t.removeAttributeNode(n[0]);en(t),wu=r,Su=l;break;case 5:pu||au(t,n);case 6:l=wu;var a=Su;if(wu=null,Eu(e,n,t),Su=a,null!==(wu=l))if(Su)try{e=wu,r=t.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)}catch(e){wc(t,n,e)}else try{wu.removeChild(t.stateNode)}catch(e){wc(t,n,e)}break;case 18:null!==wu&&(Su?(n=wu,t=t.stateNode,8===n.nodeType?Pf(n.parentNode,t):1===n.nodeType&&Pf(n,t),Qd(n)):Pf(wu,t.stateNode));break;case 4:r=wu,l=Su,wu=t.stateNode.containerInfo,Su=!0,Eu(e,n,t),wu=r,Su=l;break;case 0:case 11:case 14:case 15:pu||nu(2,t,n),pu||nu(4,t,n),Eu(e,n,t);break;case 1:pu||(au(t,n),"function"==typeof(r=t.stateNode).componentWillUnmount&&ru(t,n,r)),Eu(e,n,t);break;case 21:Eu(e,n,t);break;case 22:pu||au(t,n),pu=(r=pu)||null!==t.memoizedState,Eu(e,n,t),pu=r;break;default:Eu(e,n,t)}}function Cu(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Qd(e)}catch(e){wc(n,n.return,e)}}function zu(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new hu),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new hu),n;default:throw Error(c(435,e.tag))}}function Pu(e,n){var t=zu(e);n.forEach(function(n){var r=zc.bind(null,e,n);t.has(n)||(t.add(n),n.then(r,r))})}function Nu(e,n){var t=n.deletions;if(null!==t)for(var r=0;r<t.length;r++){var l=t[r],a=e,o=n,i=o;e:for(;null!==i;){switch(i.tag){case 27:case 5:wu=i.stateNode,Su=!1;break e;case 3:case 4:wu=i.stateNode.containerInfo,Su=!0;break e}i=i.return}if(null===wu)throw Error(c(160));xu(a,o,l),wu=null,Su=!1,null!==(a=l.alternate)&&(a.return=null),l.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)Tu(n,e),n=n.sibling}var Lu=null;function Tu(e,n){var t=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nu(n,e),_u(e),4&r&&(nu(3,e,e.return),eu(3,e),nu(5,e,e.return));break;case 1:Nu(n,e),_u(e),512&r&&(pu||null===t||au(t,t.return)),64&r&&du&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?r:t.concat(r))));break;case 26:var l=Lu;if(Nu(n,e),_u(e),512&r&&(pu||null===t||au(t,t.return)),4&r){var a=null!==t?t.memoizedState:null;if(r=e.memoizedState,null===t)if(null===r)if(null===e.stateNode){e:{r=e.type,t=e.memoizedProps,l=l.ownerDocument||l;n:switch(r){case"title":(!(a=l.getElementsByTagName("title")[0])||a[Je]||a[He]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=l.createElement(r),l.head.insertBefore(a,l.querySelector("head > title"))),df(a,r,t),a[He]=e,an(a),r=a;break e;case"link":var o=Gf("link","href",l).get(r+(t.href||""));if(o)for(var i=0;i<o.length;i++)if((a=o[i]).getAttribute("href")===(null==t.href?null:t.href)&&a.getAttribute("rel")===(null==t.rel?null:t.rel)&&a.getAttribute("title")===(null==t.title?null:t.title)&&a.getAttribute("crossorigin")===(null==t.crossOrigin?null:t.crossOrigin)){o.splice(i,1);break n}df(a=l.createElement(r),r,t),l.head.appendChild(a);break;case"meta":if(o=Gf("meta","content",l).get(r+(t.content||"")))for(i=0;i<o.length;i++)if((a=o[i]).getAttribute("content")===(null==t.content?null:""+t.content)&&a.getAttribute("name")===(null==t.name?null:t.name)&&a.getAttribute("property")===(null==t.property?null:t.property)&&a.getAttribute("http-equiv")===(null==t.httpEquiv?null:t.httpEquiv)&&a.getAttribute("charset")===(null==t.charSet?null:t.charSet)){o.splice(i,1);break n}df(a=l.createElement(r),r,t),l.head.appendChild(a);break;default:throw Error(c(468,r))}a[He]=e,an(a),r=a}e.stateNode=r}else Zf(l,e.type,e.stateNode);else e.stateNode=Hf(l,r,e.memoizedProps);else a!==r?(null===a?null!==t.stateNode&&(t=t.stateNode).parentNode.removeChild(t):a.count--,null===r?Zf(l,e.type,e.stateNode):Hf(l,r,e.memoizedProps)):null===r&&null!==e.stateNode&&iu(e,e.memoizedProps,t.memoizedProps)}break;case 27:if(4&r&&null===e.alternate){l=e.stateNode,a=e.memoizedProps;try{for(var u=l.firstChild;u;){var s=u.nextSibling,f=u.nodeName;u[Je]||"HEAD"===f||"BODY"===f||"SCRIPT"===f||"STYLE"===f||"LINK"===f&&"stylesheet"===u.rel.toLowerCase()||l.removeChild(u),u=s}for(var d=e.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);df(l,d,a),l[He]=e,l[qe]=a}catch(n){wc(e,e.return,n)}}case 5:if(Nu(n,e),_u(e),512&r&&(pu||null===t||au(t,t.return)),32&e.flags){l=e.stateNode;try{Fn(l,"")}catch(n){wc(e,e.return,n)}}4&r&&null!=e.stateNode&&iu(e,l=e.memoizedProps,null!==t?t.memoizedProps:l),1024&r&&(mu=!0);break;case 6:if(Nu(n,e),_u(e),4&r){if(null===e.stateNode)throw Error(c(162));r=e.memoizedProps,t=e.stateNode;try{t.nodeValue=r}catch(n){wc(e,e.return,n)}}break;case 3:if(Xf=null,l=Lu,Lu=Af(n.containerInfo),Nu(n,e),Lu=l,_u(e),4&r&&null!==t&&t.memoizedState.isDehydrated)try{Qd(n.containerInfo)}catch(n){wc(e,e.return,n)}mu&&(mu=!1,Fu(e));break;case 4:r=Lu,Lu=Af(e.stateNode.containerInfo),Nu(n,e),_u(e),Lu=r;break;case 12:Nu(n,e),_u(e);break;case 13:Nu(n,e),_u(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==t&&null!==t.memoizedState)&&(Ms=pe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pu(e,r)));break;case 22:if(512&r&&(pu||null===t||au(t,t.return)),u=null!==e.memoizedState,s=null!==t&&null!==t.memoizedState,du=(f=du)||u,pu=(d=pu)||s,Nu(n,e),pu=d,du=f,_u(e),(n=e.stateNode)._current=e,n._visibility&=-3,n._visibility|=2&n._pendingVisibility,8192&r&&(n._visibility=u?-2&n._visibility:1|n._visibility,u&&(n=du||pu,null===t||s||n||Du(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))e:for(t=null,n=e;;){if(5===n.tag||26===n.tag||27===n.tag){if(null===t){s=t=n;try{if(l=s.stateNode,u)"function"==typeof(a=l.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{o=s.stateNode;var m=null!=(i=s.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null;o.style.display=null==m||"boolean"==typeof m?"":(""+m).trim()}}catch(e){wc(s,s.return,e)}}}else if(6===n.tag){if(null===t){s=n;try{s.stateNode.nodeValue=u?"":s.memoizedProps}catch(e){wc(s,s.return,e)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(t=r.retryQueue)&&(r.retryQueue=null,Pu(e,t))));break;case 19:Nu(n,e),_u(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pu(e,r)));break;case 21:break;default:Nu(n,e),_u(e)}}function _u(e){var n=e.flags;if(2&n){try{if(27!==e.tag){e:{for(var t=e.return;null!==t;){if(uu(t)){var r=t;break e}t=t.return}throw Error(c(160))}switch(r.tag){case 27:var l=r.stateNode;fu(e,su(e),l);break;case 5:var a=r.stateNode;32&r.flags&&(Fn(a,""),r.flags&=-33),fu(e,su(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;cu(e,su(e),o);break;default:throw Error(c(161))}}}catch(n){wc(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Fu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Fu(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),e=e.sibling}}function Ou(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)bu(e,n.alternate,n),n=n.sibling}function Du(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:nu(4,n,n.return),Du(n);break;case 1:au(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&ru(n,n.return,t),Du(n);break;case 26:case 27:case 5:au(n,n.return),Du(n);break;case 22:au(n,n.return),null===n.memoizedState&&Du(n);break;default:Du(n)}e=e.sibling}}function Mu(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,l=e,a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:Mu(l,a,t),eu(4,a);break;case 1:if(Mu(l,a,t),"function"==typeof(l=(r=a).stateNode).componentDidMount)try{l.componentDidMount()}catch(e){wc(r,r.return,e)}if(null!==(l=(r=a).updateQueue)){var i=r.stateNode;try{var u=l.shared.hiddenCallbacks;if(null!==u)for(l.shared.hiddenCallbacks=null,l=0;l<u.length;l++)Zi(u[l],i)}catch(e){wc(r,r.return,e)}}t&&64&o&&tu(a),lu(a,a.return);break;case 26:case 27:case 5:Mu(l,a,t),t&&null===r&&4&o&&ou(a),lu(a,a.return);break;case 12:default:Mu(l,a,t);break;case 13:Mu(l,a,t),t&&4&o&&Cu(l,a);break;case 22:null===a.memoizedState&&Mu(l,a,t),lu(a,a.return)}n=n.sibling}}function Au(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&Zl(t))}function Ru(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Zl(e))}function Iu(e,n,t,r){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)Uu(e,n,t,r),n=n.sibling}function Uu(e,n,t,r){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Iu(e,n,t,r),2048&l&&eu(9,n);break;case 3:Iu(e,n,t,r),2048&l&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Zl(e)));break;case 12:if(2048&l){Iu(e,n,t,r),e=n.stateNode;try{var a=n.memoizedProps,o=a.id,i=a.onPostCommit;"function"==typeof i&&i(o,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){wc(n,n.return,e)}}else Iu(e,n,t,r);break;case 23:break;case 22:a=n.stateNode,null!==n.memoizedState?4&a._visibility?Iu(e,n,t,r):ju(e,n):4&a._visibility?Iu(e,n,t,r):(a._visibility|=4,Vu(e,n,t,r,!!(10256&n.subtreeFlags))),2048&l&&Au(n.alternate,n);break;case 24:Iu(e,n,t,r),2048&l&&Ru(n.alternate,n);break;default:Iu(e,n,t,r)}}function Vu(e,n,t,r,l){for(l=l&&!!(10256&n.subtreeFlags),n=n.child;null!==n;){var a=e,o=n,i=t,u=r,s=o.flags;switch(o.tag){case 0:case 11:case 15:Vu(a,o,i,u,l),eu(8,o);break;case 23:break;case 22:var c=o.stateNode;null!==o.memoizedState?4&c._visibility?Vu(a,o,i,u,l):ju(a,o):(c._visibility|=4,Vu(a,o,i,u,l)),l&&2048&s&&Au(o.alternate,o);break;case 24:Vu(a,o,i,u,l),l&&2048&s&&Ru(o.alternate,o);break;default:Vu(a,o,i,u,l)}n=n.sibling}}function ju(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,r=n,l=r.flags;switch(r.tag){case 22:ju(t,r),2048&l&&Au(r.alternate,r);break;case 24:ju(t,r),2048&l&&Ru(r.alternate,r);break;default:ju(t,r)}n=n.sibling}}var Bu=8192;function Qu(e){if(e.subtreeFlags&Bu)for(e=e.child;null!==e;)$u(e),e=e.sibling}function $u(e){switch(e.tag){case 26:Qu(e),e.flags&Bu&&null!==e.memoizedState&&rd(Lu,e.memoizedState,e.memoizedProps);break;case 5:default:Qu(e);break;case 3:case 4:var n=Lu;Lu=Af(e.stateNode.containerInfo),Qu(e),Lu=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=Bu,Bu=16777216,Qu(e),Bu=n):Qu(e))}}function Wu(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function Hu(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];gu=r,Yu(r,e)}Wu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)qu(e),e=e.sibling}function qu(e){switch(e.tag){case 0:case 11:case 15:Hu(e),2048&e.flags&&nu(9,e,e.return);break;case 3:case 12:default:Hu(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&4&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-5,Ku(e)):Hu(e)}}function Ku(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var r=n[t];gu=r,Yu(r,e)}Wu(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:nu(8,n,n.return),Ku(n);break;case 22:4&(t=n.stateNode)._visibility&&(t._visibility&=-5,Ku(n));break;default:Ku(n)}e=e.sibling}}function Yu(e,n){for(;null!==gu;){var t=gu;switch(t.tag){case 0:case 11:case 15:nu(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var r=t.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Zl(t.memoizedState.cache)}if(null!==(r=t.child))r.return=t,gu=r;else e:for(t=e;null!==gu;){var l=(r=gu).sibling,a=r.return;if(ku(r),r===t){gu=null;break e}if(null!==l){l.return=a,gu=l;break e}gu=a}}}function Xu(e,n,t,r){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gu(e,n,t,r){return new Xu(e,n,t,r)}function Zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ju(e,n){var t=e.alternate;return null===t?((t=Gu(e.tag,n,e.key,e.mode)).elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=31457280&e.flags,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t.refCleanup=e.refCleanup,t}function es(e,n){e.flags&=31457282;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ns(e,n,t,r,l,a){var o=0;if(r=e,"function"==typeof e)Zu(e)&&(o=1);else if("string"==typeof e)o=Jf(e,t,ee.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case h:return ts(t.children,l,a,n);case g:o=8,l|=24;break;case v:return(e=Gu(12,t,n,2|l)).elementType=v,e.lanes=a,e;case S:return(e=Gu(13,t,n,l)).elementType=S,e.lanes=a,e;case E:return(e=Gu(19,t,n,l)).elementType=E,e.lanes=a,e;case z:return rs(t,l,a,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:case k:o=10;break e;case b:o=9;break e;case w:o=11;break e;case x:o=14;break e;case C:o=16,r=null;break e}o=29,t=Error(c(130,null===e?"null":typeof e,"")),r=null}return(n=Gu(o,t,n,l)).elementType=e,n.type=r,n.lanes=a,n}function ts(e,n,t,r){return(e=Gu(7,e,r,n)).lanes=t,e}function rs(e,n,t,r){(e=Gu(22,e,r,n)).elementType=z,e.lanes=t;var l={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=l._current;if(null===e)throw Error(c(456));if(!(2&l._pendingVisibility)){var n=Vr(e,2);null!==n&&(l._pendingVisibility|=2,Ks(n,e,2))}},attach:function(){var e=l._current;if(null===e)throw Error(c(456));if(2&l._pendingVisibility){var n=Vr(e,2);null!==n&&(l._pendingVisibility&=-3,Ks(n,e,2))}}};return e.stateNode=l,e}function ls(e,n,t){return(e=Gu(6,e,null,n)).lanes=t,e}function as(e,n,t){return(n=Gu(4,null!==e.children?e.children:[],e.key,n)).lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function os(e){e.flags|=4}function is(e,n){if("stylesheet"!==n.type||4&n.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ed(n)){if(null!==(n=Ul.current)&&((4194176&bs)===bs?null!==Vl:(62914560&bs)!==bs&&!(536870912&bs)||n!==Vl))throw El=bl,yl;e.flags|=8192}}function us(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?Ae():536870912,e.lanes|=n,_s|=n)}function ss(e,n){if(!il)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?n||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function cs(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,r=0;if(n)for(var l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=31457280&l.subtreeFlags,r|=31457280&l.flags,l.return=e,l=l.sibling;else for(l=e.child;null!==l;)t|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=t,n}function fs(e,n,t){var r=n.pendingProps;switch(ll(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return cs(n),null;case 3:return t=n.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Oi(Xl),ae(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(ml(n)?os(n):null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==ul&&(Xs(ul),ul=null))),cs(n),null;case 26:return t=n.memoizedState,null===e?(os(n),null!==t?(cs(n),is(n,t)):(cs(n),n.flags&=-16777217)):t?t!==e.memoizedState?(os(n),cs(n),is(n,t)):(cs(n),n.flags&=-16777217):(e.memoizedProps!==r&&os(n),cs(n),n.flags&=-16777217),null;case 27:ie(n),t=te.current;var l=n.type;if(null!==e&&null!=n.stateNode)e.memoizedProps!==r&&os(n);else{if(!r){if(null===n.stateNode)throw Error(c(166));return cs(n),null}e=ee.current,ml(n)?dl(n):(e=Of(l,r,t),n.stateNode=e,os(n))}return cs(n),null;case 5:if(ie(n),t=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==r&&os(n);else{if(!r){if(null===n.stateNode)throw Error(c(166));return cs(n),null}if(e=ee.current,ml(n))dl(n);else{switch(l=gf(te.current),e){case 1:e=l.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:e=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":e=l.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":e=l.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":(e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof r.is?l.createElement("select",{is:r.is}):l.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"==typeof r.is?l.createElement(t,{is:r.is}):l.createElement(t)}}e[He]=n,e[qe]=r;e:for(l=n.child;null!==l;){if(5===l.tag||6===l.tag)e.appendChild(l.stateNode);else if(4!==l.tag&&27!==l.tag&&null!==l.child){l.child.return=l,l=l.child;continue}if(l===n)break e;for(;null===l.sibling;){if(null===l.return||l.return===n)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}n.stateNode=e;e:switch(df(e,t,r),t){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&os(n)}}return cs(n),n.flags&=-16777217,null;case 6:if(e&&null!=n.stateNode)e.memoizedProps!==r&&os(n);else{if("string"!=typeof r&&null===n.stateNode)throw Error(c(166));if(e=te.current,ml(n)){if(e=n.stateNode,t=n.memoizedProps,r=null,null!==(l=al))switch(l.tag){case 27:case 5:r=l.memoizedProps}e[He]=n,(e=!!(e.nodeValue===t||null!==r&&!0===r.suppressHydrationWarning||uf(e.nodeValue,t)))||fl(n)}else(e=gf(e).createTextNode(r))[He]=n,n.stateNode=e}return cs(n),null;case 13:if(r=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(l=ml(n),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(c(318));if(!(l=null!==(l=n.memoizedState)?l.dehydrated:null))throw Error(c(317));l[He]=n}else hl(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;cs(n),l=!1}else null!==ul&&(Xs(ul),ul=null),l=!0;if(!l)return 256&n.flags?($l(n),n):($l(n),null)}if($l(n),128&n.flags)return n.lanes=t,n;if(t=null!==r,e=null!==e&&null!==e.memoizedState,t){l=null,null!==(r=n.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(l=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==l&&(r.flags|=2048)}return t!==e&&t&&(n.child.flags|=8192),us(n,n.updateQueue),cs(n),null;case 4:return ae(),null===e&&Gc(n.stateNode.containerInfo),cs(n),null;case 10:return Oi(n.type),cs(n),null;case 19:if(Z(Wl),null===(l=n.memoizedState))return cs(n),null;if(r=!!(128&n.flags),null===(a=l.rendering))if(r)ss(l,!1);else{if(0!==zs||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(a=Hl(e))){for(n.flags|=128,ss(l,!1),e=a.updateQueue,n.updateQueue=e,us(n,e),n.subtreeFlags=0,e=t,t=n.child;null!==t;)es(t,e),t=t.sibling;return J(Wl,1&Wl.current|2),n.child}e=e.sibling}null!==l.tail&&pe()>As&&(n.flags|=128,r=!0,ss(l,!1),n.lanes=4194304)}else{if(!r)if(null!==(e=Hl(a))){if(n.flags|=128,r=!0,e=e.updateQueue,n.updateQueue=e,us(n,e),ss(l,!0),null===l.tail&&"hidden"===l.tailMode&&!a.alternate&&!il)return cs(n),null}else 2*pe()-l.renderingStartTime>As&&536870912!==t&&(n.flags|=128,r=!0,ss(l,!1),n.lanes=4194304);l.isBackwards?(a.sibling=n.child,n.child=a):(null!==(e=l.last)?e.sibling=a:n.child=a,l.last=a)}return null!==l.tail?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=pe(),n.sibling=null,e=Wl.current,J(Wl,r?1&e|2:1&e),n):(cs(n),null);case 22:case 23:return $l(n),Il(),r=null!==n.memoizedState,null!==e?null!==e.memoizedState!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?!!(536870912&t)&&!(128&n.flags)&&(cs(n),6&n.subtreeFlags&&(n.flags|=8192)):cs(n),null!==(t=n.updateQueue)&&us(n,t.retryQueue),t=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),r=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(r=n.memoizedState.cachePool.pool),r!==t&&(n.flags|=2048),null!==e&&Z(oa),null;case 24:return t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Oi(Xl),cs(n),null;case 25:return null}throw Error(c(156,n.tag))}function ds(e,n){switch(ll(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Oi(Xl),ae(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return ie(n),null;case 13:if($l(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(c(340));hl()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return Z(Wl),null;case 4:return ae(),null;case 10:return Oi(n.type),null;case 22:case 23:return $l(n),Il(),null!==e&&Z(oa),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Oi(Xl),null;default:return null}}function ps(e,n){switch(ll(n),n.tag){case 3:Oi(Xl),ae();break;case 26:case 27:case 5:ie(n);break;case 4:ae();break;case 13:$l(n);break;case 19:Z(Wl);break;case 10:Oi(n.type);break;case 22:case 23:$l(n),Il(),null!==e&&Z(oa);break;case 24:Oi(Xl)}}var ms={getCacheForType:function(e){var n=Ui(Xl),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t}},hs="function"==typeof WeakMap?WeakMap:Map,gs=0,vs=null,ys=null,bs=0,ks=0,ws=null,Ss=!1,Es=!1,xs=!1,Cs=0,zs=0,Ps=0,Ns=0,Ls=0,Ts=0,_s=0,Fs=null,Os=null,Ds=!1,Ms=0,As=1/0,Rs=null,Is=null,Us=!1,Vs=null,js=0,Bs=0,Qs=null,$s=0,Ws=null;function Hs(){if(2&gs&&0!==bs)return bs&-bs;if(null!==D.T){return 0!==na?na:Uc()}return Qe()}function qs(){0===Ts&&(Ts=536870912&bs&&!il?536870912:Me());var e=Ul.current;return null!==e&&(e.flags|=32),Ts}function Ks(e,n,t){(e===vs&&2===ks||null!==e.cancelPendingCommit)&&(tc(e,0),Js(e,bs,Ts,!1)),Ie(e,t),2&gs&&e===vs||(e===vs&&(!(2&gs)&&(Ns|=t),4===zs&&Js(e,bs,Ts,!1)),Oc(e))}function Ys(e,n,t){if(6&gs)throw Error(c(327));for(var r=!t&&!(60&n)&&0===(n&e.expiredLanes)||Oe(e,n),l=r?sc(e,n):ic(e,n,!0),a=r;;){if(0===l){Es&&!r&&Js(e,n,0,!1);break}if(6===l)Js(e,n,0,!Ss);else{if(t=e.current.alternate,a&&!Zs(t)){l=ic(e,n,!1),a=!1;continue}if(2===l){if(a=n,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){n=o;e:{var i=e;l=Fs;var u=i.current.memoizedState.isDehydrated;if(u&&(tc(i,o).flags|=256),2!==(o=ic(i,o,!1))){if(xs&&!u){i.errorRecoveryDisabledLanes|=a,Ns|=a,l=4;break e}a=Os,Os=l,null!==a&&Xs(a)}l=o}if(a=!1,2!==l)continue}}if(1===l){tc(e,0),Js(e,n,0,!0);break}e:{switch(r=e,l){case 0:case 1:throw Error(c(345));case 4:if((4194176&n)===n){Js(r,n,Ts,!Ss);break e}break;case 2:Os=null;break;case 3:case 5:break;default:throw Error(c(329))}if(r.finishedWork=t,r.finishedLanes=n,(62914560&n)===n&&10<(a=Ms+300-pe())){if(Js(r,n,Ts,!Ss),0!==Fe(r,0))break e;r.timeoutHandle=Sf(Gs.bind(null,r,t,Os,Rs,Ds,n,Ts,Ns,_s,Ss,2,-0,0),a)}else Gs(r,t,Os,Rs,Ds,n,Ts,Ns,_s,Ss,0,-0,0)}}break}Oc(e)}function Xs(e){null===Os?Os=e:Os.push.apply(Os,e)}function Gs(e,n,t,r,l,a,o,i,u,s,c,f,d){var p=n.subtreeFlags;if((8192&p||!(16785408&~p))&&(nd={stylesheets:null,count:0,unsuspend:td},$u(n),null!==(n=ld())))return e.cancelPendingCommit=n(gc.bind(null,e,t,r,l,o,i,u,1,f,d)),void Js(e,a,o,!s);gc(e,t,r,l,o,i,u,c,f,d)}function Zs(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var r=0;r<t.length;r++){var l=t[r],a=l.getSnapshot;l=l.value;try{if(!ar(a(),l))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(e,n,t,r){n&=~Ls,n&=~Ns,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var l=n;0<l;){var a=31-ze(l),o=1<<a;r[a]=-1,l&=~o}0!==t&&Ve(e,t,n)}function ec(){return!!(6&gs)||(Dc(0,!1),!1)}function nc(){if(null!==ys){if(0===ks)var e=ys.return;else _i=Ti=null,La(e=ys),Cl=null,zl=0,e=ys;for(;null!==e;)ps(e.alternate,e),e=e.return;ys=null}}function tc(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;-1!==t&&(e.timeoutHandle=-1,Ef(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),nc(),vs=e,ys=t=Ju(e.current,null),bs=n,ks=0,ws=null,Ss=!1,Es=Oe(e,n),xs=!1,_s=Ts=Ls=Ns=Ps=zs=0,Os=Fs=null,Ds=!1,8&n&&(n|=32&n);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=n;0<r;){var l=31-ze(r),a=1<<l;n|=e[l],r&=~a}return Cs=n,Rr(),t}function rc(e,n){fa=null,D.H=Ro,n===vl?(n=xl(),ks=3):n===yl?(n=xl(),ks=4):ks=n===ti?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,ws=n,null===ys&&(zs=1,Xo(e,Wr(n,e.current)))}function lc(){var e=D.H;return D.H=Ro,null===e?Ro:e}function ac(){var e=D.A;return D.A=ms,e}function oc(){zs=4,Ss||(4194176&bs)!==bs&&null!==Ul.current||(Es=!0),!(134217727&Ps)&&!(134217727&Ns)||null===vs||Js(vs,bs,Ts,!1)}function ic(e,n,t){var r=gs;gs|=2;var l=lc(),a=ac();vs===e&&bs===n||(Rs=null,tc(e,n)),n=!1;var o=zs;e:for(;;)try{if(0!==ks&&null!==ys){var i=ys,u=ws;switch(ks){case 8:nc(),o=6;break e;case 3:case 2:case 6:null===Ul.current&&(n=!0);var s=ks;if(ks=0,ws=null,pc(e,i,u,s),t&&Es){o=0;break e}break;default:s=ks,ks=0,ws=null,pc(e,i,u,s)}}uc(),o=zs;break}catch(n){rc(e,n)}return n&&e.shellSuspendCounter++,_i=Ti=null,gs=r,D.H=l,D.A=a,null===ys&&(vs=null,bs=0,Rr()),o}function uc(){for(;null!==ys;)fc(ys)}function sc(e,n){var t=gs;gs|=2;var r=lc(),l=ac();vs!==e||bs!==n?(Rs=null,As=pe()+500,tc(e,n)):Es=Oe(e,n);e:for(;;)try{if(0!==ks&&null!==ys){n=ys;var a=ws;n:switch(ks){case 1:ks=0,ws=null,pc(e,n,a,1);break;case 2:if(kl(a)){ks=0,ws=null,dc(n);break}n=function(){2===ks&&vs===e&&(ks=7),Oc(e)},a.then(n,n);break e;case 3:ks=7;break e;case 4:ks=5;break e;case 7:kl(a)?(ks=0,ws=null,dc(n)):(ks=0,ws=null,pc(e,n,a,7));break;case 5:var o=null;switch(ys.tag){case 26:o=ys.memoizedState;case 5:case 27:var i=ys;if(!o||ed(o)){ks=0,ws=null;var u=i.sibling;if(null!==u)ys=u;else{var s=i.return;null!==s?(ys=s,mc(s)):ys=null}break n}}ks=0,ws=null,pc(e,n,a,5);break;case 6:ks=0,ws=null,pc(e,n,a,6);break;case 8:nc(),zs=6;break e;default:throw Error(c(462))}}cc();break}catch(n){rc(e,n)}return _i=Ti=null,D.H=r,D.A=l,gs=t,null!==ys?0:(vs=null,bs=0,Rr(),zs)}function cc(){for(;null!==ys&&!fe();)fc(ys)}function fc(e){var n=Ni(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,null===n?mc(e):ys=n}function dc(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=di(t,n,n.pendingProps,n.type,void 0,bs);break;case 11:n=di(t,n,n.pendingProps,n.type.render,n.ref,bs);break;case 5:La(n);default:ps(t,n),n=Ni(t,n=ys=es(n,Cs),Cs)}e.memoizedProps=e.pendingProps,null===n?mc(e):ys=n}function pc(e,n,t,r){_i=Ti=null,La(n),Cl=null,zl=0;var l=n.return;try{if(ni(e,l,n,t,bs))return zs=1,Xo(e,Wr(t,e.current)),void(ys=null)}catch(n){if(null!==l)throw ys=l,n;return zs=1,Xo(e,Wr(t,e.current)),void(ys=null)}32768&n.flags?(il||1===r?e=!0:Es||536870912&bs?e=!1:(Ss=e=!0,(2===r||3===r||6===r)&&(null!==(r=Ul.current)&&13===r.tag&&(r.flags|=16384))),hc(n,e)):mc(n)}function mc(e){var n=e;do{if(32768&n.flags)return void hc(n,Ss);e=n.return;var t=fs(n.alternate,n,Cs);if(null!==t)return void(ys=t);if(null!==(n=n.sibling))return void(ys=n);ys=n=e}while(null!==n);0===zs&&(zs=5)}function hc(e,n){do{var t=ds(e.alternate,e);if(null!==t)return t.flags&=32767,void(ys=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(ys=e);ys=e=t}while(null!==e);zs=6,ys=null}function gc(e,n,t,r,l,a,o,i,u,s){var c=D.T,f=q.p;try{q.p=2,D.T=null,vc(e,n,t,r,f,l,a,o)}finally{D.T=c,q.p=f}}function vc(e,n,t,r,l,a,o,i){do{bc()}while(null!==Vs);if(6&gs)throw Error(c(327));var u=e.finishedWork;if(r=e.finishedLanes,null===u)return null;if(e.finishedWork=null,e.finishedLanes=0,u===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var s=u.lanes|u.childLanes;if(Ue(e,r,s|=Ar,a,o,i),e===vs&&(ys=vs=null,bs=0),!(10256&u.subtreeFlags)&&!(10256&u.flags)||Us||(Us=!0,Bs=s,Qs=t,se(ve,function(){return bc(),null})),t=!!(15990&u.flags),15990&u.subtreeFlags||t?(t=D.T,D.T=null,a=q.p,q.p=2,o=gs,gs|=4,yu(e,u),Tu(u,e),dr(hf,e.containerInfo),vd=!!mf,hf=mf=null,e.current=u,bu(e,u.alternate,u),de(),gs=o,q.p=a,D.T=t):e.current=u,Us?(Us=!1,Vs=e,js=r):yc(e,s),0===(s=e.pendingLanes)&&(Is=null),xe(u.stateNode),Oc(e),null!==n)for(l=e.onRecoverableError,u=0;u<n.length;u++)l((s=n[u]).value,{componentStack:s.stack});return 3&js&&bc(),s=e.pendingLanes,4194218&r&&42&s?e===Ws?$s++:($s=0,Ws=e):$s=0,Dc(0,!1),null}function yc(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Zl(n)))}function bc(){if(null!==Vs){var e=Vs,n=Bs;Bs=0;var t=Be(js),r=D.T,l=q.p;try{if(q.p=32>t?32:t,D.T=null,null===Vs)var a=!1;else{t=Qs,Qs=null;var o=Vs,i=js;if(Vs=null,js=0,6&gs)throw Error(c(331));var u=gs;if(gs|=4,qu(o.current),Uu(o,o.current,i,t),gs=u,Dc(0,!1),Ee&&"function"==typeof Ee.onPostCommitFiberRoot)try{Ee.onPostCommitFiberRoot(Se,o)}catch(e){}a=!0}return a}finally{q.p=l,D.T=r,yc(e,n)}}return!1}function kc(e,n,t){n=Wr(t,n),null!==(e=Hi(e,n=Zo(e.stateNode,n,2),2))&&(Ie(e,2),Oc(e))}function wc(e,n,t){if(3===e.tag)kc(e,e,t);else for(;null!==n;){if(3===n.tag){kc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Is||!Is.has(r))){e=Wr(t,e),null!==(r=Hi(n,t=Jo(2),2))&&(ei(t,r,n,e),Ie(r,2),Oc(r));break}}n=n.return}}function Sc(e,n,t){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var l=new Set;r.set(n,l)}else void 0===(l=r.get(n))&&(l=new Set,r.set(n,l));l.has(t)||(xs=!0,l.add(t),e=Ec.bind(null,e,n,t),n.then(e,e))}function Ec(e,n,t){var r=e.pingCache;null!==r&&r.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,vs===e&&(bs&t)===t&&(4===zs||3===zs&&(62914560&bs)===bs&&300>pe()-Ms?!(2&gs)&&tc(e,0):Ls|=t,_s===bs&&(_s=0)),Oc(e)}function xc(e,n){0===n&&(n=Ae()),null!==(e=Vr(e,n))&&(Ie(e,n),Oc(e))}function Cc(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),xc(e,t)}function zc(e,n){var t=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;null!==l&&(t=l.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(c(314))}null!==r&&r.delete(n),xc(e,t)}var Pc=null,Nc=null,Lc=!1,Tc=!1,_c=!1,Fc=0;function Oc(e){var n;e!==Nc&&null===e.next&&(null===Nc?Pc=Nc=e:Nc=Nc.next=e),Tc=!0,Lc||(Lc=!0,n=Mc,Cf(function(){6&gs?se(he,n):n()}))}function Dc(e,n){if(!_c&&Tc){_c=!0;do{for(var t=!1,r=Pc;null!==r;){if(!n)if(0!==e){var l=r.pendingLanes;if(0===l)var a=0;else{var o=r.suspendedLanes,i=r.pingedLanes;a=(1<<31-ze(42|e)+1)-1,a=201326677&(a&=l&~(o&~i))?201326677&a|1:a?2|a:0}0!==a&&(t=!0,Ic(r,a))}else a=bs,!(3&(a=Fe(r,r===vs?a:0)))||Oe(r,a)||(t=!0,Ic(r,a));r=r.next}}while(t);_c=!1}}function Mc(){Tc=Lc=!1;var e=0;0!==Fc&&(wf()&&(e=Fc),Fc=0);for(var n=pe(),t=null,r=Pc;null!==r;){var l=r.next,a=Ac(r,n);0===a?(r.next=null,null===t?Pc=l:t.next=l,null===l&&(Nc=t)):(t=r,(0!==e||3&a)&&(Tc=!0)),r=l}Dc(e,!1)}function Ac(e,n){for(var t=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-ze(a),i=1<<o,u=l[o];-1===u?0!==(i&t)&&0===(i&r)||(l[o]=De(i,n)):u<=n&&(e.expiredLanes|=i),a&=~i}if(t=bs,t=Fe(e,e===(n=vs)?t:0),r=e.callbackNode,0===t||e===n&&2===ks||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ce(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&t)||Oe(e,t)){if((n=t&-t)===e.callbackPriority)return n;switch(null!==r&&ce(r),Be(t)){case 2:case 8:t=ge;break;case 32:default:t=ve;break;case 268435456:t=be}return r=Rc.bind(null,e),t=se(t,r),e.callbackPriority=n,e.callbackNode=t,n}return null!==r&&null!==r&&ce(r),e.callbackPriority=2,e.callbackNode=null,2}function Rc(e,n){var t=e.callbackNode;if(bc()&&e.callbackNode!==t)return null;var r=bs;return 0===(r=Fe(e,e===vs?r:0))?null:(Ys(e,r,n),Ac(e,pe()),null!=e.callbackNode&&e.callbackNode===t?Rc.bind(null,e):null)}function Ic(e,n){if(bc())return null;Ys(e,n,!0)}function Uc(){return 0===Fc&&(Fc=Me()),Fc}function Vc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Un(""+e)}function jc(e,n){var t=n.ownerDocument.createElement("input");return t.name=n.name,t.value=n.value,e.id&&t.setAttribute("form",e.id),n.parentNode.insertBefore(t,n),e=new FormData(e),t.parentNode.removeChild(t),e}function Bc(e,n,t,r,l){if("submit"===n&&t&&t.stateNode===l){var a=Vc((l[qe]||null).action),o=r.submitter;o&&(null!==(n=(n=o[qe]||null)?Vc(n.formAction):o.getAttribute("formAction"))&&(a=n,o=null));var i=new ut("action","action",null,r,l);e.push({event:i,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Fc){var e=o?jc(l,o):new FormData(l);Eo(t,{pending:!0,data:e,method:l.method,action:a},null,e)}}else"function"==typeof a&&(i.preventDefault(),e=o?jc(l,o):new FormData(l),Eo(t,{pending:!0,data:e,method:l.method,action:a},a,e))},currentTarget:l}]})}}for(var Qc=0;Qc<Fr.length;Qc++){var $c=Fr[Qc];Or($c.toLowerCase(),"on"+($c[0].toUpperCase()+$c.slice(1)))}Or(xr,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(zr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Pr,"onTransitionRun"),Or(Nr,"onTransitionStart"),Or(Lr,"onTransitionCancel"),Or(Tr,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wc));function qc(e,n){n=!!(4&n);for(var t=0;t<e.length;t++){var r=e[t],l=r.event;r=r.listeners;e:{var a=void 0;if(n)for(var o=r.length-1;0<=o;o--){var i=r[o],u=i.instance,s=i.currentTarget;if(i=i.listener,u!==a&&l.isPropagationStopped())break e;a=i,l.currentTarget=s;try{a(l)}catch(e){Ho(e)}l.currentTarget=null,a=u}else for(o=0;o<r.length;o++){if(u=(i=r[o]).instance,s=i.currentTarget,i=i.listener,u!==a&&l.isPropagationStopped())break e;a=i,l.currentTarget=s;try{a(l)}catch(e){Ho(e)}l.currentTarget=null,a=u}}}}function Kc(e,n){var t=n[Ye];void 0===t&&(t=n[Ye]=new Set);var r=e+"__bubble";t.has(r)||(Zc(n,e,2,!1),t.add(r))}function Yc(e,n,t){var r=0;n&&(r|=4),Zc(t,e,r,n)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Gc(e){if(!e[Xc]){e[Xc]=!0,on.forEach(function(n){"selectionchange"!==n&&(Hc.has(n)||Yc(n,!1,e),Yc(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Xc]||(n[Xc]=!0,Yc("selectionchange",!1,n))}}function Zc(e,n,t,r){switch(xd(n)){case 2:var l=yd;break;case 8:l=bd;break;default:l=kd}t=l.bind(null,n,t,e),l=void 0,!Kn||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(l=!0),r?void 0!==l?e.addEventListener(n,t,{capture:!0,passive:l}):e.addEventListener(n,t,!0):void 0!==l?e.addEventListener(n,t,{passive:l}):e.addEventListener(n,t,!1)}function Jc(e,n,t,r,l){var a=r;if(!(1&n||2&n||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var i=r.stateNode.containerInfo;if(i===l||8===i.nodeType&&i.parentNode===l)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===l||8===u.nodeType&&u.parentNode===l))return;o=o.return}for(;null!==i;){if(null===(o=nn(i)))return;if(5===(u=o.tag)||6===u||26===u||27===u){r=a=o;continue e}i=i.parentNode}}r=r.return}Hn(function(){var r=a,l=jn(t),o=[];e:{var i=_r.get(e);if(void 0!==i){var u=ut,s=e;switch(e){case"keypress":if(0===et(t))break e;case"keydown":case"keyup":u=Et;break;case"focusin":s="focus",u=mt;break;case"focusout":s="blur",u=mt;break;case"beforeblur":case"afterblur":u=mt;break;case"click":if(2===t.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=dt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Ct;break;case xr:case Cr:case zr:u=ht;break;case Tr:u=zt;break;case"scroll":case"scrollend":u=ct;break;case"wheel":u=Pt;break;case"copy":case"cut":case"paste":u=gt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xt;break;case"toggle":case"beforetoggle":u=Nt}var c=!!(4&n),f=!c&&("scroll"===e||"scrollend"===e),d=c?null!==i?i+"Capture":null:i;c=[];for(var p,m=r;null!==m;){var h=m;if(p=h.stateNode,5!==(h=h.tag)&&26!==h&&27!==h||null===p||null===d||null!=(h=qn(m,d))&&c.push(ef(m,h,p)),f)break;m=m.return}0<c.length&&(i=new u(i,s,null,t,l),o.push({event:i,listeners:c}))}}if(!(7&n)){if(u="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||t===Vn||!(s=t.relatedTarget||t.fromElement)||!nn(s)&&!s[Ke])&&(u||i)&&(i=l.window===l?l:(i=l.ownerDocument)?i.defaultView||i.parentWindow:window,u?(u=r,null!==(s=(s=t.relatedTarget||t.toElement)?nn(s):null)&&(f=j(s),c=s.tag,s!==f||5!==c&&27!==c&&6!==c)&&(s=null)):(u=null,s=r),u!==s)){if(c=dt,h="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=xt,h="onPointerLeave",d="onPointerEnter",m="pointer"),f=null==u?i:rn(u),p=null==s?i:rn(s),(i=new c(h,m+"leave",u,t,l)).target=f,i.relatedTarget=p,h=null,nn(l)===r&&((c=new c(d,m+"enter",s,t,l)).target=p,c.relatedTarget=f,h=c),f=h,u&&s)e:{for(d=s,m=0,p=c=u;p;p=tf(p))m++;for(p=0,h=d;h;h=tf(h))p++;for(;0<m-p;)c=tf(c),m--;for(;0<p-m;)d=tf(d),p--;for(;m--;){if(c===d||null!==d&&c===d.alternate)break e;c=tf(c),d=tf(d)}c=null}else c=null;null!==u&&rf(o,i,u,c,!1),null!==s&&null!==f&&rf(o,f,s,c,!0)}if("select"===(u=(i=r?rn(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===u&&"file"===i.type)var g=Kt;else if(Bt(i))if(Yt)g=lr;else{g=tr;var v=nr}else!(u=i.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==i.type&&"radio"!==i.type?r&&An(r.elementType)&&(g=Kt):g=rr;switch(g&&(g=g(e,r))?Qt(o,g,t,l):(v&&v(e,i,r),"focusout"===e&&r&&"number"===i.type&&null!=r.memoizedProps.value&&Nn(i,"number",i.value)),v=r?rn(r):window,e){case"focusin":(Bt(v)||"true"===v.contentEditable)&&(mr=v,hr=r,gr=null);break;case"focusout":gr=hr=mr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,yr(o,t,l);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":yr(o,t,l)}var y;if(Tt)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else It?At(e,t)&&(b="onCompositionEnd"):"keydown"===e&&229===t.keyCode&&(b="onCompositionStart");b&&(Ot&&"ko"!==t.locale&&(It||"onCompositionStart"!==b?"onCompositionEnd"===b&&It&&(y=Jn()):(Gn="value"in(Xn=l)?Xn.value:Xn.textContent,It=!0)),0<(v=nf(r,b)).length&&(b=new vt(b,e,null,t,l),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Rt(t))&&(b.data=y))),(y=Ft?Ut(e,t):Vt(e,t))&&(0<(b=nf(r,"onBeforeInput")).length&&(v=new vt("onBeforeInput","beforeinput",null,t,l),o.push({event:v,listeners:b}),v.data=y)),Bc(o,e,r,t,l)}qc(o,n)})}function ef(e,n,t){return{instance:e,listener:n,currentTarget:t}}function nf(e,n){for(var t=n+"Capture",r=[];null!==e;){var l=e,a=l.stateNode;5!==(l=l.tag)&&26!==l&&27!==l||null===a||(null!=(l=qn(e,t))&&r.unshift(ef(e,l,a)),null!=(l=qn(e,n))&&r.push(ef(e,l,a))),e=e.return}return r}function tf(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function rf(e,n,t,r,l){for(var a=n._reactName,o=[];null!==t&&t!==r;){var i=t,u=i.alternate,s=i.stateNode;if(i=i.tag,null!==u&&u===r)break;5!==i&&26!==i&&27!==i||null===s||(u=s,l?null!=(s=qn(t,a))&&o.unshift(ef(t,s,u)):l||null!=(s=qn(t,a))&&o.push(ef(t,s,u))),t=t.return}0!==o.length&&e.push({event:n,listeners:o})}var lf=/\r\n?/g,af=/\u0000|\uFFFD/g;function of(e){return("string"==typeof e?e:""+e).replace(lf,"\n").replace(af,"")}function uf(e,n){return n=of(n),of(e)===n}function sf(){}function cf(e,n,t,r,l,a){switch(t){case"children":"string"==typeof r?"body"===n||"textarea"===n&&""===r||Fn(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==n&&Fn(e,""+r);break;case"className":gn(e,"class",r);break;case"tabIndex":gn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,t,r);break;case"style":Mn(e,r,a);break;case"data":if("object"!==n){gn(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==n||"href"!==t)){e.removeAttribute(t);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(t);break}r=Un(""+r),e.setAttribute(t,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===t?("input"!==n&&cf(e,n,"name",l.name,l,null),cf(e,n,"formEncType",l.formEncType,l,null),cf(e,n,"formMethod",l.formMethod,l,null),cf(e,n,"formTarget",l.formTarget,l,null)):(cf(e,n,"encType",l.encType,l,null),cf(e,n,"method",l.method,l,null),cf(e,n,"target",l.target,l,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(t);break}r=Un(""+r),e.setAttribute(t,r);break;case"onClick":null!=r&&(e.onclick=sf);break;case"onScroll":null!=r&&Kc("scroll",e);break;case"onScrollEnd":null!=r&&Kc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(c(61));if(null!=(t=r.__html)){if(null!=l.children)throw Error(c(60));e.innerHTML=t}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}t=Un(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,""+r):e.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,""):e.removeAttribute(t);break;case"capture":case"download":!0===r?e.setAttribute(t,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(t,r):e.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(t,r):e.removeAttribute(t);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(t):e.setAttribute(t,r);break;case"popover":Kc("beforetoggle",e),Kc("toggle",e),hn(e,"popover",r);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":hn(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&hn(e,t=Rn.get(t)||t,r)}}function ff(e,n,t,r,l,a){switch(t){case"style":Mn(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(c(61));if(null!=(t=r.__html)){if(null!=l.children)throw Error(c(60));e.innerHTML=t}}break;case"children":"string"==typeof r?Fn(e,r):("number"==typeof r||"bigint"==typeof r)&&Fn(e,""+r);break;case"onScroll":null!=r&&Kc("scroll",e);break;case"onScrollEnd":null!=r&&Kc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:un.hasOwnProperty(t)||("o"!==t[0]||"n"!==t[1]||(l=t.endsWith("Capture"),n=t.slice(2,l?t.length-7:void 0),"function"==typeof(a=null!=(a=e[qe]||null)?a[t]:null)&&e.removeEventListener(n,a,l),"function"!=typeof r)?t in e?e[t]=r:!0===r?e.setAttribute(t,""):hn(e,t,r):("function"!=typeof a&&null!==a&&(t in e?e[t]=null:e.hasAttribute(t)&&e.removeAttribute(t)),e.addEventListener(n,r,l)))}}function df(e,n,t){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kc("error",e),Kc("load",e);var r,l=!1,a=!1;for(r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)switch(r){case"src":l=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:cf(e,n,r,o,t,null)}}return a&&cf(e,n,"srcSet",t.srcSet,t,null),void(l&&cf(e,n,"src",t.src,t,null));case"input":Kc("invalid",e);var i=r=o=a=null,u=null,s=null;for(l in t)if(t.hasOwnProperty(l)){var f=t[l];if(null!=f)switch(l){case"name":a=f;break;case"type":o=f;break;case"checked":u=f;break;case"defaultChecked":s=f;break;case"value":r=f;break;case"defaultValue":i=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(c(137,n));break;default:cf(e,n,l,f,t,null)}}return Pn(e,r,i,u,s,o,a,!1),void wn(e);case"select":for(a in Kc("invalid",e),l=o=r=null,t)if(t.hasOwnProperty(a)&&null!=(i=t[a]))switch(a){case"value":r=i;break;case"defaultValue":o=i;break;case"multiple":l=i;default:cf(e,n,a,i,t,null)}return n=r,t=o,e.multiple=!!l,void(null!=n?Ln(e,!!l,n,!1):null!=t&&Ln(e,!!l,t,!0));case"textarea":for(o in Kc("invalid",e),r=a=l=null,t)if(t.hasOwnProperty(o)&&null!=(i=t[o]))switch(o){case"value":l=i;break;case"defaultValue":a=i;break;case"children":r=i;break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(c(91));break;default:cf(e,n,o,i,t,null)}return _n(e,l,a,r),void wn(e);case"option":for(u in t)if(t.hasOwnProperty(u)&&null!=(l=t[u]))if("selected"===u)e.selected=l&&"function"!=typeof l&&"symbol"!=typeof l;else cf(e,n,u,l,t,null);return;case"dialog":Kc("cancel",e),Kc("close",e);break;case"iframe":case"object":Kc("load",e);break;case"video":case"audio":for(l=0;l<Wc.length;l++)Kc(Wc[l],e);break;case"image":Kc("error",e),Kc("load",e);break;case"details":Kc("toggle",e);break;case"embed":case"source":case"link":Kc("error",e),Kc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(s in t)if(t.hasOwnProperty(s)&&null!=(l=t[s]))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,n));default:cf(e,n,s,l,t,null)}return;default:if(An(n)){for(f in t)t.hasOwnProperty(f)&&(void 0!==(l=t[f])&&ff(e,n,f,l,t,void 0));return}}for(i in t)t.hasOwnProperty(i)&&(null!=(l=t[i])&&cf(e,n,i,l,t,null))}function pf(e,n,t,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,a=null,o=null,i=null,u=null,s=null,f=null;for(m in t){var d=t[m];if(t.hasOwnProperty(m)&&null!=d)switch(m){case"checked":case"value":break;case"defaultValue":u=d;default:r.hasOwnProperty(m)||cf(e,n,m,null,r,d)}}for(var p in r){var m=r[p];if(d=t[p],r.hasOwnProperty(p)&&(null!=m||null!=d))switch(p){case"type":a=m;break;case"name":l=m;break;case"checked":s=m;break;case"defaultChecked":f=m;break;case"value":o=m;break;case"defaultValue":i=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(c(137,n));break;default:m!==d&&cf(e,n,p,m,r,d)}}return void zn(e,o,i,u,s,f,a,l);case"select":for(a in m=o=i=p=null,t)if(u=t[a],t.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":m=u;default:r.hasOwnProperty(a)||cf(e,n,a,null,r,u)}for(l in r)if(a=r[l],u=t[l],r.hasOwnProperty(l)&&(null!=a||null!=u))switch(l){case"value":p=a;break;case"defaultValue":i=a;break;case"multiple":o=a;default:a!==u&&cf(e,n,l,a,r,u)}return n=i,t=o,r=m,void(null!=p?Ln(e,!!t,p,!1):!!r!=!!t&&(null!=n?Ln(e,!!t,n,!0):Ln(e,!!t,t?[]:"",!1)));case"textarea":for(i in m=p=null,t)if(l=t[i],t.hasOwnProperty(i)&&null!=l&&!r.hasOwnProperty(i))switch(i){case"value":case"children":break;default:cf(e,n,i,null,r,l)}for(o in r)if(l=r[o],a=t[o],r.hasOwnProperty(o)&&(null!=l||null!=a))switch(o){case"value":p=l;break;case"defaultValue":m=l;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(c(91));break;default:l!==a&&cf(e,n,o,l,r,a)}return void Tn(e,p,m);case"option":for(var h in t)if(p=t[h],t.hasOwnProperty(h)&&null!=p&&!r.hasOwnProperty(h))if("selected"===h)e.selected=!1;else cf(e,n,h,null,r,p);for(u in r)if(p=r[u],m=t[u],r.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))if("selected"===u)e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p;else cf(e,n,u,p,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in t)p=t[g],t.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&cf(e,n,g,null,r,p);for(s in r)if(p=r[s],m=t[s],r.hasOwnProperty(s)&&p!==m&&(null!=p||null!=m))switch(s){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(c(137,n));break;default:cf(e,n,s,p,r,m)}return;default:if(An(n)){for(var v in t)p=t[v],t.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&ff(e,n,v,void 0,r,p);for(f in r)p=r[f],m=t[f],!r.hasOwnProperty(f)||p===m||void 0===p&&void 0===m||ff(e,n,f,p,r,m);return}}for(var y in t)p=t[y],t.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&cf(e,n,y,null,r,p);for(d in r)p=r[d],m=t[d],!r.hasOwnProperty(d)||p===m||null==p&&null==m||cf(e,n,d,p,r,m)}var mf=null,hf=null;function gf(e){return 9===e.nodeType?e:e.ownerDocument}function vf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yf(e,n){if(0===e)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===n?0:e}function bf(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"bigint"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var kf=null;function wf(){var e=window.event;return e&&"popstate"===e.type?e!==kf&&(kf=e,!0):(kf=null,!1)}var Sf="function"==typeof setTimeout?setTimeout:void 0,Ef="function"==typeof clearTimeout?clearTimeout:void 0,xf="function"==typeof Promise?Promise:void 0,Cf="function"==typeof queueMicrotask?queueMicrotask:void 0!==xf?function(e){return xf.resolve(null).then(e).catch(zf)}:Sf;function zf(e){setTimeout(function(){throw e})}function Pf(e,n){var t=n,r=0;do{var l=t.nextSibling;if(e.removeChild(t),l&&8===l.nodeType)if("/$"===(t=l.data)){if(0===r)return e.removeChild(l),void Qd(n);r--}else"$"!==t&&"$?"!==t&&"$!"!==t||r++;t=l}while(t);Qd(n)}function Nf(e){var n=e.firstChild;for(n&&10===n.nodeType&&(n=n.nextSibling);n;){var t=n;switch(n=n.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Nf(t),en(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===t.rel.toLowerCase())continue}e.removeChild(t)}}function Lf(e,n,t,r){for(;1===e.nodeType;){var l=t;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==l.rel||e.getAttribute("href")!==(null==l.href?null:l.href)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin)||e.getAttribute("title")!==(null==l.title?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==l.src?null:l.src)||e.getAttribute("type")!==(null==l.type?null:l.type)||e.getAttribute("crossorigin")!==(null==l.crossOrigin?null:l.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==n||"hidden"!==e.type)return e;var a=null==l.name?null:""+l.name;if("hidden"===l.type&&e.getAttribute("name")===a)return e}if(null===(e=_f(e.nextSibling)))break}return null}function Tf(e,n,t){if(""===n)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=_f(e.nextSibling)))return null}return e}function _f(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n||"F!"===n||"F"===n)break;if("/$"===n)return null}}return e}function Ff(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var t=e.data;if("$"===t||"$!"===t||"$?"===t){if(0===n)return e;n--}else"/$"===t&&n++}e=e.previousSibling}return null}function Of(e,n,t){switch(n=gf(t),e){case"html":if(!(e=n.documentElement))throw Error(c(452));return e;case"head":if(!(e=n.head))throw Error(c(453));return e;case"body":if(!(e=n.body))throw Error(c(454));return e;default:throw Error(c(451))}}var Df=new Map,Mf=new Set;function Af(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var Rf=q.d;q.d={f:function(){var e=Rf.f(),n=ec();return e||n},r:function(e){var n=tn(e);null!==n&&5===n.tag&&"form"===n.type?Co(n):Rf.r(e)},D:function(e){Rf.D(e),Uf("dns-prefetch",e,null)},C:function(e,n){Rf.C(e,n),Uf("preconnect",e,n)},L:function(e,n,t){Rf.L(e,n,t);var r=If;if(r&&e&&n){var l='link[rel="preload"][as="'+Cn(n)+'"]';"image"===n&&t&&t.imageSrcSet?(l+='[imagesrcset="'+Cn(t.imageSrcSet)+'"]',"string"==typeof t.imageSizes&&(l+='[imagesizes="'+Cn(t.imageSizes)+'"]')):l+='[href="'+Cn(e)+'"]';var a=l;switch(n){case"style":a=jf(e);break;case"script":a=$f(e)}Df.has(a)||(e=M({rel:"preload",href:"image"===n&&t&&t.imageSrcSet?void 0:e,as:n},t),Df.set(a,e),null!==r.querySelector(l)||"style"===n&&r.querySelector(Bf(a))||"script"===n&&r.querySelector(Wf(a))||(df(n=r.createElement("link"),"link",e),an(n),r.head.appendChild(n)))}},m:function(e,n){Rf.m(e,n);var t=If;if(t&&e){var r=n&&"string"==typeof n.as?n.as:"script",l='link[rel="modulepreload"][as="'+Cn(r)+'"][href="'+Cn(e)+'"]',a=l;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=$f(e)}if(!Df.has(a)&&(e=M({rel:"modulepreload",href:e},n),Df.set(a,e),null===t.querySelector(l))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(Wf(a)))return}df(r=t.createElement("link"),"link",e),an(r),t.head.appendChild(r)}}},X:function(e,n){Rf.X(e,n);var t=If;if(t&&e){var r=ln(t).hoistableScripts,l=$f(e),a=r.get(l);a||((a=t.querySelector(Wf(l)))||(e=M({src:e,async:!0},n),(n=Df.get(l))&&Yf(e,n),an(a=t.createElement("script")),df(a,"link",e),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(l,a))}},S:function(e,n,t){Rf.S(e,n,t);var r=If;if(r&&e){var l=ln(r).hoistableStyles,a=jf(e);n=n||"default";var o=l.get(a);if(!o){var i={loading:0,preload:null};if(o=r.querySelector(Bf(a)))i.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},t),(t=Df.get(a))&&Kf(e,t);var u=o=r.createElement("link");an(u),df(u,"link",e),u._p=new Promise(function(e,n){u.onload=e,u.onerror=n}),u.addEventListener("load",function(){i.loading|=1}),u.addEventListener("error",function(){i.loading|=2}),i.loading|=4,qf(o,n,r)}o={type:"stylesheet",instance:o,count:1,state:i},l.set(a,o)}}},M:function(e,n){Rf.M(e,n);var t=If;if(t&&e){var r=ln(t).hoistableScripts,l=$f(e),a=r.get(l);a||((a=t.querySelector(Wf(l)))||(e=M({src:e,async:!0,type:"module"},n),(n=Df.get(l))&&Yf(e,n),an(a=t.createElement("script")),df(a,"link",e),t.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(l,a))}}};var If="undefined"==typeof document?null:document;function Uf(e,n,t){var r=If;if(r&&"string"==typeof n&&n){var l=Cn(n);l='link[rel="'+e+'"][href="'+l+'"]',"string"==typeof t&&(l+='[crossorigin="'+t+'"]'),Mf.has(l)||(Mf.add(l),e={rel:e,crossOrigin:t,href:n},null===r.querySelector(l)&&(df(n=r.createElement("link"),"link",e),an(n),r.head.appendChild(n)))}}function Vf(e,n,t,r){var l,a,o,i,u=(u=te.current)?Af(u):null;if(!u)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof t.precedence&&"string"==typeof t.href?(n=jf(t.href),(r=(t=ln(u).hoistableStyles).get(n))||(r={type:"style",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===t.rel&&"string"==typeof t.href&&"string"==typeof t.precedence){e=jf(t.href);var s=ln(u).hoistableStyles,f=s.get(e);if(f||(u=u.ownerDocument||u,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,f),(s=u.querySelector(Bf(e)))&&!s._p&&(f.instance=s,f.state.loading=5),Df.has(e)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Df.set(e,t),s||(l=u,a=e,o=t,i=f.state,l.querySelector('link[rel="preload"][as="style"]['+a+"]")?i.loading=1:(a=l.createElement("link"),i.preload=a,a.addEventListener("load",function(){return i.loading|=1}),a.addEventListener("error",function(){return i.loading|=2}),df(a,"link",o),an(a),l.head.appendChild(a))))),n&&null===r)throw Error(c(528,""));return f}if(n&&null!==r)throw Error(c(529,""));return null;case"script":return n=t.async,"string"==typeof(t=t.src)&&n&&"function"!=typeof n&&"symbol"!=typeof n?(n=$f(t),(r=(t=ln(u).hoistableScripts).get(n))||(r={type:"script",instance:null,count:0,state:null},t.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function jf(e){return'href="'+Cn(e)+'"'}function Bf(e){return'link[rel="stylesheet"]['+e+"]"}function Qf(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function $f(e){return'[src="'+Cn(e)+'"]'}function Wf(e){return"script[async]"+e}function Hf(e,n,t){if(n.count++,null===n.instance)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+Cn(t.href)+'"]');if(r)return n.instance=r,an(r),r;var l=M({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return an(r=(e.ownerDocument||e).createElement("style")),df(r,"style",l),qf(r,t.precedence,e),n.instance=r;case"stylesheet":l=jf(t.href);var a=e.querySelector(Bf(l));if(a)return n.state.loading|=4,n.instance=a,an(a),a;r=Qf(t),(l=Df.get(l))&&Kf(r,l),an(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,n){o.onload=e,o.onerror=n}),df(a,"link",r),n.state.loading|=4,qf(a,t.precedence,e),n.instance=a;case"script":return a=$f(t.src),(l=e.querySelector(Wf(a)))?(n.instance=l,an(l),l):(r=t,(l=Df.get(a))&&Yf(r=M({},t),l),an(l=(e=e.ownerDocument||e).createElement("script")),df(l,"link",r),e.head.appendChild(l),n.instance=l);case"void":return null;default:throw Error(c(443,n.type))}else"stylesheet"===n.type&&!(4&n.state.loading)&&(r=n.instance,n.state.loading|=4,qf(r,t.precedence,e));return n.instance}function qf(e,n,t){for(var r=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=r.length?r[r.length-1]:null,a=l,o=0;o<r.length;o++){var i=r[o];if(i.dataset.precedence===n)a=i;else if(a!==l)break}a?a.parentNode.insertBefore(e,a.nextSibling):(n=9===t.nodeType?t.head:t).insertBefore(e,n.firstChild)}function Kf(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.title&&(e.title=n.title)}function Yf(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.integrity&&(e.integrity=n.integrity)}var Xf=null;function Gf(e,n,t){if(null===Xf){var r=new Map,l=Xf=new Map;l.set(t,r)}else(r=(l=Xf).get(t))||(r=new Map,l.set(t,r));if(r.has(e))return r;for(r.set(e,null),t=t.getElementsByTagName(e),l=0;l<t.length;l++){var a=t[l];if(!(a[Je]||a[He]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(n)||"";o=e+o;var i=r.get(o);i?i.push(a):r.set(o,[a])}}return r}function Zf(e,n,t){(e=e.ownerDocument||e).head.insertBefore(t,"title"===n?e.querySelector("head > title"):null)}function Jf(e,n,t){if(1===t||null!=n.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof n.precedence||"string"!=typeof n.href||""===n.href)break;return!0;case"link":if("string"!=typeof n.rel||"string"!=typeof n.href||""===n.href||n.onLoad||n.onError)break;return"stylesheet"!==n.rel||(e=n.disabled,"string"==typeof n.precedence&&null==e);case"script":if(n.async&&"function"!=typeof n.async&&"symbol"!=typeof n.async&&!n.onLoad&&!n.onError&&n.src&&"string"==typeof n.src)return!0}return!1}function ed(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var nd=null;function td(){}function rd(e,n,t){if(null===nd)throw Error(c(475));var r=nd;if(!("stylesheet"!==n.type||"string"==typeof t.media&&!1===matchMedia(t.media).matches||4&n.state.loading)){if(null===n.instance){var l=jf(t.href),a=e.querySelector(Bf(l));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(r.count++,r=ad.bind(r),e.then(r,r)),n.state.loading|=4,n.instance=a,void an(a);a=e.ownerDocument||e,t=Qf(t),(l=Df.get(l))&&Kf(t,l),an(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,n){o.onload=e,o.onerror=n}),df(a,"link",t),n.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(n,e),(e=n.state.preload)&&!(3&n.state.loading)&&(r.count++,n=ad.bind(r),e.addEventListener("load",n),e.addEventListener("error",n))}}function ld(){if(null===nd)throw Error(c(475));var e=nd;return e.stylesheets&&0===e.count&&id(e,e.stylesheets),0<e.count?function(n){var t=setTimeout(function(){if(e.stylesheets&&id(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(t)}}:null}function ad(){if(this.count--,0===this.count)if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var od=null;function id(e,n){e.stylesheets=null,null!==e.unsuspend&&(e.count++,od=new Map,n.forEach(ud,e),od=null,ad.call(e))}function ud(e,n){if(!(4&n.state.loading)){var t=od.get(e);if(t)var r=t.get(null);else{t=new Map,od.set(e,t);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<l.length;a++){var o=l[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(t.set(o.dataset.precedence,o),r=o)}r&&t.set(null,r)}o=(l=n.instance).getAttribute("data-precedence"),(a=t.get(o)||r)===r&&t.set(null,l),t.set(o,l),this.count++,r=ad.bind(this),l.addEventListener("load",r),l.addEventListener("error",r),a?a.parentNode.insertBefore(l,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(l,e.firstChild),n.state.loading|=4}}var sd={$$typeof:k,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function cd(e,n,t,r,l,a,o,i){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function fd(e,n,t,r,l,a,o,i,u,s,c,f){return e=new cd(e,n,t,o,i,u,s,f),n=1,!0===a&&(n|=24),a=Gu(3,null,null,n),e.current=a,a.stateNode=e,(n=Gl()).refCount++,e.pooledCache=n,n.refCount++,a.memoizedState={element:r,isDehydrated:t,cache:n},Qi(a),e}function dd(e){return e?e=Qr:Qr}function pd(e,n,t,r,l,a){l=dd(l),null===r.context?r.context=l:r.pendingContext=l,(r=Wi(n)).payload={element:t},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(t=Hi(e,r,n))&&(Ks(t,0,n),qi(t,e,n))}function md(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function hd(e,n){md(e,n),(e=e.alternate)&&md(e,n)}function gd(e){if(13===e.tag){var n=Vr(e,67108864);null!==n&&Ks(n,0,67108864),hd(e,67108864)}}var vd=!0;function yd(e,n,t,r){var l=D.T;D.T=null;var a=q.p;try{q.p=2,kd(e,n,t,r)}finally{q.p=a,D.T=l}}function bd(e,n,t,r){var l=D.T;D.T=null;var a=q.p;try{q.p=8,kd(e,n,t,r)}finally{q.p=a,D.T=l}}function kd(e,n,t,r){if(vd){var l=wd(r);if(null===l)Jc(e,n,r,Sd,t),Od(e,r);else if(Md(l,e,n,t,r))r.stopPropagation();else if(Od(e,r),4&n&&-1<Fd.indexOf(e)){for(;null!==l;){var a=tn(l);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=_e(a.pendingLanes);if(0!==o){var i=a;for(i.pendingLanes|=2,i.entangledLanes|=2;o;){var u=1<<31-ze(o);i.entanglements[1]|=u,o&=~u}Oc(a),!(6&gs)&&(As=pe()+500,Dc(0,!1))}}break;case 13:null!==(i=Vr(a,2))&&Ks(i,0,2),ec(),hd(a,2)}if(null===(a=wd(r))&&Jc(e,n,r,Sd,t),a===l)break;l=a}null!==l&&r.stopPropagation()}else Jc(e,n,r,null,t)}}function wd(e){return Ed(e=jn(e))}var Sd=null;function Ed(e){if(Sd=null,null!==(e=nn(e))){var n=j(e);if(null===n)e=null;else{var t=n.tag;if(13===t){if(null!==(e=B(n)))return e;e=null}else if(3===t){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sd=e,null}function xd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(me()){case he:return 2;case ge:return 8;case ve:case ye:return 32;case be:return 268435456;default:return 32}default:return 32}}var Cd=!1,zd=null,Pd=null,Nd=null,Ld=new Map,Td=new Map,_d=[],Fd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Od(e,n){switch(e){case"focusin":case"focusout":zd=null;break;case"dragenter":case"dragleave":Pd=null;break;case"mouseover":case"mouseout":Nd=null;break;case"pointerover":case"pointerout":Ld.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Td.delete(n.pointerId)}}function Dd(e,n,t,r,l,a){return null===e||e.nativeEvent!==a?(e={blockedOn:n,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[l]},null!==n&&(null!==(n=tn(n))&&gd(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,null!==l&&-1===n.indexOf(l)&&n.push(l),e)}function Md(e,n,t,r,l){switch(n){case"focusin":return zd=Dd(zd,e,n,t,r,l),!0;case"dragenter":return Pd=Dd(Pd,e,n,t,r,l),!0;case"mouseover":return Nd=Dd(Nd,e,n,t,r,l),!0;case"pointerover":var a=l.pointerId;return Ld.set(a,Dd(Ld.get(a)||null,e,n,t,r,l)),!0;case"gotpointercapture":return a=l.pointerId,Td.set(a,Dd(Td.get(a)||null,e,n,t,r,l)),!0}return!1}function Ad(e){var n=nn(e.target);if(null!==n){var t=j(n);if(null!==t)if(13===(n=t.tag)){if(null!==(n=B(t)))return e.blockedOn=n,void $e(e.priority,function(){if(13===t.tag){var e=Hs(),n=Vr(t,e);null!==n&&Ks(n,0,e),hd(t,e)}})}else if(3===n&&t.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===t.tag?t.stateNode.containerInfo:null)}e.blockedOn=null}function Rd(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var t=wd(e.nativeEvent);if(null!==t)return null!==(n=tn(t))&&gd(n),e.blockedOn=t,!1;var r=new(t=e.nativeEvent).constructor(t.type,t);Vn=r,t.target.dispatchEvent(r),Vn=null,n.shift()}return!0}function Id(e,n,t){Rd(e)&&t.delete(n)}function Ud(){Cd=!1,null!==zd&&Rd(zd)&&(zd=null),null!==Pd&&Rd(Pd)&&(Pd=null),null!==Nd&&Rd(Nd)&&(Nd=null),Ld.forEach(Id),Td.forEach(Id)}function Vd(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ud)))}var jd=null;function Bd(e){jd!==e&&(jd=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){jd===e&&(jd=null);for(var n=0;n<e.length;n+=3){var t=e[n],r=e[n+1],l=e[n+2];if("function"!=typeof r){if(null===Ed(r||t))continue;break}var a=tn(t);null!==a&&(e.splice(n,3),n-=3,Eo(a,{pending:!0,data:l,method:t.method,action:r},r,l))}}))}function Qd(e){function n(n){return Vd(n,e)}null!==zd&&Vd(zd,e),null!==Pd&&Vd(Pd,e),null!==Nd&&Vd(Nd,e),Ld.forEach(n),Td.forEach(n);for(var t=0;t<_d.length;t++){var r=_d[t];r.blockedOn===e&&(r.blockedOn=null)}for(;0<_d.length&&null===(t=_d[0]).blockedOn;)Ad(t),null===t.blockedOn&&_d.shift();if(null!=(t=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<t.length;r+=3){var l=t[r],a=t[r+1],o=l[qe]||null;if("function"==typeof a)o||Bd(t);else if(o){var i=null;if(a&&a.hasAttribute("formAction")){if(l=a,o=a[qe]||null)i=o.formAction;else if(null!==Ed(l))continue}else i=o.action;"function"==typeof i?t[r+1]=i:(t.splice(r,3),r-=3),Bd(t)}}}function $d(e){this._internalRoot=e}function Wd(e){this._internalRoot=e}Wd.prototype.render=$d.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(c(409));pd(n.current,Hs(),e,n,null,null)},Wd.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;0===e.tag&&bc(),pd(e.current,2,null,e,null,null),ec(),n[Ke]=null}},Wd.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qe();e={blockedOn:null,target:e,priority:n};for(var t=0;t<_d.length&&0!==n&&n<_d[t].priority;t++);_d.splice(t,0,e),0===t&&Ad(e)}};var Hd=u.version;if("19.0.0"!==Hd)throw Error(c(527,Hd,"19.0.0"));q.findDOMNode=function(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(c(188));throw e=Object.keys(e).join(","),Error(c(268,e))}return e=null===(e=null!==(e=$(n))?W(e):null)?null:e.stateNode};var qd={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:D,findFiberByHostInstance:nn,reconcilerVersion:"19.0.0"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{Se=Kd.inject(qd),Ee=Kd}catch(e){}}a.createRoot=function(e,n){if(!f(e))throw Error(c(299));var t=!1,r="",l=qo,a=Ko,o=Yo;return null!=n&&(!0===n.unstable_strictMode&&(t=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(a=n.onCaughtError),void 0!==n.onRecoverableError&&(o=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks),n=fd(e,1,!1,null,0,t,r,l,a,o,0,null),e[Ke]=n.current,Gc(8===e.nodeType?e.parentNode:e),new $d(n)},a.hydrateRoot=function(e,n,t){if(!f(e))throw Error(c(299));var r=!1,l="",a=qo,o=Ko,i=Yo,u=null;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(l=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(i=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks,void 0!==t.formState&&(u=t.formState)),(n=fd(e,1,!0,n,0,r,l,a,o,i,0,u)).context=dd(null),t=n.current,(l=Wi(r=Hs())).callback=null,Hi(t,l,r),n.current.lanes=r,Ie(n,r),Oc(n),e[Ke]=n.current,Gc(e),new Wd(n)},a.version="19.0.0"},22,[23,25,27]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},23,[24]);
__d(function(g,r,i,_a,m,e,d){
/**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";function n(n,t){var a=n.length;n.push(t);e:for(;0<a;){var o=a-1>>>1,u=n[o];if(!(0<l(u,t)))break e;n[o]=t,n[a]=u,a=o}}function t(n){return 0===n.length?null:n[0]}function a(n){if(0===n.length)return null;var t=n[0],a=n.pop();if(a!==t){n[0]=a;e:for(var o=0,u=n.length,s=u>>>1;o<s;){var f=2*(o+1)-1,c=n[f],b=f+1,p=n[b];if(0>l(c,a))b<u&&0>l(p,c)?(n[o]=p,n[b]=a,o=b):(n[o]=c,n[f]=a,o=f);else{if(!(b<u&&0>l(p,a)))break e;n[o]=p,n[b]=a,o=b}}}return t}function l(n,t){var a=n.sortIndex-t.sortIndex;return 0!==a?a:n.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();e.unstable_now=function(){return u.now()-s}}var f=[],c=[],b=1,p=null,v=3,y=!1,_=!1,k=!1,w="function"==typeof setTimeout?setTimeout:null,h="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function T(l){for(var o=t(c);null!==o;){if(null===o.callback)a(c);else{if(!(o.startTime<=l))break;a(c),o.sortIndex=o.expirationTime,n(f,o)}o=t(c)}}function I(n){if(k=!1,T(n),!_)if(null!==t(f))_=!0,q();else{var a=t(c);null!==a&&B(I,a.startTime-n)}}var P,C=!1,L=-1,M=5,F=-1;function j(){return!(e.unstable_now()-F<M)}function E(){if(C){var n=e.unstable_now();F=n;var l=!0;try{e:{_=!1,k&&(k=!1,h(L),L=-1),y=!0;var o=v;try{n:{for(T(n),p=t(f);null!==p&&!(p.expirationTime>n&&j());){var u=p.callback;if("function"==typeof u){p.callback=null,v=p.priorityLevel;var s=u(p.expirationTime<=n);if(n=e.unstable_now(),"function"==typeof s){p.callback=s,T(n),l=!0;break n}p===t(f)&&a(f),T(n)}else a(f);p=t(f)}if(null!==p)l=!0;else{var b=t(c);null!==b&&B(I,b.startTime-n),l=!1}}break e}finally{p=null,v=o,y=!1}l=void 0}}finally{l?P():C=!1}}}if("function"==typeof x)P=function(){x(E)};else if("undefined"!=typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=E,P=function(){R.postMessage(null)}}else P=function(){w(E,0)};function q(){C||(C=!0,P())}function B(n,t){L=w(function(){n(e.unstable_now())},t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(n){n.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,q())},e.unstable_forceFrameRate=function(n){0>n||125<n?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<n?Math.floor(1e3/n):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return t(f)},e.unstable_next=function(n){switch(v){case 1:case 2:case 3:var t=3;break;default:t=v}var a=v;v=t;try{return n()}finally{v=a}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(n,t){switch(n){case 1:case 2:case 3:case 4:case 5:break;default:n=3}var a=v;v=n;try{return t()}finally{v=a}},e.unstable_scheduleCallback=function(a,l,o){var u=e.unstable_now();switch("object"==typeof o&&null!==o?o="number"==typeof(o=o.delay)&&0<o?u+o:u:o=u,a){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return a={id:b++,callback:l,priorityLevel:a,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(a.sortIndex=o,n(c,a),null===t(f)&&a===t(c)&&(k?(h(L),L=-1):k=!0,B(I,o-u))):(a.sortIndex=s,n(f,a),_||y||(_=!0,q())),a},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(n){var t=v;return function(){var a=v;v=t;try{return n.apply(this,arguments)}finally{v=a}}}},24,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},25,[26]);
__d(function(g,r,_i,a,m,e,d){
/**
   * @license React
   * react.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),s=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),h=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,b={};function S(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||v}function E(){}function w(t,n,o){this.props=t,this.context=n,this.refs=b,this.updater=o||v}S.prototype.isReactComponent={},S.prototype.setState=function(t,n){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,n,"setState")},S.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},E.prototype=S.prototype;var j=w.prototype=new E;j.constructor=w,_(j,S.prototype),j.isPureReactComponent=!0;var H=Array.isArray,k={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function $(n,o,u,i,c,s){return u=s.ref,{$$typeof:t,type:n,key:o,ref:void 0!==u?u:null,props:s}}function C(n){return"object"==typeof n&&null!==n&&n.$$typeof===t}var T=/\/+/g;function x(t,n){return"object"==typeof t&&null!==t&&null!=t.key?(o=""+t.key,u={"=":"=0",":":"=2"},"$"+o.replace(/[=:]/g,function(t){return u[t]})):n.toString(36);var o,u}function A(){}function O(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch("string"==typeof t.status?t.then(A,A):(t.status="pending",t.then(function(n){"pending"===t.status&&(t.status="fulfilled",t.value=n)},function(n){"pending"===t.status&&(t.status="rejected",t.reason=n)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function I(o,u,i,c,s){var f=typeof o;"undefined"!==f&&"boolean"!==f||(o=null);var l,p,v=!1;if(null===o)v=!0;else switch(f){case"bigint":case"string":case"number":v=!0;break;case"object":switch(o.$$typeof){case t:case n:v=!0;break;case y:return I((v=o._init)(o._payload),u,i,c,s)}}if(v)return s=s(o),v=""===c?"."+x(o,0):c,H(s)?(i="",null!=v&&(i=v.replace(T,"$&/")+"/"),I(s,u,i,"",function(t){return t})):null!=s&&(C(s)&&(l=s,p=i+(null==s.key||o&&o.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+v,s=$(l.type,p,void 0,0,0,l.props)),u.push(s)),1;v=0;var _,b=""===c?".":c+":";if(H(o))for(var S=0;S<o.length;S++)v+=I(c=o[S],u,i,f=b+x(c,S),s);else if("function"==typeof(S=null===(_=o)||"object"!=typeof _?null:"function"==typeof(_=h&&_[h]||_["@@iterator"])?_:null))for(o=S.call(o),S=0;!(c=o.next()).done;)v+=I(c=c.value,u,i,f=b+x(c,S++),s);else if("object"===f){if("function"==typeof o.then)return I(O(o),u,i,c,s);throw u=String(o),Error("Objects are not valid as a React child (found: "+("[object Object]"===u?"object with keys {"+Object.keys(o).join(", ")+"}":u)+"). If you meant to render a collection of children, use an array instead.")}return v}function P(t,n,o){if(null==t)return t;var u=[],i=0;return I(t,u,"","",function(t){return n.call(o,t,i++)}),u}function N(t){if(-1===t._status){var n=t._result;(n=n()).then(function(n){0!==t._status&&-1!==t._status||(t._status=1,t._result=n)},function(n){0!==t._status&&-1!==t._status||(t._status=2,t._result=n)}),-1===t._status&&(t._status=0,t._result=n)}if(1===t._status)return t._result.default;throw t._result}var U="function"==typeof reportError?reportError:function(t){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof t&&null!==t&&"string"==typeof t.message?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",t);console.error(t)};function V(){}e.Children={map:P,forEach:function(t,n,o){P(t,function(){n.apply(this,arguments)},o)},count:function(t){var n=0;return P(t,function(){n++}),n},toArray:function(t){return P(t,function(t){return t})||[]},only:function(t){if(!C(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=S,e.Fragment=o,e.Profiler=i,e.PureComponent=w,e.StrictMode=u,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,e.act=function(){throw Error("act(...) is not supported in production builds of React.")},e.cache=function(t){return function(){return t.apply(null,arguments)}},e.cloneElement=function(t,n,o){if(null==t)throw Error("The argument must be a React element, but you passed "+t+".");var u=_({},t.props),i=t.key;if(null!=n)for(c in void 0!==n.ref&&void 0,void 0!==n.key&&(i=""+n.key),n)!R.call(n,c)||"key"===c||"__self"===c||"__source"===c||"ref"===c&&void 0===n.ref||(u[c]=n[c]);var c=arguments.length-2;if(1===c)u.children=o;else if(1<c){for(var s=Array(c),f=0;f<c;f++)s[f]=arguments[f+2];u.children=s}return $(t.type,i,void 0,0,0,u)},e.createContext=function(t){return(t={$$typeof:s,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider=t,t.Consumer={$$typeof:c,_context:t},t},e.createElement=function(t,n,o){var u,i={},c=null;if(null!=n)for(u in void 0!==n.key&&(c=""+n.key),n)R.call(n,u)&&"key"!==u&&"__self"!==u&&"__source"!==u&&(i[u]=n[u]);var s=arguments.length-2;if(1===s)i.children=o;else if(1<s){for(var f=Array(s),l=0;l<s;l++)f[l]=arguments[l+2];i.children=f}if(t&&t.defaultProps)for(u in s=t.defaultProps)void 0===i[u]&&(i[u]=s[u]);return $(t,c,void 0,0,0,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:f,render:t}},e.isValidElement=C,e.lazy=function(t){return{$$typeof:y,_payload:{_status:-1,_result:t},_init:N}},e.memo=function(t,n){return{$$typeof:p,type:t,compare:void 0===n?null:n}},e.startTransition=function(t){var n=k.T,o={};k.T=o;try{var u=t(),i=k.S;null!==i&&i(o,u),"object"==typeof u&&null!==u&&"function"==typeof u.then&&u.then(V,U)}catch(t){U(t)}finally{k.T=n}},e.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},e.use=function(t){return k.H.use(t)},e.useActionState=function(t,n,o){return k.H.useActionState(t,n,o)},e.useCallback=function(t,n){return k.H.useCallback(t,n)},e.useContext=function(t){return k.H.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t,n){return k.H.useDeferredValue(t,n)},e.useEffect=function(t,n){return k.H.useEffect(t,n)},e.useId=function(){return k.H.useId()},e.useImperativeHandle=function(t,n,o){return k.H.useImperativeHandle(t,n,o)},e.useInsertionEffect=function(t,n){return k.H.useInsertionEffect(t,n)},e.useLayoutEffect=function(t,n){return k.H.useLayoutEffect(t,n)},e.useMemo=function(t,n){return k.H.useMemo(t,n)},e.useOptimistic=function(t,n){return k.H.useOptimistic(t,n)},e.useReducer=function(t,n,o){return k.H.useReducer(t,n,o)},e.useRef=function(t){return k.H.useRef(t)},e.useState=function(t){return k.H.useState(t)},e.useSyncExternalStore=function(t,n,o){return k.H.useSyncExternalStore(t,n,o)},e.useTransition=function(){return k.H.useTransition()},e.version="19.0.0"},26,[]);
__d(function(g,r,i,a,m,e,d){'use strict';!(function _(){if('undefined'!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&'function'==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_)}catch(_){console.error(_)}})(),m.exports=r(d[0])},27,[28]);
__d(function(g,r,_i,_a,m,e,d){
/**
   * @license React
   * react-dom.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=r(d[0]);function i(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)i+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(i(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function f(t,i,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==o?null:""+o,children:t,containerInfo:i,implementation:n}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(t,i){return"font"===t?"":"string"==typeof i?"use-credentials"===i?i:"":void 0}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,e.createPortal=function(t,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(i(299));return f(t,n,null,o)},e.flushSync=function(t){var i=c.T,n=o.p;try{if(c.T=null,o.p=2,t)return t()}finally{c.T=i,o.p=n,o.d.f()}},e.preconnect=function(t,i){"string"==typeof t&&(i?i="string"==typeof(i=i.crossOrigin)?"use-credentials"===i?i:"":void 0:i=null,o.d.C(t,i))},e.prefetchDNS=function(t){"string"==typeof t&&o.d.D(t)},e.preinit=function(t,i){if("string"==typeof t&&i&&"string"==typeof i.as){var n=i.as,s=y(n,i.crossOrigin),f="string"==typeof i.integrity?i.integrity:void 0,c="string"==typeof i.fetchPriority?i.fetchPriority:void 0;"style"===n?o.d.S(t,"string"==typeof i.precedence?i.precedence:void 0,{crossOrigin:s,integrity:f,fetchPriority:c}):"script"===n&&o.d.X(t,{crossOrigin:s,integrity:f,fetchPriority:c,nonce:"string"==typeof i.nonce?i.nonce:void 0})}},e.preinitModule=function(t,i){if("string"==typeof t)if("object"==typeof i&&null!==i){if(null==i.as||"script"===i.as){var n=y(i.as,i.crossOrigin);o.d.M(t,{crossOrigin:n,integrity:"string"==typeof i.integrity?i.integrity:void 0,nonce:"string"==typeof i.nonce?i.nonce:void 0})}}else null==i&&o.d.M(t)},e.preload=function(t,i){if("string"==typeof t&&"object"==typeof i&&null!==i&&"string"==typeof i.as){var n=i.as,s=y(n,i.crossOrigin);o.d.L(t,n,{crossOrigin:s,integrity:"string"==typeof i.integrity?i.integrity:void 0,nonce:"string"==typeof i.nonce?i.nonce:void 0,type:"string"==typeof i.type?i.type:void 0,fetchPriority:"string"==typeof i.fetchPriority?i.fetchPriority:void 0,referrerPolicy:"string"==typeof i.referrerPolicy?i.referrerPolicy:void 0,imageSrcSet:"string"==typeof i.imageSrcSet?i.imageSrcSet:void 0,imageSizes:"string"==typeof i.imageSizes?i.imageSizes:void 0,media:"string"==typeof i.media?i.media:void 0})}},e.preloadModule=function(t,i){if("string"==typeof t)if(i){var n=y(i.as,i.crossOrigin);o.d.m(t,{as:"string"==typeof i.as&&"script"!==i.as?i.as:void 0,crossOrigin:n,integrity:"string"==typeof i.integrity?i.integrity:void 0})}else o.d.m(t)},e.requestFormReset=function(t){o.d.r(t)},e.unstable_batchedUpdates=function(t,i){return t(i)},e.useFormState=function(t,i,n){return c.H.useFormState(t,i,n)},e.useFormStatus=function(){return c.H.useHostTransitionStatus()},e.version="19.0.0"},28,[25]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createSheet=function(t,f){void 0===f&&(f=s);var b;if(n.default){var p=null!=t?t.getRootNode():document;if(0===c.length)b=(0,o.default)((0,u.default)(f)),h.forEach(t=>{b.insert(t,0)}),l.set(p,c.length),c.push(b);else{var v=l.get(p);if(null==v){var k=c[0],w=null!=k?k.getTextContent():'';b=(0,o.default)((0,u.default)(f,p,w)),l.set(p,c.length),c.push(b)}else b=c[v]}}else 0===c.length?(b=(0,o.default)((0,u.default)(f)),h.forEach(t=>{b.insert(t,0)}),c.push(b)):b=c[0];return{getTextContent:()=>b.getTextContent(),id:f,insert(t,n){c.forEach(u=>{u.insert(t,n)})}}};var n=t(r(d[1])),u=t(r(d[2])),o=t(r(d[3])),s='react-native-stylesheet',l=new WeakMap,c=[],h=['html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}','body{margin:0;}','button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}','input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}']},29,[1,30,31,32]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=!('undefined'==typeof window||!window.document||!window.document.createElement);e.default=n},30,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,l,o){if(n.default){var u=null!=l?l:document,f=u.getElementById(t);if(null==f)if((f=document.createElement('style')).setAttribute('id',t),'string'==typeof o&&f.appendChild(document.createTextNode(o)),u instanceof ShadowRoot)u.insertBefore(f,u.firstChild);else{var s=u.head;s&&s.insertBefore(f,s.firstChild)}return f.sheet}return null};var n=t(r(d[1]))},31,[1,30]);
__d(function(g,r,_i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(n){var s,o={},c={};null!=n&&t.call(n.cssRules).forEach((t,e)=>{var n=t.cssText;if(n.indexOf('stylesheet-group')>-1)s=u(t),o[s]={start:e,rules:[n]};else{var l=a(n);null!=l&&(c[l]=!0,o[s].rules.push(n))}});function f(t,e,n){var u=l(o),s=u.indexOf(e)+1,a=u[s],c=null!=a&&null!=o[a].start?o[a].start:t.cssRules.length,f=i(t,n,c);if(f){null==o[e].start&&(o[e].start=c);for(var v=s;v<u.length;v+=1){var p=u[v],h=o[p].start||0;o[p].start=h+1}}return f}return{getTextContent:()=>l(o).map(t=>{var e=o[t].rules,n=e.shift();return e.sort(),e.unshift(n),e.join('\n')}).join('\n'),insert(t,u){var l=Number(u);if(null==o[l]){var s=e(l);o[l]={start:null,rules:[s]},null!=n&&f(n,l,s)}var i=a(t);null!=i&&null==c[i]&&(c[i]=!0,o[l].rules.push(t),null!=n&&(f(n,l,t)||o[l].rules.pop()))}}};var t=Array.prototype.slice;function e(t){return"[stylesheet-group=\""+t+"\"]{}"}var n=/["']/g;function u(t){return Number(t.selectorText.split(n)[1])}function l(t){return Object.keys(t).map(Number).sort((t,e)=>t>e?1:-1)}var s=/\s*([,])\s*/g;function a(t){var e=t.split('{')[0].trim();return''!==e?e.replace(s,'$1'):null}function i(t,e,n){try{return t.insertRule(e,n),!0}catch(t){return!1}}},32,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),i=t(r(d[2])),o=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]),f=r(d[7]),s=(r(d[8]),t(r(d[9]))),v=["writingDirection"],_=new WeakMap,O=(0,l.createSheet)(),w={shadow:!0,textShadow:!0};function h(t,o){void 0===o&&(o={});var l=o,s=l.writingDirection,O=(0,i.default)(l,v),h='rtl'===s;return f.styleq.factory({transform(t){var i=_.get(t);return null!=i?(0,u.localizeStyle)(i,h):(0,c.preprocess)(t,(0,n.default)((0,n.default)({},w),O))}})(t)}function p(t){t.forEach(t=>{var n=t[0],i=t[1];null!=O&&n.forEach(t=>{O.insert(t,i)})})}function y(t,n){var i=(0,o.classic)(t,n),l=i[0];return p(i[1]),l}var b={position:'absolute',left:0,right:0,top:0,bottom:0},A=E({x:(0,n.default)({},b)}).x;function E(t){return Object.keys(t).forEach(n=>{var i,l,u,f,s=t[n];null!=s&&!0!==s.$$css&&(n.indexOf('$raw')>-1?i=y(s,n.split('$raw')[0]):(l=s,u=(0,o.atomic)((0,c.preprocess)(l,w)),f=u[0],p(u[1]),i=f),_.set(s,i))}),t}function S(t,n){void 0===n&&(n={});var i='rtl'===n.writingDirection,l=h(t,n);return Array.isArray(l)&&null!=l[1]&&(l[1]=(0,o.inline)(l[1],i)),l}S.absoluteFill=A,S.absoluteFillObject=b,S.create=E,S.compose=function(t,n){return[t,n]},S.flatten=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var o=n.flat(1/0),l={},u=0;u<o.length;u++){var c=o[u];null!=c&&'object'==typeof c&&Object.assign(l,c)}return l},S.getSheet=function(){return{id:O.id,textContent:O.getTextContent()}},S.hairlineWidth=1,s.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=S.flatten);var x=S;e.default=x},33,[1,10,34,35,29,75,77,79,80,30]);
__d(function(g,_r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n){if(null==e)return{};var r={};for(var f in e)if({}.hasOwnProperty.call(e,f)){if(-1!==n.indexOf(f))continue;r[f]=e[f]}return r}},34,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.atomic=function(n){var t={$$css:!0},i=[];function o(n,t,o){var l,s=K(o,t),u=t+s,f=c.get(u);if(null!=f)l=f[0],i.push(f[1]);else{l=M('r',n,n!==t?u:s);var p=y[n]||v,b=[T(l,t,o),p];i.push(b),c.set(u,[l,b])}return l}return Object.keys(n).sort().forEach(i=>{var l=n[i];if(null!=l){var s;if(J.indexOf(i)>-1){var u=o(i,i,'left'),f=o(i,i,'right');'start'===l?s=[u,f]:'end'===l&&(s=[f,u])}var p=_[i];if(null!=p){var c=o(i,p,l),b=o(i,P[p],l);s=[c,b]}if('transitionProperty'===i){for(var h=Array.isArray(l)?l:[l],v=[],y=0;y<h.length;y++){var S=h[y];'string'==typeof S&&null!=_[S]&&v.push(y)}if(v.length>0){var E=[...h],I=[...h];v.forEach(n=>{var t=E[n];if('string'==typeof t){var l=_[t],u=P[l];E[n]=l,I[n]=u;var f=o(i,i,E),p=o(i,i,I);s=[f,p]}})}}null==s?s=o(i,i,l):t.$$css$localize=!0,t[i]=s}}),[t,i]},e.classic=function(n,o){var l,s={$$css:!0},u=[],f=n.animationKeyframes,c=(0,i.default)(n,p),b=M('css',o,JSON.stringify(n)),v="."+b;if(null!=f){var y=q(f),S=y[0],E=y[1];l=S.join(','),u.push(...E)}var I=z((0,t.default)((0,t.default)({},c),{},{animationName:l}));return u.push(""+v+I),s[b]=b,[s,[[u,h]]]},e.inline=function(n,t){var i=n||b,l={},s={},u=function(){var n=i[f],o=f,u=n;if(!Object.prototype.hasOwnProperty.call(i,f)||null==n)return"continue";J.indexOf(f)>-1&&('start'===n?u=t?'right':'left':'end'===n&&(u=t?'left':'right'));var p=_[f];if(null!=p&&(o=t?P[p]:p),'transitionProperty'===f){var c=Array.isArray(n)?n:[n];c.forEach((n,i)=>{if('string'==typeof n){var o=_[n];null!=o&&(c[i]=t?P[o]:o,u=c.join(' '))}})}l[o]||(s[o]=u),o===f&&(l[o]=!0)};for(var f in i)u();return(0,o.default)(s,!0)},e.stringifyValueWithProperty=K;var t=n(r(d[1])),i=n(r(d[2])),o=n(r(d[3])),l=n(r(d[4])),s=n(r(d[5])),u=n(r(d[6])),f=n(r(d[7])),p=["animationKeyframes"],c=new Map,b={},h=1,v=3,y={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},S='borderTopLeftRadius',E='borderTopRightRadius',I='borderBottomLeftRadius',k='borderBottomRightRadius',R='borderLeftColor',B='borderLeftStyle',W='borderLeftWidth',j='borderRightColor',C='borderRightStyle',O='borderRightWidth',w='right',x='marginLeft',A='marginRight',L='paddingLeft',$='paddingRight',N='left',P={[S]:E,[E]:S,[I]:k,[k]:I,[R]:j,[B]:C,[W]:O,[j]:R,[C]:B,[O]:W,[N]:w,[x]:A,[A]:x,[L]:$,[$]:L,[w]:N},_={borderStartStartRadius:S,borderStartEndRadius:E,borderEndStartRadius:I,borderEndEndRadius:k,borderInlineStartColor:R,borderInlineStartStyle:B,borderInlineStartWidth:W,borderInlineEndColor:j,borderInlineEndStyle:C,borderInlineEndWidth:O,insetInlineEnd:w,insetInlineStart:N,marginInlineStart:x,marginInlineEnd:A,paddingInlineStart:L,paddingInlineEnd:$},J=['clear','float','textAlign'];function K(n,t){var i=(0,u.default)(n,t);return'string'!=typeof i?JSON.stringify(i||''):i}function T(n,t,i){var o=[],l="."+n;switch(t){case'animationKeyframes':var s=q(i),u=s[0],f=s[1],p=z({animationName:u.join(',')});o.push(""+l+p,...f);break;case'placeholderTextColor':var c=z({color:i,opacity:1});o.push(l+"::-webkit-input-placeholder"+c,l+"::-moz-placeholder"+c,l+":-ms-input-placeholder"+c,l+"::placeholder"+c);break;case'pointerEvents':var b=i;if('auto'===i||'box-only'===i){if(b='auto!important','box-only'===i){var h=z({pointerEvents:'none'});o.push(l+">*"+h)}}else if(('none'===i||'box-none'===i)&&(b='none!important','box-none'===i)){var v=z({pointerEvents:'auto'});o.push(l+">*"+v)}var y=z({pointerEvents:b});o.push(""+l+y);break;case'scrollbarWidth':'none'===i&&o.push(l+"::-webkit-scrollbar{display:none}");var S=z({scrollbarWidth:i});o.push(""+l+S);break;default:var E=z({[t]:i});o.push(""+l+E)}return o}function z(n){var t=(0,f.default)((0,o.default)(n));return"{"+Object.keys(t).map(n=>{var i=t[n],o=(0,s.default)(n);return Array.isArray(i)?i.map(n=>o+":"+n).join(';'):o+":"+i}).sort().join(';')+";}"}function M(n,t,i){return n+"-"+(0,l.default)(t+i)}function V(n){var t=M('r','animation',JSON.stringify(n)),i='{'+Object.keys(n).map(t=>""+t+z(n[t])).join('')+'}',o=['-webkit-',''].map(n=>"@"+n+"keyframes "+t+i);return[t,o]}function q(n){if('number'==typeof n)throw new Error("Invalid CSS keyframes type: "+typeof n);var t=[],i=[];return(Array.isArray(n)?n:[n]).forEach(n=>{if('string'==typeof n)t.push(n);else{var o=V(n),l=o[0],s=o[1];t.push(l),i.push(...s)}}),[t,i]}},35,[1,10,34,36,43,44,37,45]);
__d(function(g,r,_i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),i=o(r(d[2])),n={},l=!i.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports('text-decoration-line','none')||window.CSS.supports('-webkit-text-decoration-line','none')),b='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',p={borderColor:['borderTopColor','borderRightColor','borderBottomColor','borderLeftColor'],borderBlockColor:['borderTopColor','borderBottomColor'],borderInlineColor:['borderRightColor','borderLeftColor'],borderRadius:['borderTopLeftRadius','borderTopRightRadius','borderBottomRightRadius','borderBottomLeftRadius'],borderStyle:['borderTopStyle','borderRightStyle','borderBottomStyle','borderLeftStyle'],borderBlockStyle:['borderTopStyle','borderBottomStyle'],borderInlineStyle:['borderRightStyle','borderLeftStyle'],borderWidth:['borderTopWidth','borderRightWidth','borderBottomWidth','borderLeftWidth'],borderBlockWidth:['borderTopWidth','borderBottomWidth'],borderInlineWidth:['borderRightWidth','borderLeftWidth'],insetBlock:['top','bottom'],insetInline:['left','right'],marginBlock:['marginTop','marginBottom'],marginInline:['marginRight','marginLeft'],paddingBlock:['paddingTop','paddingBottom'],paddingInline:['paddingRight','paddingLeft'],overflow:['overflowX','overflowY'],overscrollBehavior:['overscrollBehaviorX','overscrollBehaviorY'],borderBlockStartColor:['borderTopColor'],borderBlockStartStyle:['borderTopStyle'],borderBlockStartWidth:['borderTopWidth'],borderBlockEndColor:['borderBottomColor'],borderBlockEndStyle:['borderBottomStyle'],borderBlockEndWidth:['borderBottomWidth'],borderEndStartRadius:['borderBottomLeftRadius'],borderEndEndRadius:['borderBottomRightRadius'],borderStartStartRadius:['borderTopLeftRadius'],borderStartEndRadius:['borderTopRightRadius'],insetBlockEnd:['bottom'],insetBlockStart:['top'],marginBlockStart:['marginTop'],marginBlockEnd:['marginBottom'],paddingBlockStart:['paddingTop'],paddingBlockEnd:['paddingBottom']};e.default=(o,i)=>{if(!o)return n;var s={},f=function(){var n=o[B];if(null==n)return"continue";if('backgroundClip'===B)'text'===n&&(s.backgroundClip=n,s.WebkitBackgroundClip=n);else if('flex'===B)-1===n?(s.flexGrow=0,s.flexShrink=1,s.flexBasis='auto'):s.flex=n;else if('font'===B)s[B]=n.replace('System',b);else if('fontFamily'===B)if(n.indexOf('System')>-1){var f=n.split(/,\s*/);f[f.indexOf('System')]=b,s[B]=f.join(',')}else s[B]='monospace'===n?"monospace,monospace":n;else if('textDecorationLine'===B)l?s.textDecorationLine=n:s.textDecoration=n;else if('writingDirection'===B)s.direction=n;else{var c=(0,t.default)(o[B],B),u=p[B];i&&'inset'===B?(null==o.insetInline&&(s.left=c,s.right=c),null==o.insetBlock&&(s.top=c,s.bottom=c)):i&&'margin'===B?(null==o.marginInline&&(s.marginLeft=c,s.marginRight=c),null==o.marginBlock&&(s.marginTop=c,s.marginBottom=c)):i&&'padding'===B?(null==o.paddingInline&&(s.paddingLeft=c,s.paddingRight=c),null==o.paddingBlock&&(s.paddingTop=c,s.paddingBottom=c)):u?u.forEach((t,i)=>{null==o[t]&&(s[t]=c)}):s[B]=c}};for(var B in o)f();return s}},36,[1,37,30]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,n){var C=o;null!=n&&l.default[n]||'number'!=typeof o?null!=n&&u[n]&&(C=(0,t.default)(o)):C=o+"px";return C};var l=o(r(d[1])),t=o(r(d[2])),u={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0}},37,[1,38,39]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},t=['ms','Moz','O','Webkit'],l=(o,t)=>o+t.charAt(0).toUpperCase()+t.substring(1);Object.keys(o).forEach(s=>{t.forEach(t=>{o[l(t,s)]=o[s]})});e.default=o},38,[]);
__d(function(_g,_r,i,_a,m,e,d){var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(_r(d[1])),f=t(_r(d[2]));e.default=function(t,r){if(void 0===r&&(r=1),null!=t){if('string'==typeof t&&(0,u.default)(t))return t;var l=(0,f.default)(t);if(null!=l)return"rgba("+(l>>16&255)+","+(l>>8&255)+","+(255&l)+","+((l>>24&255)/255*r).toFixed(2)+")"}}},39,[1,40,41]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=o=>'currentcolor'===o||'currentColor'===o||'inherit'===o||0===o.indexOf('var(')},40,[]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=u(r(d[1]));e.default=u=>{if(null==u)return u;var t=(0,l.default)(u);return null!=t?t=(t<<24|t>>>8)>>>0:void 0}},41,[1,42]);
__d(function(_g,_r,i,a,m,e,d){'use strict';function r(r,n,t){return t<0&&(t+=1),t>1&&(t-=1),t<.16666666666666666?r+6*(n-r)*t:t<.5?n:t<.6666666666666666?r+(n-r)*(.6666666666666666-t)*6:r}function n(n,t,s){const u=s<.5?s*(1+t):s+t-s*t,c=2*s-u,l=r(c,u,n+.3333333333333333),o=r(c,u,n),g=r(c,u,n-.3333333333333333);return Math.round(255*l)<<24|Math.round(255*o)<<16|Math.round(255*g)<<8}function t(n,t,s){if(t+s>=1){const r=Math.round(255*t/(t+s));return r<<24|r<<16|r<<8}const u=r(0,1,n+.3333333333333333)*(1-t-s)+t,c=r(0,1,n)*(1-t-s)+t,l=r(0,1,n-.3333333333333333)*(1-t-s)+t;return Math.round(255*u)<<24|Math.round(255*c)<<16|Math.round(255*l)<<8}const s='[-+]?\\d*\\.?\\d+',u="[-+]?\\d*\\.?\\d+%";function c(...r){return'\\(\\s*('+r.join(')\\s*,?\\s*(')+')\\s*\\)'}function l(...r){return'\\(\\s*('+r.slice(0,r.length-1).join(')\\s*,?\\s*(')+')\\s*/\\s*('+r[r.length-1]+')\\s*\\)'}function o(...r){return'\\(\\s*('+r.join(')\\s*,\\s*(')+')\\s*\\)'}let g;function h(){return void 0===g&&(g={rgb:new RegExp('rgb'+c(s,s,s)),rgba:new RegExp('rgba('+o(s,s,s,s)+'|'+l(s,s,s,s)+')'),hsl:new RegExp('hsl'+c(s,u,u)),hsla:new RegExp('hsla('+o(s,u,u,s)+'|'+l(s,u,u,s)+')'),hwb:new RegExp('hwb'+c(s,u,u)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),g}function b(r){const n=parseInt(r,10);return n<0?0:n>255?255:n}function p(r){return(parseFloat(r)%360+360)%360/360}function f(r){const n=parseFloat(r);return n<0?0:n>1?255:Math.round(255*n)}function y(r){const n=parseFloat(r);return n<0?0:n>100?1:n/100}function k(r){switch(r){case'transparent':return 0;case'aliceblue':return 4042850303;case'antiquewhite':return 4209760255;case'aqua':case'cyan':return 16777215;case'aquamarine':return 2147472639;case'azure':return 4043309055;case'beige':return 4126530815;case'bisque':return 4293182719;case'black':return 255;case'blanchedalmond':return 4293643775;case'blue':return 65535;case'blueviolet':return 2318131967;case'brown':return 2771004159;case'burlywood':return 3736635391;case'burntsienna':return 3934150143;case'cadetblue':return 1604231423;case'chartreuse':return 2147418367;case'chocolate':return 3530104575;case'coral':return 4286533887;case'cornflowerblue':return 1687547391;case'cornsilk':return 4294499583;case'crimson':return 3692313855;case'darkblue':return 35839;case'darkcyan':return 9145343;case'darkgoldenrod':return 3095792639;case'darkgray':case'darkgrey':return 2846468607;case'darkgreen':return 6553855;case'darkkhaki':return 3182914559;case'darkmagenta':return 2332068863;case'darkolivegreen':return 1433087999;case'darkorange':return 4287365375;case'darkorchid':return 2570243327;case'darkred':return 2332033279;case'darksalmon':return 3918953215;case'darkseagreen':return 2411499519;case'darkslateblue':return 1211993087;case'darkslategray':case'darkslategrey':return 793726975;case'darkturquoise':return 13554175;case'darkviolet':return 2483082239;case'deeppink':return 4279538687;case'deepskyblue':return 12582911;case'dimgray':case'dimgrey':return 1768516095;case'dodgerblue':return 512819199;case'firebrick':return 2988581631;case'floralwhite':return 4294635775;case'forestgreen':return 579543807;case'fuchsia':case'magenta':return 4278255615;case'gainsboro':return 3705462015;case'ghostwhite':return 4177068031;case'gold':return 4292280575;case'goldenrod':return 3668254975;case'gray':case'grey':return 2155905279;case'green':return 8388863;case'greenyellow':return 2919182335;case'honeydew':return 4043305215;case'hotpink':return 4285117695;case'indianred':return 3445382399;case'indigo':return 1258324735;case'ivory':return 4294963455;case'khaki':return 4041641215;case'lavender':return 3873897215;case'lavenderblush':return 4293981695;case'lawngreen':return 2096890111;case'lemonchiffon':return 4294626815;case'lightblue':return 2916673279;case'lightcoral':return 4034953471;case'lightcyan':return 3774873599;case'lightgoldenrodyellow':return 4210742015;case'lightgray':case'lightgrey':return 3553874943;case'lightgreen':return 2431553791;case'lightpink':return 4290167295;case'lightsalmon':return 4288707327;case'lightseagreen':return 548580095;case'lightskyblue':return 2278488831;case'lightslategray':case'lightslategrey':return 2005441023;case'lightsteelblue':return 2965692159;case'lightyellow':return 4294959359;case'lime':return 16711935;case'limegreen':return 852308735;case'linen':return 4210091775;case'maroon':return 2147483903;case'mediumaquamarine':return 1724754687;case'mediumblue':return 52735;case'mediumorchid':return 3126187007;case'mediumpurple':return 2473647103;case'mediumseagreen':return 1018393087;case'mediumslateblue':return 2070474495;case'mediumspringgreen':return 16423679;case'mediumturquoise':return 1221709055;case'mediumvioletred':return 3340076543;case'midnightblue':return 421097727;case'mintcream':return 4127193855;case'mistyrose':return 4293190143;case'moccasin':return 4293178879;case'navajowhite':return 4292783615;case'navy':return 33023;case'oldlace':return 4260751103;case'olive':return 2155872511;case'olivedrab':return 1804477439;case'orange':return 4289003775;case'orangered':return 4282712319;case'orchid':return 3664828159;case'palegoldenrod':return 4008225535;case'palegreen':return 2566625535;case'paleturquoise':return 2951671551;case'palevioletred':return 3681588223;case'papayawhip':return 4293907967;case'peachpuff':return 4292524543;case'peru':return 3448061951;case'pink':return 4290825215;case'plum':return 3718307327;case'powderblue':return 2967529215;case'purple':return 2147516671;case'rebeccapurple':return 1714657791;case'red':return 4278190335;case'rosybrown':return 3163525119;case'royalblue':return 1097458175;case'saddlebrown':return 2336560127;case'salmon':return 4202722047;case'sandybrown':return 4104413439;case'seagreen':return 780883967;case'seashell':return 4294307583;case'sienna':return 2689740287;case'silver':return 3233857791;case'skyblue':return 2278484991;case'slateblue':return 1784335871;case'slategray':case'slategrey':return 1887473919;case'snow':return 4294638335;case'springgreen':return 16744447;case'steelblue':return 1182971135;case'tan':return 3535047935;case'teal':return 8421631;case'thistle':return 3636451583;case'tomato':return 4284696575;case'turquoise':return 1088475391;case'violet':return 4001558271;case'wheat':return 4125012991;case'white':return 4294967295;case'whitesmoke':return 4126537215;case'yellow':return 4294902015;case'yellowgreen':return 2597139199}return null}m.exports=function(r){if('number'==typeof r)return r>>>0===r&&r>=0&&r<=4294967295?r:null;if('string'!=typeof r)return null;const s=h();let u;if(u=s.hex6.exec(r))return parseInt(u[1]+'ff',16)>>>0;const c=k(r);return null!=c?c:(u=s.rgb.exec(r))?(b(u[1])<<24|b(u[2])<<16|b(u[3])<<8|255)>>>0:(u=s.rgba.exec(r))?void 0!==u[6]?(b(u[6])<<24|b(u[7])<<16|b(u[8])<<8|f(u[9]))>>>0:(b(u[2])<<24|b(u[3])<<16|b(u[4])<<8|f(u[5]))>>>0:(u=s.hex3.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+'ff',16)>>>0:(u=s.hex8.exec(r))?parseInt(u[1],16)>>>0:(u=s.hex4.exec(r))?parseInt(u[1]+u[1]+u[2]+u[2]+u[3]+u[3]+u[4]+u[4],16)>>>0:(u=s.hsl.exec(r))?(255|n(p(u[1]),y(u[2]),y(u[3])))>>>0:(u=s.hsla.exec(r))?void 0!==u[6]?(n(p(u[6]),y(u[7]),y(u[8]))|f(u[9]))>>>0:(n(p(u[2]),y(u[3]),y(u[4]))|f(u[5]))>>>0:(u=s.hwb.exec(r))?(255|t(p(u[1]),y(u[2]),y(u[3])))>>>0:null}},42,[]);
__d(function(g,r,_i,a,m,e,d){function t(t,c){for(var o,h=t.length,n=c^h,u=0;h>=4;)o=1540483477*(65535&(o=255&t.charCodeAt(u)|(255&t.charCodeAt(++u))<<8|(255&t.charCodeAt(++u))<<16|(255&t.charCodeAt(++u))<<24))+((1540483477*(o>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^(o=1540483477*(65535&(o^=o>>>24))+((1540483477*(o>>>16)&65535)<<16)),h-=4,++u;switch(h){case 3:n^=(255&t.charCodeAt(u+2))<<16;case 2:n^=(255&t.charCodeAt(u+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(u)))+((1540483477*(n>>>16)&65535)<<16)}return n=1540483477*(65535&(n^=n>>>13))+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=c=>t(c,1).toString(36)},43,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}e.default=function(f){if(f in u)return u[f];var c=f.replace(t,o);return u[f]=n.test(c)?'-'+c:c}},44,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=(0,u.default)(f.default);e.default=l},45,[1,46,52]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(l){var i=l.prefixMap,o=l.plugins;return function l(s){for(var v in s){var c=s[v];if((0,n.default)(c))s[v]=l(c);else if(Array.isArray(c)){for(var _=[],p=0,y=c.length;p<y;++p){var M=(0,u.default)(o,v,c[p],s,i);(0,f.default)(_,M||c[p])}_.length>0&&(s[v]=_)}else{var h=(0,u.default)(o,v,c,s,i);h&&(s[v]=h),s=(0,t.default)(i,v,s)}}return s}};var t=l(r(d[0])),u=l(r(d[1])),f=l(r(d[2])),n=l(r(d[3]));function l(t){return t&&t.__esModule?t:{default:t}}},46,[47,49,50,51]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u,n){var l=t[u];if(l&&n.hasOwnProperty(u))for(var o=(0,f.default)(u),_=0;_<l.length;++_){var i=l[_]+o;n[i]||(n[i]=n[u])}return n};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},47,[48]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},48,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,u,f,i){for(var o=0,c=t.length;o<c;++o){var l=t[o](n,u,f,i);if(l)return l}}},49,[]);
__d(function(g,r,_i,a,m,e,d){"use strict";function n(n,t){-1===n.indexOf(t)&&n.push(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,f){if(Array.isArray(f))for(var i=0,u=f.length;i<u;++i)n(t,f[i]);else n(t,f)}},50,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t instanceof Object&&!Array.isArray(t)}},51,[]);
__d(function(g,r,i,a,_m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),l=t(r(d[2])),s=t(r(d[3])),m=t(r(d[4])),n=t(r(d[5])),u=t(r(d[6])),k=['Webkit'],c=['Webkit','ms'];e.default={plugins:[o.default,l.default,s.default,m.default,n.default,u.default],prefixMap:{appearance:['Webkit','Moz','ms'],userSelect:['Webkit','Moz'],textEmphasisPosition:c,textEmphasis:c,textEmphasisStyle:c,textEmphasisColor:c,boxDecorationBreak:c,clipPath:k,maskImage:c,maskMode:c,maskRepeat:c,maskPosition:c,maskClip:c,maskOrigin:c,maskSize:c,maskComposite:c,mask:c,maskBorderSource:c,maskBorderMode:c,maskBorderSlice:c,maskBorderWidth:c,maskBorderOutset:c,maskBorderRepeat:c,maskBorder:c,maskType:c,textDecorationStyle:k,textDecorationSkip:k,textDecorationLine:k,textDecorationColor:k,filter:k,breakAfter:k,breakBefore:k,breakInside:k,columnCount:k,columnFill:k,columnGap:k,columnRule:k,columnRuleColor:k,columnRuleStyle:k,columnRuleWidth:k,columns:k,columnSpan:k,columnWidth:k,backdropFilter:k,hyphens:k,flowInto:k,flowFrom:k,regionFragment:k,textOrientation:k,tabSize:['Moz'],fontKerning:k,textSizeAdjust:k}}},52,[1,53,68,70,71,72,73]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s,u){if('string'==typeof u&&!(0,t.isPrefixedValue)(u)&&-1!==u.indexOf('cross-fade('))return n.map(function(t){return u.replace(f,t+'cross-fade(')})};var t=r(d[0]),f=/cross-fade\(/g,n=['-webkit-','']},53,[54]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"assignStyle",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"camelCaseProperty",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"cssifyDeclaration",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"cssifyObject",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"hyphenateProperty",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"isPrefixedProperty",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"isPrefixedValue",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"isUnitlessProperty",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"normalizeProperty",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"resolveArrayValue",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"unprefixProperty",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"unprefixValue",{enumerable:!0,get:function(){return s.default}});var n=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),c=t(r(d[6])),b=t(r(d[7])),y=t(r(d[8])),p=t(r(d[9])),P=t(r(d[10])),j=t(r(d[11])),s=t(r(d[12]))},54,[1,55,56,57,60,58,61,62,63,64,66,65,67]);
__d(function(g,r,_i,a,m,e,d){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t){return u(t)||f(t)||i(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,n){if(t){if("string"==typeof t)return c(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(t,n):void 0}}function f(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function u(t){if(Array.isArray(t))return c(t)}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=t[o];return i}function y(t){return t.filter(function(n,o){return t.lastIndexOf(n)===o})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function o(i){for(var f=0,u=arguments.length<=1?0:arguments.length-1;f<u;++f){var c=f+1<1||arguments.length<=f+1?void 0:arguments[f+1];for(var l in c){var b=c[l],s=i[l];if(s&&b){if(Array.isArray(s)){i[l]=y(s.concat(b));continue}if(Array.isArray(b)){i[l]=y([s].concat(n(b)));continue}if('object'===t(b)){i[l]=o({},s,b);continue}}i[l]=b}}return i}},55,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c){if(u.hasOwnProperty(c))return u[c];var f=c.replace(n,o).replace(t,'ms');return u[c]=f,f};var n=/-([a-z])/g,t=/^Ms/g,u={};function o(n){return n[1].toUpperCase()}},56,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){return(0,u.default)(t)+':'+n};var u=t(r(d[1]))},57,[1,58]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,u.default)(t)};var u=t(r(d[1]))},58,[1,59]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=/[A-Z]/g,n=/^ms-/,u={};function o(t){return'-'+t.toLowerCase()}e.default=function(f){if(u.hasOwnProperty(f))return u[f];var c=f.replace(t,o);return u[f]=n.test(c)?'-'+c:c}},59,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var f='';for(var u in t){var o=t[u];'string'!=typeof o&&'number'!=typeof o||(f&&(f+=';'),f+=(0,n.default)(u,o))}return f};var n=t(r(d[1]))},60,[1,57]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return t.test(n)};var t=/^(Webkit|Moz|O|ms)/},61,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return'string'==typeof n&&t.test(n)};var t=/-webkit-|-moz-|-ms-/},62,[]);
__d(function(g,r,_i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){return i.hasOwnProperty(o)};var t=o(r(d[1])),i={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n=['animationIterationCount','boxFlex','boxFlexGroup','boxOrdinalGroup','columnCount','flex','flexGrow','flexPositive','flexShrink','flexNegative','flexOrder','gridColumn','gridColumnEnd','gridColumnStart','gridRow','gridRowEnd','gridRowStart','lineClamp','order'],l=['Webkit','ms','Moz','O'];function f(o,t){return o+t.charAt(0).toUpperCase()+t.slice(1)}for(var s=0,u=n.length;s<u;++s){var p=n[s];i[p]=!0;for(var c=0,h=l.length;c<h;++c)i[f(l[c],p)]=!0}for(var x in i)i[(0,t.default)(x)]=!0},63,[1,58]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,f.default)((0,u.default)(t))};var u=t(r(d[1])),f=t(r(d[2]))},64,[1,56,65]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){var c=o.replace(t,'');return c.charAt(0).toLowerCase()+c.slice(1)};var t=/^(ms|Webkit|Moz|O)/},65,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u){return u.join(';'+(0,t.default)(n)+':')};var t=n(r(d[1]))},66,[1,58]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){if('string'==typeof n)return n.replace(t,'');return n};var t=/(-ms-|-webkit-|-moz-|-o-)/g},67,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){if('string'==typeof u&&!(0,n.default)(u)&&u.indexOf('image-set(')>-1)return f.map(function(t){return u.replace(/image-set\(/g,t+'image-set(')})};var t,u=r(d[0]),n=(t=u)&&t.__esModule?t:{default:t};var f=['-webkit-','']},68,[69]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return'string'==typeof n&&t.test(n)};var t=/-webkit-|-moz-|-ms-/},69,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o,n,i){if(Object.prototype.hasOwnProperty.call(t,o))for(var l=t[o],b=0,B=l.length;b<B;++b)i[l[b]]=n};var t={marginBlockStart:['WebkitMarginBefore'],marginBlockEnd:['WebkitMarginAfter'],marginInlineStart:['WebkitMarginStart','MozMarginStart'],marginInlineEnd:['WebkitMarginEnd','MozMarginEnd'],paddingBlockStart:['WebkitPaddingBefore'],paddingBlockEnd:['WebkitPaddingAfter'],paddingInlineStart:['WebkitPaddingStart','MozPaddingStart'],paddingInlineEnd:['WebkitPaddingEnd','MozPaddingEnd'],borderBlockStart:['WebkitBorderBefore'],borderBlockStartColor:['WebkitBorderBeforeColor'],borderBlockStartStyle:['WebkitBorderBeforeStyle'],borderBlockStartWidth:['WebkitBorderBeforeWidth'],borderBlockEnd:['WebkitBorderAfter'],borderBlockEndColor:['WebkitBorderAfterColor'],borderBlockEndStyle:['WebkitBorderAfterStyle'],borderBlockEndWidth:['WebkitBorderAfterWidth'],borderInlineStart:['WebkitBorderStart','MozBorderStart'],borderInlineStartColor:['WebkitBorderStartColor','MozBorderStartColor'],borderInlineStartStyle:['WebkitBorderStartStyle','MozBorderStartStyle'],borderInlineStartWidth:['WebkitBorderStartWidth','MozBorderStartWidth'],borderInlineEnd:['WebkitBorderEnd','MozBorderEnd'],borderInlineEndColor:['WebkitBorderEndColor','MozBorderEndColor'],borderInlineEndStyle:['WebkitBorderEndStyle','MozBorderEndStyle'],borderInlineEndWidth:['WebkitBorderEndWidth','MozBorderEndWidth']}},70,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,c){if('position'===t&&'sticky'===c)return['-webkit-sticky','sticky']}},71,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){if(n.hasOwnProperty(c)&&o.hasOwnProperty(h))return t.map(function(t){return t+h})};var t=['-webkit-','-moz-',''],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},o={'min-content':!0,'max-content':!0,'fill-available':!0,'fit-content':!0,'contain-floats':!0}},72,[]);
__d(function(g,r,_i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,i,o,u){if('string'==typeof i&&f.hasOwnProperty(t)){var l=s(i,u),p=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-moz-|-ms-/.test(t)}).join(',');if(t.indexOf('Webkit')>-1)return p;var v=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(t){return!/-webkit-|-ms-/.test(t)}).join(',');return t.indexOf('Moz')>-1?v:(o['Webkit'+(0,n.default)(t)]=p,o['Moz'+(0,n.default)(t)]=v,l)}};var t=o(r(d[0])),i=o(r(d[1])),n=o(r(d[2]));function o(t){return t&&t.__esModule?t:{default:t}}var f={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:'-webkit-',Moz:'-moz-',ms:'-ms-'};function s(n,o){if((0,i.default)(n))return n;for(var f=n.split(/,(?![^()]*(?:\([^()]*\))?\))/g),s=0,l=f.length;s<l;++s){var p=f[s],v=[p];for(var c in o){var b=(0,t.default)(c);if(p.indexOf(b)>-1&&'order'!==b)for(var k=o[c],z=0,M=k.length;z<M;++z)v.unshift(p.replace(b,u[k[z]]+b))}f[s]=v.join(',')}return f.join(',')}},73,[74,69,48]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,f.default)(t)};var t,u=r(d[0]),f=(t=u)&&t.__esModule?t:{default:t}},74,[59]);
__d(function(g,r,i,a,m,e,d){m.exports=r(d[0])},75,[76]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.localizeStyle=function(l,s){if(null!=l[t]){var c=s?1:0;if(n.has(l)){var f=n.get(l),o=f[c];return null==o&&(o=u(l,s),f[c]=o,n.set(l,f)),o}var v=u(l,s),y=new Array(2);return y[c]=v,n.set(l,y),v}return l};var n=new WeakMap,t='$$css$localize';function u(n,u){var l={};for(var s in n)if(s!==t){var c=n[s];Array.isArray(c)?l[s]=u?c[1]:c[0]:l[s]=c}return l}},76,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.preprocess=e.default=e.createTransformValue=e.createTransformOriginValue=e.createTextShadowValue=e.createBoxShadowValue=e.createBoxShadowArrayValue=void 0;var o=t(r(d[1])),n=t(r(d[2])),l=r(d[3]),s={},u={height:0,width:0},f=t=>{var l=t.shadowColor,s=t.shadowOffset,f=t.shadowOpacity,h=t.shadowRadius,S=s||u,w=S.height,c=S.width,p=(0,n.default)(c),b=(0,n.default)(w),x=(0,n.default)(h||0),y=(0,o.default)(l||'black',f);if(null!=y&&null!=p&&null!=b&&null!=x)return p+" "+b+" "+x+" "+y};e.createBoxShadowValue=f;var h=t=>{var o=t.textShadowColor,l=t.textShadowOffset,s=t.textShadowRadius,f=l||u,h=f.height,S=f.width,w=s||0,c=(0,n.default)(S),p=(0,n.default)(h),b=(0,n.default)(w),x=(0,n.default)(o,'textShadowColor');if(x&&(0!==h||0!==S||0!==w)&&null!=c&&null!=p&&null!=b)return c+" "+p+" "+b+" "+x};e.createTextShadowValue=h;var S=t=>{if('string'==typeof t)return t;var l=(0,n.default)(t.offsetX)||0,s=(0,n.default)(t.offsetY)||0,u=(0,n.default)(t.blurRadius)||0,f=(0,n.default)(t.spreadDistance)||0,h=(0,o.default)(t.color)||'black';return""+(t.inset?'inset ':'')+l+" "+s+" "+u+" "+f+" "+h},w=t=>t.map(S).join(', ');e.createBoxShadowArrayValue=w;var c=t=>{var o=Object.keys(t)[0],l=t[o];return'matrix'===o||'matrix3d'===o?o+"("+l.join(',')+")":o+"("+(0,n.default)(l,o)+")"},p=t=>t.map(c).join(' ');e.createTransformValue=p;var b=t=>t.map(t=>(0,n.default)(t)).join(' ');e.createTransformOriginValue=b;var x={borderBottomEndRadius:'borderEndEndRadius',borderBottomStartRadius:'borderEndStartRadius',borderTopEndRadius:'borderStartEndRadius',borderTopStartRadius:'borderStartStartRadius',borderEndColor:'borderInlineEndColor',borderEndStyle:'borderInlineEndStyle',borderEndWidth:'borderInlineEndWidth',borderStartColor:'borderInlineStartColor',borderStartStyle:'borderInlineStartStyle',borderStartWidth:'borderInlineStartWidth',end:'insetInlineEnd',marginEnd:'marginInlineEnd',marginHorizontal:'marginInline',marginStart:'marginInlineStart',marginVertical:'marginBlock',paddingEnd:'paddingInlineEnd',paddingHorizontal:'paddingInline',paddingStart:'paddingInlineStart',paddingVertical:'paddingBlock',start:'insetInlineStart'},y={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},v=e.preprocess=function(t,o){void 0===o&&(o={});var n=t||s,u={};if(o.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,l.warnOnce)('shadowStyles',"\"shadow*\" style props are deprecated. Use \"boxShadow\".");var S=f(n);null!=S&&(u.boxShadow=S)}if(o.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,l.warnOnce)('textShadowStyles',"\"textShadow*\" style props are deprecated. Use \"textShadow\".");var c=h(n);if(null!=c&&null==u.textShadow){var v=n.textShadow,O=v?v+", "+c:c;u.textShadow=O}}for(var E in n)if(null==y[E]&&'shadowColor'!==E&&'shadowOffset'!==E&&'shadowOpacity'!==E&&'shadowRadius'!==E&&'textShadowColor'!==E&&'textShadowOffset'!==E&&'textShadowRadius'!==E){var R=n[E],I=x[E]||E,V=R;if(Object.prototype.hasOwnProperty.call(n,E)&&(I===E||null==n[I]))if('aspectRatio'===I&&'number'==typeof V)u[I]=V.toString();else if('boxShadow'===I){Array.isArray(V)&&(V=w(V));var A=u.boxShadow;u.boxShadow=A?V+", "+A:V}else'fontVariant'===I?(Array.isArray(V)&&V.length>0&&(V=V.join(' ')),u[I]=V):'textAlignVertical'===I?null==n.verticalAlign&&(u.verticalAlign='center'===V?'middle':V):'transform'===I?(Array.isArray(V)&&(V=p(V)),u.transform=V):'transformOrigin'===I?(Array.isArray(V)&&(V=b(V)),u.transformOrigin=V):u[I]=V}return u};e.default=v},77,[1,39,37,78]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.warnOnce=function(n,c){}},78,[]);
__d(function(g,r,_i2,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.styleq=void 0;var l=new WeakMap;function n(n){var s,u,t;return null!=n&&(s=!0===n.disableCache,u=!0===n.disableMix,t=n.transform),function(){for(var n=[],i='',o=null,f=s?null:l,v=new Array(arguments.length),c=0;c<arguments.length;c++)v[c]=arguments[c];for(;v.length>0;){var p=v.pop();if(null!=p&&!1!==p)if(Array.isArray(p))for(var y=0;y<p.length;y++)v.push(p[y]);else{var h=null!=t?t(p):p;if(h.$$css){var b='';if(null!=f&&f.has(h)){var M=f.get(h);null!=M&&(b=M[0],n.push.apply(n,M[1]),f=M[2])}else{var $=[];for(var _ in h){var j=h[_];"$$css"!==_&&('string'==typeof j||null===j?n.includes(_)||(n.push(_),null!=f&&$.push(_),'string'==typeof j&&(b+=b?' '+j:j)):console.error("styleq: ".concat(_," typeof ").concat(String(j)," is not \"string\" or \"null\".")))}if(null!=f){var q=new WeakMap;f.set(h,[b,$,q]),f=q}}b&&(i=i?b+' '+i:b)}else if(u)null==o&&(o={}),o=Object.assign({},h,o);else{var w=null;for(var A in h){var O=h[A];void 0!==O&&(n.includes(A)||(null!=O&&(null==o&&(o={}),null==w&&(w={}),w[A]=O),n.push(A),f=null))}null!=w&&(o=Object.assign(w,o))}}}return[i,o]}}var s=n();e.styleq=s,s.factory=n},79,[]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.validate=function(n){for(var u in n){var c=u.trim(),f=n[c],p=!1;if(null!==f){if('string'==typeof f&&f.indexOf('!important')>-1)s("Invalid style declaration \""+c+":"+f+"\". Values cannot include \"!important\""),p=!0;else{var v='';'animation'===c||'animationName'===c?(v='Did you mean "animationKeyframes"?',p=!0):'direction'===c?(v='Did you mean "writingDirection"?',p=!0):t[c]?(v='Please use long-form properties.',p=!0):l[c]&&'string'==typeof f&&(0,o.default)(f).nodes.length>1&&(v="Value is \""+f+"\" but only single values are supported.",p=!0),''!==v&&s("Invalid style property of \""+c+"\". "+v)}p&&delete n[u]}}};var o=n(r(d[1])),t={background:!0,borderBottom:!0,borderLeft:!0,borderRight:!0,borderTop:!0,font:!0,grid:!0,outline:!0,textDecoration:!0},l={flex:!0,margin:!0,padding:!0,borderColor:!0,borderRadius:!0,borderStyle:!0,borderWidth:!0,inset:!0,insetBlock:!0,insetInline:!0,marginBlock:!0,marginInline:!0,marginHorizontal:!0,marginVertical:!0,paddingBlock:!0,paddingInline:!0,paddingHorizontal:!0,paddingVertical:!0,overflow:!0,overscrollBehavior:!0,backgroundPosition:!0};function s(n){console.error(n)}},80,[1,81]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]),o=r(d[2]);function s(n){return this instanceof s?(this.nodes=t(n),this):new s(n)}s.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},s.prototype.walk=function(t,o){return n(this.nodes,t,o),this},s.unit=r(d[3]),s.walk=n,s.stringify=o,m.exports=s},81,[82,83,84,85]);
__d(function(g,r,i,a,m,e,d){var o="(".charCodeAt(0),n=")".charCodeAt(0),c="'".charCodeAt(0),t='"'.charCodeAt(0),s="\\".charCodeAt(0),u="/".charCodeAt(0),l=",".charCodeAt(0),h=":".charCodeAt(0),f="*".charCodeAt(0),p="u".charCodeAt(0),x="U".charCodeAt(0),A="+".charCodeAt(0),C=/^[a-f0-9?-]+$/i;m.exports=function(I){for(var v,E,y,w,O,b,_,q,U,$=[],j=I,k=0,z=j.charCodeAt(k),B=j.length,D=[{nodes:$}],F=0,G="",H="",J="";k<B;)if(z<=32){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);w=j.slice(k,v),y=$[$.length-1],z===n&&F?J=w:y&&"div"===y.type?(y.after=w,y.sourceEndIndex+=w.length):z===l||z===h||z===u&&j.charCodeAt(v+1)!==f&&(!U||U&&"function"===U.type&&"calc"!==U.value)?H=w:$.push({type:"space",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else if(z===c||z===t){v=k,w={type:"string",sourceIndex:k,quote:E=z===c?"'":'"'};do{if(O=!1,~(v=j.indexOf(E,v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=E).length-1,w.unclosed=!0}while(O);w.value=j.slice(k+1,v),w.sourceEndIndex=w.unclosed?v:v+1,$.push(w),k=v+1,z=j.charCodeAt(k)}else if(z===u&&j.charCodeAt(k+1)===f)w={type:"comment",sourceIndex:k,sourceEndIndex:(v=j.indexOf("*/",k))+2},-1===v&&(w.unclosed=!0,v=j.length,w.sourceEndIndex=v),w.value=j.slice(k+2,v),$.push(w),k=v+2,z=j.charCodeAt(k);else if(z!==u&&z!==f||!U||"function"!==U.type||"calc"!==U.value)if(z===u||z===l||z===h)w=j[k],$.push({type:"div",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w,before:H,after:""}),H="",k+=1,z=j.charCodeAt(k);else if(o===z){v=k;do{v+=1,z=j.charCodeAt(v)}while(z<=32);if(q=k,w={type:"function",sourceIndex:k-G.length,value:G,before:j.slice(q+1,v)},k=v,"url"===G&&z!==c&&z!==t){v-=1;do{if(O=!1,~(v=j.indexOf(")",v+1)))for(b=v;j.charCodeAt(b-1)===s;)b-=1,O=!O;else v=(j+=")").length-1,w.unclosed=!0}while(O);_=v;do{_-=1,z=j.charCodeAt(_)}while(z<=32);q<_?(w.nodes=k!==_+1?[{type:"word",sourceIndex:k,sourceEndIndex:_+1,value:j.slice(k,_+1)}]:[],w.unclosed&&_+1!==v?(w.after="",w.nodes.push({type:"space",sourceIndex:_+1,sourceEndIndex:v,value:j.slice(_+1,v)})):(w.after=j.slice(_+1,v),w.sourceEndIndex=v)):(w.after="",w.nodes=[]),k=v+1,w.sourceEndIndex=w.unclosed?v:k,z=j.charCodeAt(k),$.push(w)}else F+=1,w.after="",w.sourceEndIndex=k+1,$.push(w),D.push(w),$=w.nodes=[],U=w;G=""}else if(n===z&&F)k+=1,z=j.charCodeAt(k),U.after=J,U.sourceEndIndex+=J.length,J="",F-=1,D[D.length-1].sourceEndIndex=k,D.pop(),$=(U=D[F]).nodes;else{v=k;do{z===s&&(v+=1),v+=1,z=j.charCodeAt(v)}while(v<B&&!(z<=32||z===c||z===t||z===l||z===h||z===u||z===o||z===f&&U&&"function"===U.type&&"calc"===U.value||z===u&&"function"===U.type&&"calc"===U.value||z===n&&F));w=j.slice(k,v),o===z?G=w:p!==w.charCodeAt(0)&&x!==w.charCodeAt(0)||A!==w.charCodeAt(1)||!C.test(w.slice(2))?$.push({type:"word",sourceIndex:k,sourceEndIndex:v,value:w}):$.push({type:"unicode-range",sourceIndex:k,sourceEndIndex:v,value:w}),k=v}else w=j[k],$.push({type:"word",sourceIndex:k-H.length,sourceEndIndex:k+w.length,value:w}),k+=1,z=j.charCodeAt(k);for(k=D.length-1;k;k-=1)D[k].unclosed=!0,D[k].sourceEndIndex=j.length;return D[0].nodes}},82,[]);
__d(function(g,r,_i,a,m,e,d){m.exports=function n(o,t,f){var i,s,c,u;for(i=0,s=o.length;i<s;i+=1)c=o[i],f||(u=t(c,i,o)),!1!==u&&"function"===c.type&&Array.isArray(c.nodes)&&n(c.nodes,t,f),f&&t(c,i,o)}},83,[]);
__d(function(g,r,_i,a,m,e,d){function n(n,t){var u,f,i=n.type,s=n.value;return t&&void 0!==(f=t(n))?f:"word"===i||"space"===i?s:"string"===i?(u=n.quote||"")+s+(n.unclosed?"":u):"comment"===i?"/*"+s+(n.unclosed?"":"*/"):"div"===i?(n.before||"")+s+(n.after||""):Array.isArray(n.nodes)?(u=o(n.nodes,t),"function"!==i?u:s+"("+(n.before||"")+u+(n.after||"")+(n.unclosed?"":")")):s}function o(o,t){var u,f;if(Array.isArray(o)){for(u="",f=o.length-1;~f;f-=1)u=n(o[f],t)+u;return u}return n(o,t)}m.exports=o},84,[]);
__d(function(g,r,i,a,m,e,d){var t="-".charCodeAt(0),o="+".charCodeAt(0),c=".".charCodeAt(0),h="e".charCodeAt(0),A="E".charCodeAt(0);function C(h){var A,C=h.charCodeAt(0);if(C===o||C===t){if((A=h.charCodeAt(1))>=48&&A<=57)return!0;var n=h.charCodeAt(2);return A===c&&n>=48&&n<=57}return C===c?(A=h.charCodeAt(1))>=48&&A<=57:C>=48&&C<=57}m.exports=function(n){var f,u,v,l=0,s=n.length;if(0===s||!C(n))return!1;for((f=n.charCodeAt(l))!==o&&f!==t||l++;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),f===c&&u>=48&&u<=57)for(l+=2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;if(f=n.charCodeAt(l),u=n.charCodeAt(l+1),v=n.charCodeAt(l+2),(f===h||f===A)&&(u>=48&&u<=57||(u===o||u===t)&&v>=48&&v<=57))for(l+=u===o||u===t?3:2;l<s&&!((f=n.charCodeAt(l))<48||f>57);)l+=1;return{number:n.slice(0,l),unit:n.slice(l)}}},85,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={OS:'web',select:t=>'web'in t?t.web:t.default,get isTesting(){return!1}};e.default=t},86,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return(0,f.jsx)(l.default,{style:{flex:1},children:(0,f.jsx)(u.default,{})})};t(r(d[1]));var l=t(r(d[2])),u=t(r(d[3])),f=r(d[4])},87,[1,25,88,118,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var o=e(_r(d[1])),n=f(_r(d[2])),t=e(_r(d[3])),r=f(_r(d[4])),l=e(_r(d[5])),s=e(_r(d[6])),p=e(_r(d[7])),u=e(_r(d[8])),i=e(_r(d[9])),S=e(_r(d[10])),R=e(_r(d[11])),c=_r(d[12]);function f(e,o){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(f=function(e,o){if(!o&&e&&e.__esModule)return e;var r,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=o?t:n){if(r.has(e))return r.get(e);r.set(e,s)}for(const o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?r(s,o,l):s[o]=e[o]);return s})(e,o)}var h=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],v=Object.assign({},r.defaultProps,r.accessibilityProps,r.clickProps,r.focusProps,r.keyboardProps,r.mouseProps,r.touchProps,r.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),C=e=>(0,l.default)(e,v),y=n.forwardRef((e,r)=>{var l=e.hrefAttrs,S=e.onLayout,f=e.onMoveShouldSetResponder,v=e.onMoveShouldSetResponderCapture,y=e.onResponderEnd,b=e.onResponderGrant,w=e.onResponderMove,x=e.onResponderReject,P=e.onResponderRelease,_=e.onResponderStart,j=e.onResponderTerminate,k=e.onResponderTerminationRequest,O=e.onScrollShouldSetResponder,T=e.onScrollShouldSetResponderCapture,D=e.onSelectionChangeShouldSetResponder,W=e.onSelectionChangeShouldSetResponderCapture,E=e.onStartShouldSetResponder,L=e.onStartShouldSetResponderCapture,q=(0,o.default)(e,h),A=n.useContext(R.default),G=n.useRef(null),z=(0,c.useLocaleContext)().direction;(0,s.default)(G,S),(0,i.default)(G,{onMoveShouldSetResponder:f,onMoveShouldSetResponderCapture:v,onResponderEnd:y,onResponderGrant:b,onResponderMove:w,onResponderReject:x,onResponderRelease:P,onResponderStart:_,onResponderTerminate:j,onResponderTerminationRequest:k,onScrollShouldSetResponder:O,onScrollShouldSetResponderCapture:T,onSelectionChangeShouldSetResponder:D,onSelectionChangeShouldSetResponderCapture:W,onStartShouldSetResponder:E,onStartShouldSetResponderCapture:L});var I='div',$=null!=e.lang?(0,c.getLocaleDirection)(e.lang):null,B=e.dir||$,H=B||z,N=C(q);if(N.dir=B,N.style=[M.view$raw,A&&M.inline,e.style],null!=e.href&&(I='a',null!=l)){var V=l.download,F=l.rel,J=l.target;null!=V&&(N.download=V),null!=F&&(N.rel=F),'string'==typeof J&&(N.target='_'!==J.charAt(0)?'_'+J:J)}var K=(0,u.default)(N),Q=(0,p.default)(G,K,r);return N.ref=Q,(0,t.default)(I,N,{writingDirection:H})});y.displayName='View';var M=S.default.create({view$raw:{alignContent:'flex-start',alignItems:'stretch',backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',display:'flex',flexBasis:'auto',flexDirection:'column',flexShrink:0,listStyle:'none',margin:0,minHeight:0,minWidth:0,padding:0,position:'relative',textDecoration:'none',zIndex:0},inline:{display:'inline-flex'}});_e.default=y},88,[1,34,25,89,97,98,99,106,108,110,33,117,95]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),c=r(d[4]);e.default=(t,u,f)=>{var v;t&&t.constructor===String&&(v=l.default.propsToAccessibilityComponent(u));var s=v||t,p=(0,o.default)(s,u,f),_=n.default.createElement(s,p);return p.dir?n.default.createElement(c.LocaleProvider,{children:_,direction:p.dir,locale:p.lang}):_}},89,[1,90,94,25,95]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=o(r(d[1])),t=o(r(d[2])),u=o(r(d[3])),f={isDisabled:l.default,propsToAccessibilityComponent:t.default,propsToAriaRole:u.default};e.default=f},90,[1,91,92,93]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=t=>t.disabled||Array.isArray(t.accessibilityStates)&&t.accessibilityStates.indexOf('disabled')>-1},91,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o={article:'article',banner:'header',blockquote:'blockquote',button:'button',code:'code',complementary:'aside',contentinfo:'footer',deletion:'del',emphasis:'em',figure:'figure',insertion:'ins',form:'form',list:'ul',listitem:'li',main:'main',navigation:'nav',paragraph:'p',region:'section',strong:'strong'},l={};e.default=function(t){if(void 0===t&&(t=l),'label'===(t.role||t.accessibilityRole))return'label';var u=(0,n.default)(t);if(u){if('heading'===u){var c=t.accessibilityLevel||t['aria-level'];return null!=c?"h"+c:'h1'}return o[u]}}},92,[1,93]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l={adjustable:'slider',button:'button',header:'heading',image:'img',imagebutton:null,keyboardkey:null,label:null,link:'link',none:'presentation',search:'search',summary:'region',text:null};e.default=n=>{var t=n.accessibilityRole,u=n.role||t;if(u){var o=l[u];if(null!==o)return o||u}}},93,[]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=l(r(d[1])),t=l(r(d[2])),n=l(r(d[3])),c=l(r(d[4])),u=r(d[5]),o=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],b={},y=Object.prototype.hasOwnProperty,v=Array.isArray,p=/[A-Z]/g;function x(l){return'-'+l.toLowerCase()}function w(l){return l.replace(p,x)}function h(l){return v(l)?l.join(' '):l}var f=c.default.create({auto:{pointerEvents:'auto'},'box-none':{pointerEvents:'box-none'},'box-only':{pointerEvents:'box-only'},none:{pointerEvents:'none'}});e.default=(l,v,p)=>{v||(v=b);var x=v,S=x['aria-activedescendant'],C=x.accessibilityActiveDescendant,I=x['aria-atomic'],R=x.accessibilityAtomic,D=x['aria-autocomplete'],E=x.accessibilityAutoComplete,M=x['aria-busy'],O=x.accessibilityBusy,k=x['aria-checked'],A=x.accessibilityChecked,P=x['aria-colcount'],L=x.accessibilityColumnCount,V=x['aria-colindex'],q=x.accessibilityColumnIndex,B=x['aria-colspan'],z=x.accessibilityColumnSpan,T=x['aria-controls'],H=x.accessibilityControls,_=x['aria-current'],j=x.accessibilityCurrent,N=x['aria-describedby'],F=x.accessibilityDescribedBy,K=x['aria-details'],U=x.accessibilityDetails,Z=x['aria-disabled'],G=x.accessibilityDisabled,J=x['aria-errormessage'],Q=x.accessibilityErrorMessage,W=x['aria-expanded'],X=x.accessibilityExpanded,Y=x['aria-flowto'],$=x.accessibilityFlowTo,aa=x['aria-haspopup'],ia=x.accessibilityHasPopup,la=x['aria-hidden'],ea=x.accessibilityHidden,ra=x['aria-invalid'],sa=x.accessibilityInvalid,ta=x['aria-keyshortcuts'],na=x.accessibilityKeyShortcuts,ca=x['aria-label'],ua=x.accessibilityLabel,oa=x['aria-labelledby'],ba=x.accessibilityLabelledBy,da=x['aria-level'],ya=x.accessibilityLevel,va=x['aria-live'],pa=x.accessibilityLiveRegion,xa=x['aria-modal'],ma=x.accessibilityModal,wa=x['aria-multiline'],ha=x.accessibilityMultiline,fa=x['aria-multiselectable'],Sa=x.accessibilityMultiSelectable,Ca=x['aria-orientation'],Ia=x.accessibilityOrientation,Ra=x['aria-owns'],Da=x.accessibilityOwns,Ea=x['aria-placeholder'],Ma=x.accessibilityPlaceholder,Oa=x['aria-posinset'],ka=x.accessibilityPosInSet,Aa=x['aria-pressed'],Pa=x.accessibilityPressed,ga=x['aria-readonly'],La=x.accessibilityReadOnly,Va=x['aria-required'],qa=x.accessibilityRequired,Ba=(x.role,x.accessibilityRole,x['aria-roledescription']),za=x.accessibilityRoleDescription,Ta=x['aria-rowcount'],Ha=x.accessibilityRowCount,_a=x['aria-rowindex'],ja=x.accessibilityRowIndex,Na=x['aria-rowspan'],Fa=x.accessibilityRowSpan,Ka=x['aria-selected'],Ua=x.accessibilitySelected,Za=x['aria-setsize'],Ga=x.accessibilitySetSize,Ja=x['aria-sort'],Qa=x.accessibilitySort,Wa=x['aria-valuemax'],Xa=x.accessibilityValueMax,Ya=x['aria-valuemin'],$a=x.accessibilityValueMin,ai=x['aria-valuenow'],ii=x.accessibilityValueNow,li=x['aria-valuetext'],ei=x.accessibilityValueText,ri=x.dataSet,si=x.focusable,ti=x.id,ni=x.nativeID,ci=x.pointerEvents,ui=x.style,oi=x.tabIndex,bi=x.testID,di=(0,t.default)(x,o),yi=Z||G,vi=n.default.propsToAriaRole(v),pi=null!=S?S:C;null!=pi&&(di['aria-activedescendant']=pi);var xi=null!=I?S:R;null!=xi&&(di['aria-atomic']=xi);var mi=null!=D?D:E;null!=mi&&(di['aria-autocomplete']=mi);var wi=null!=M?M:O;null!=wi&&(di['aria-busy']=wi);var hi=null!=k?k:A;null!=hi&&(di['aria-checked']=hi);var fi=null!=P?P:L;null!=fi&&(di['aria-colcount']=fi);var Si=null!=V?V:q;null!=Si&&(di['aria-colindex']=Si);var Ci=null!=B?B:z;null!=Ci&&(di['aria-colspan']=Ci);var Ii=null!=T?T:H;null!=Ii&&(di['aria-controls']=h(Ii));var Ri=null!=_?_:j;null!=Ri&&(di['aria-current']=Ri);var Di=null!=N?N:F;null!=Di&&(di['aria-describedby']=h(Di));var Ei=null!=K?K:U;null!=Ei&&(di['aria-details']=Ei),!0===yi&&(di['aria-disabled']=!0,'button'!==l&&'form'!==l&&'input'!==l&&'select'!==l&&'textarea'!==l||(di.disabled=!0));var Mi=null!=J?J:Q;null!=Mi&&(di['aria-errormessage']=Mi);var Oi=null!=W?W:X;null!=Oi&&(di['aria-expanded']=Oi);var ki=null!=Y?Y:$;null!=ki&&(di['aria-flowto']=h(ki));var Ai=null!=aa?aa:ia;null!=Ai&&(di['aria-haspopup']=Ai);var Pi=null!=la?la:ea;!0===Pi&&(di['aria-hidden']=Pi);var gi=null!=ra?ra:sa;null!=gi&&(di['aria-invalid']=gi);var Li=null!=ta?ta:na;null!=Li&&(di['aria-keyshortcuts']=h(Li));var Vi=null!=ca?ca:ua;null!=Vi&&(di['aria-label']=Vi);var qi=null!=oa?oa:ba;null!=qi&&(di['aria-labelledby']=h(qi));var Bi=null!=da?da:ya;null!=Bi&&(di['aria-level']=Bi);var zi=null!=va?va:pa;null!=zi&&(di['aria-live']='none'===zi?'off':zi);var Ti=null!=xa?xa:ma;null!=Ti&&(di['aria-modal']=Ti);var Hi=null!=wa?wa:ha;null!=Hi&&(di['aria-multiline']=Hi);var _i=null!=fa?fa:Sa;null!=_i&&(di['aria-multiselectable']=_i);var ji=null!=Ca?Ca:Ia;null!=ji&&(di['aria-orientation']=ji);var Ni=null!=Ra?Ra:Da;null!=Ni&&(di['aria-owns']=h(Ni));var Fi=null!=Ea?Ea:Ma;null!=Fi&&(di['aria-placeholder']=Fi);var Ki=null!=Oa?Oa:ka;null!=Ki&&(di['aria-posinset']=Ki);var Ui=null!=Aa?Aa:Pa;null!=Ui&&(di['aria-pressed']=Ui);var Zi=null!=ga?ga:La;null!=Zi&&(di['aria-readonly']=Zi,'input'!==l&&'select'!==l&&'textarea'!==l||(di.readOnly=!0));var Gi=null!=Va?Va:qa;null!=Gi&&(di['aria-required']=Gi,'input'!==l&&'select'!==l&&'textarea'!==l||(di.required=qa)),null!=vi&&(di.role='none'===vi?'presentation':vi);var Ji=null!=Ba?Ba:za;null!=Ji&&(di['aria-roledescription']=Ji);var Qi=null!=Ta?Ta:Ha;null!=Qi&&(di['aria-rowcount']=Qi);var Wi=null!=_a?_a:ja;null!=Wi&&(di['aria-rowindex']=Wi);var Xi=null!=Na?Na:Fa;null!=Xi&&(di['aria-rowspan']=Xi);var Yi=null!=Ka?Ka:Ua;null!=Yi&&(di['aria-selected']=Yi);var $i=null!=Za?Za:Ga;null!=$i&&(di['aria-setsize']=$i);var al=null!=Ja?Ja:Qa;null!=al&&(di['aria-sort']=al);var il=null!=Wa?Wa:Xa;null!=il&&(di['aria-valuemax']=il);var ll=null!=Ya?Ya:$a;null!=ll&&(di['aria-valuemin']=ll);var el=null!=ai?ai:ii;null!=el&&(di['aria-valuenow']=el);var rl=null!=li?li:ei;if(null!=rl&&(di['aria-valuetext']=rl),null!=ri)for(var sl in ri)if(y.call(ri,sl)){var tl=w(sl),nl=ri[sl];null!=nl&&(di["data-"+tl]=nl)}0===oi||'0'===oi||-1===oi||'-1'===oi?di.tabIndex=oi:(!1===si&&(di.tabIndex='-1'),'a'===l||'button'===l||'input'===l||'select'===l||'textarea'===l?!1!==si&&!0!==G||(di.tabIndex='-1'):'button'===vi||'checkbox'===vi||'link'===vi||'radio'===vi||'textbox'===vi||'switch'===vi?!1!==si&&(di.tabIndex='0'):!0===si&&(di.tabIndex='0')),null!=ci&&(0,u.warnOnce)('pointerEvents',"props.pointerEvents is deprecated. Use style.pointerEvents");var cl=(0,c.default)([ui,ci&&f[ci]],(0,s.default)({writingDirection:'ltr'},p)),ul=cl[0],ol=cl[1];ul&&(di.className=ul),ol&&(di.style=ol);var bl=null!=ti?ti:ni;return null!=bl&&(di.id=bl),null!=bi&&(di['data-testid']=bi),null==di.type&&'button'===l&&(di.type='button'),di}},94,[1,10,34,90,33,78]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.LocaleProvider=function(t){var r=t.direction,c=t.locale,i=t.children;return r||c?e.default.createElement(n.Provider,{children:i,value:{direction:c?o(c):r,locale:c}}):i},_e.getLocaleDirection=o,_e.useLocaleContext=function(){return(0,e.useContext)(n)};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,c,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(c.get||c.set)?o(i,t,c):i[t]=e[t]);return i})(e,t)})(_r(d[0])),t=_r(d[1]);var r={direction:'ltr',locale:'en-US'},n=(0,e.createContext)(r);function o(e){return(0,t.isLocaleRTL)(e)?'rtl':'ltr'}},95,[25,96]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isLocaleRTL=function(s){var l=c.get(s);if(l)return l;var o=!1;if(Intl.Locale)try{var u=new Intl.Locale(s).maximize().script;o=n.has(u)}catch(n){var h=s.split('-')[0];o=t.has(h)}else{var v=s.split('-')[0];o=t.has(v)}return c.set(s,o),o};var n=new Set(['Arab','Syrc','Samr','Mand','Thaa','Mend','Nkoo','Adlm','Rohg','Hebr']),t=new Set(['ae','ar','arc','bcc','bqi','ckb','dv','fa','far','glk','he','iw','khw','ks','ku','mzn','nqo','pnb','ps','sd','ug','ur','yi']),c=new Map},96,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.touchProps=e.styleProps=e.mouseProps=e.keyboardProps=e.focusProps=e.defaultProps=e.clickProps=e.accessibilityProps=void 0;e.defaultProps={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},e.accessibilityProps={'aria-activedescendant':!0,'aria-atomic':!0,'aria-autocomplete':!0,'aria-busy':!0,'aria-checked':!0,'aria-colcount':!0,'aria-colindex':!0,'aria-colspan':!0,'aria-controls':!0,'aria-current':!0,'aria-describedby':!0,'aria-details':!0,'aria-disabled':!0,'aria-errormessage':!0,'aria-expanded':!0,'aria-flowto':!0,'aria-haspopup':!0,'aria-hidden':!0,'aria-invalid':!0,'aria-keyshortcuts':!0,'aria-label':!0,'aria-labelledby':!0,'aria-level':!0,'aria-live':!0,'aria-modal':!0,'aria-multiline':!0,'aria-multiselectable':!0,'aria-orientation':!0,'aria-owns':!0,'aria-placeholder':!0,'aria-posinset':!0,'aria-pressed':!0,'aria-readonly':!0,'aria-required':!0,role:!0,'aria-roledescription':!0,'aria-rowcount':!0,'aria-rowindex':!0,'aria-rowspan':!0,'aria-selected':!0,'aria-setsize':!0,'aria-sort':!0,'aria-valuemax':!0,'aria-valuemin':!0,'aria-valuenow':!0,'aria-valuetext':!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},e.clickProps={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},e.focusProps={onBlur:!0,onFocus:!0},e.keyboardProps={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},e.mouseProps={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},e.touchProps={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},e.styleProps={style:!0}},97,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,t){var o={};for(var u in n)n.hasOwnProperty(u)&&!0===t[u]&&(o[u]=n[u]);return o}},98,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u){var l=v();(0,n.default)(()=>{var n=t.current;null!=n&&(n[o]=u)},[t,u]),(0,n.default)(()=>{var n=t.current;return null!=n&&null!=l&&('function'==typeof n[o]?l.observe(n):l.unobserve(n)),()=>{null!=n&&null!=l&&l.unobserve(n)}},[t,l])};var n=t(r(d[1])),u=t(r(d[2])),l=t(r(d[3])),o='__reactLayoutHandler',f=(l.default,null);function v(){return l.default&&void 0!==window.ResizeObserver&&null==f&&(f=new window.ResizeObserver(function(t){t.forEach(t=>{var n=t.target,l=n[o];'function'==typeof l&&u.default.measure(n,(n,u,o,f,v,c)=>{var s={nativeEvent:{layout:{x:n,y:u,width:o,height:f,left:v,top:c}},timeStamp:Date.now()};Object.defineProperty(s.nativeEvent,'target',{enumerable:!0,get:()=>t.target}),l(s)})})})),f}},99,[1,100,101,30]);
__d(function(g,r,i,a,m,e,d){var f=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[1]),u=f(r(d[2])).default?t.useLayoutEffect:t.useEffect;e.default=u},100,[1,25,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),s=t(r(d[2])),l=t=>{var o=t.offsetHeight,s=t.offsetWidth,l=t.offsetLeft,f=t.offsetTop;for(t=t.offsetParent;t&&1===t.nodeType;)l+=t.offsetLeft+t.clientLeft-t.scrollLeft,f+=t.offsetTop+t.clientTop-t.scrollTop,t=t.offsetParent;return{width:s,height:o,top:f-=window.scrollY,left:l-=window.scrollX}},f=(t,o,s)=>{var f=o||t&&t.parentNode;t&&f&&setTimeout(()=>{if(t.isConnected&&f.isConnected){var o=l(f),n=l(t),u=n.height,c=n.left,p=n.top,b=n.width,h=c-o.left,v=p-o.top;s(h,v,b,u,c,p)}},0)},n={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},u={blur(t){try{t.blur()}catch(t){}},focus(t){try{var o=t.nodeName;null==t.getAttribute('tabIndex')&&!0!==t.isContentEditable&&null==n[o]&&t.setAttribute('tabIndex','-1'),t.focus()}catch(t){}},measure(t,o){f(t,null,o)},measureInWindow(t,s){t&&setTimeout(()=>{var l=(0,o.default)(t),f=l.height,n=l.left,u=l.top,c=l.width;s(n,u,c,f)},0)},measureLayout(t,o,s,l){f(t,o,l)},updateView(t,o){for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var f=o[l];switch(l){case'style':(0,s.default)(t,f);break;case'class':case'className':t.setAttribute('class',f);break;case'text':case'value':t.value=f;break;default:t.setAttribute(l,f)}}},configureNextLayoutAnimation(t,o){o()},setLayoutAnimationEnabledExperimental(){}};e.default=u},101,[1,102,103]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=n=>{if(null!=n&&(1===n.nodeType&&'function'==typeof n.getBoundingClientRect))return n.getBoundingClientRect()}},102,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=t(r(d[1]));e.default=function(t,o){var l=t.style;for(var n in o)if(o.hasOwnProperty(n)){var u=0===n.indexOf('--'),v=(0,f.default)(n,o[n],u);'float'===n&&(n='cssFloat'),u?l.setProperty(n,v):l[n]=v}}},103,[1,104]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=function(t,n,o){return null==n||'boolean'==typeof n||''===n?'':o||'number'!=typeof n||0===n||u.default.hasOwnProperty(t)&&u.default[t]?(''+n).trim():n+'px'}},104,[1,105]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},t=['ms','Moz','O','Webkit'],l=(o,t)=>o+t.charAt(0).toUpperCase()+t.substring(1);Object.keys(o).forEach(s=>{t.forEach(t=>{o[l(t,s)]=o[s]})});e.default=o},105,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.useMemo(()=>(0,r.default)(...n),[...n])};var t=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(f.get||f.set)?o(u,t,f):u[t]=e[t]);return u})(e,t)})(_r(d[1])),r=e(_r(d[2]))},106,[1,25,107]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(t=>{null!=t&&('function'!=typeof t?'object'!=typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))})}};!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(f.get||f.set)?o(u,t,f):u[t]=e[t])})(e,t)})(_r(d[0]))},107,[25]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u){u.pointerEvents,u.style;return(0,n.default)(()=>u=>{null!=u&&(u.measure=n=>t.default.measure(u,n),u.measureLayout=(n,l,o)=>t.default.measureLayout(u,n,o,l),u.measureInWindow=n=>t.default.measureInWindow(u,n))})};var t=u(r(d[1])),n=u(r(d[2]))},108,[1,101,109]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(r){var n=e.useRef(t);n.current===t&&(n.current=r());return n.current};var e=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(f.get||f.set)?o(u,t,f):u[t]=e[t]);return u})(e,t)})(_r(d[0]));var t='function'==typeof Symbol&&'symbol'==typeof Symbol()?Symbol():Object.freeze({})},109,[25]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(r,l){void 0===l&&(l=t);var c=u(()=>o++),f=e.useRef(!1);e.useEffect(()=>(n.attachListeners(),()=>{n.removeNode(c)}),[c]),e.useEffect(()=>{var e=l,t=e.onMoveShouldSetResponder,o=e.onMoveShouldSetResponderCapture,u=e.onScrollShouldSetResponder,s=e.onScrollShouldSetResponderCapture,p=e.onSelectionChangeShouldSetResponder,S=e.onSelectionChangeShouldSetResponderCapture,i=e.onStartShouldSetResponder,h=e.onStartShouldSetResponderCapture,v=null!=t||null!=o||null!=u||null!=s||null!=p||null!=S||null!=i||null!=h,R=r.current;v?(n.addNode(c,R,l),f.current=!0):f.current&&(n.removeNode(c),f.current=!1)},[l,r,c]),e.useDebugValue({isResponder:r.current===n.getResponderNode()}),e.useDebugValue(l)};var e=r(_r(d[0])),n=r(_r(d[1]));function r(e,n){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(r=function(e,n){if(!n&&e&&e.__esModule)return e;var r,u,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=n?o:t){if(r.has(e))return r.get(e);r.set(e,l)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((u=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(u.get||u.set)?r(l,n,u):l[n]=e[n]);return l})(e,n)}var t={},o=0;function u(n){var r=e.useRef(null);return null==r.current&&(r.current=n()),r.current}},110,[25,111]);
__d(function(g,r,_i2,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.addNode=function(n,t,o){(0,i.setResponderId)(t,n),v.set(n,o)},e.attachListeners=function(){l.default&&null==window.__reactResponderSystemActive&&(window.addEventListener('blur',w),y.forEach(n=>{document.addEventListener(n,w)}),_.forEach(n=>{document.addEventListener(n,w,!0)}),window.__reactResponderSystemActive=!0)},e.getResponderNode=function(){return b.node},e.removeNode=function(n){b.id===n&&M();v.has(n)&&v.delete(n)},e.terminateResponder=M;var t=n(r(d[1])),o=r(d[2]),i=r(d[3]),s=r(d[4]),l=n(r(d[5])),u={},c=['onStartShouldSetResponderCapture','onStartShouldSetResponder',{bubbles:!0}],p=['onMoveShouldSetResponderCapture','onMoveShouldSetResponder',{bubbles:!0}],h={touchstart:c,mousedown:c,touchmove:p,mousemove:p,scroll:['onScrollShouldSetResponderCapture','onScrollShouldSetResponder',{bubbles:!1}]},f={id:null,idPath:null,node:null},v=new Map,R=!1,S=0,b={id:null,node:null,idPath:null},T=new s.ResponderTouchHistoryStore;function C(n){b=n}function P(n){var t=v.get(n);return null!=t?t:u}function w(n){var s=n.type,l=n.target;if('touchstart'===s&&(R=!0),('touchmove'===s||S>1)&&(R=!1),!('mousedown'===s&&R||'mousemove'===s&&R||'mousemove'===s&&S<1))if(R&&'mouseup'===s)0===S&&(R=!1);else{var u=(0,o.isStartish)(s)&&(0,i.isPrimaryPointerDown)(n),c=(0,o.isMoveish)(s),p=(0,o.isEndish)(s),h=(0,o.isScroll)(s),v=(0,o.isSelectionChange)(s),w=(0,t.default)(n,T);(u||c||p)&&(n.touches?S=n.touches.length:u?S=1:p&&(S=0),T.recordTouchTrack(s,w.nativeEvent));var _,y=(0,i.getResponderPaths)(n),M=!1;if(u||c||h&&S>0){var x=b.idPath,L=y.idPath;if(null!=x&&null!=L){var q=(0,i.getLowestCommonAncestor)(x,L);if(null!=q){var j=L.indexOf(q)+(q===b.id?1:0);y={idPath:L.slice(j),nodePath:y.nodePath.slice(j)}}else y=null}null!=y&&null!=(_=N(y,n,w))&&(E(w,_),M=!0)}if(null!=b.id&&null!=b.node){var A=b,G=A.id,O=A.node,k=P(G),D=k.onResponderStart,H=k.onResponderMove,I=k.onResponderEnd,V=k.onResponderRelease,z=k.onResponderTerminate,B=k.onResponderTerminationRequest;if(w.bubbles=!1,w.cancelable=!1,w.currentTarget=O,u)null!=D&&(w.dispatchConfig.registrationName='onResponderStart',D(w));else if(c)null!=H&&(w.dispatchConfig.registrationName='onResponderMove',H(w));else{var F=(0,o.isCancelish)(s)||'contextmenu'===s||'blur'===s&&l===window||'blur'===s&&l.contains(O)&&n.relatedTarget!==O||h&&0===S||h&&l.contains(O)&&l!==O||v&&(0,i.hasValidSelection)(n),J=p&&!F&&!(0,i.hasTargetTouches)(O,n.touches);if(p&&null!=I&&(w.dispatchConfig.registrationName='onResponderEnd',I(w)),J&&(null!=V&&(w.dispatchConfig.registrationName='onResponderRelease',V(w)),C(f)),F){var K=!0;'contextmenu'!==s&&'scroll'!==s&&'selectionchange'!==s||(M?K=!1:null!=B&&(w.dispatchConfig.registrationName='onResponderTerminationRequest',!1===B(w)&&(K=!1))),K&&(null!=z&&(w.dispatchConfig.registrationName='onResponderTerminate',z(w)),C(f),R=!1,S=0)}}}}}function N(n,t,o){var i=h[t.type];if(null!=i){for(var s=n.idPath,l=n.nodePath,u=i[0],c=i[1],p=i[2].bubbles,f=function(n,t,i){var l=P(n)[i];if(null!=l&&(o.currentTarget=t,!0===l(o)))return{id:n,node:t,idPath:s.slice(s.indexOf(n))}},v=s.length-1;v>=0;v--){var R=f(s[v],l[v],u);if(null!=R)return R;if(!0===o.isPropagationStopped())return}if(p)for(var S=0;S<s.length;S++){var b=f(s[S],l[S],c);if(null!=b)return b;if(!0===o.isPropagationStopped())return}else{var T=s[0],C=l[0];if(t.target===C)return f(T,C,c)}}}function E(n,t){var o=b,i=o.id,s=o.node,l=t.id,u=t.node,c=P(l),p=c.onResponderGrant,h=c.onResponderReject;if(n.bubbles=!1,n.cancelable=!1,n.currentTarget=u,null==i)null!=p&&(n.currentTarget=u,n.dispatchConfig.registrationName='onResponderGrant',p(n)),C(t);else{var f=P(i),v=f.onResponderTerminate,R=f.onResponderTerminationRequest,S=!0;null!=R&&(n.currentTarget=s,n.dispatchConfig.registrationName='onResponderTerminationRequest',!1===R(n)&&(S=!1)),S?(null!=v&&(n.currentTarget=s,n.dispatchConfig.registrationName='onResponderTerminate',v(n)),null!=p&&(n.currentTarget=u,n.dispatchConfig.registrationName='onResponderGrant',p(n)),C(t)):null!=h&&(n.currentTarget=u,n.dispatchConfig.registrationName='onResponderReject',h(n))}}var _=['blur','scroll'],y=['mousedown','mousemove','mouseup','dragstart','touchstart','touchmove','touchend','touchcancel','contextmenu','select','selectionchange'];function M(){var n=b,o=n.id,i=n.node;if(null!=o&&null!=i){var s=P(o).onResponderTerminate;if(null!=s){var l=(0,t.default)({},T);l.currentTarget=i,s(l)}C(f)}R=!1,S=0}},111,[1,112,113,114,116,30]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,f){var p,s,v,y=!1,h=t.changedTouches,X=t.type,Y=!0===t.metaKey,P=!0===t.shiftKey,T=h&&h[0].force||0,b=l(h&&h[0].identifier||0),K=h&&h[0].clientX||t.clientX,D=h&&h[0].clientY||t.clientY,_=h&&h[0].pageX||t.pageX,S=h&&h[0].pageY||t.pageY,H='function'==typeof t.preventDefault?t.preventDefault.bind(t):o,j=t.timeStamp;function A(t){return Array.prototype.slice.call(t).map(t=>({force:t.force,identifier:l(t.identifier),get locationX(){return M(t.clientX)},get locationY(){return O(t.clientY)},pageX:t.pageX,pageY:t.pageY,target:t.target,timestamp:j}))}if(null!=h)s=A(h),v=A(t.touches);else{var C=[{force:T,identifier:b,get locationX(){return M(K)},get locationY(){return O(D)},pageX:_,pageY:S,target:t.target,timestamp:j}];s=C,v='mouseup'===X||'dragstart'===X?c:C}var E={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:t.defaultPrevented,dispatchConfig:u,eventPhase:t.eventPhase,isDefaultPrevented:()=>t.defaultPrevented,isPropagationStopped:()=>y,isTrusted:t.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:Y,shiftKey:P,changedTouches:s,force:T,identifier:b,get locationX(){return M(K)},get locationY(){return O(D)},pageX:_,pageY:S,target:t.target,timestamp:j,touches:v,type:X},persist:o,preventDefault:H,stopPropagation(){y=!0},target:t.target,timeStamp:j,touchHistory:f.touchHistory};function M(t){if(p=p||(0,n.default)(E.currentTarget))return t-p.left}function O(t){if(p=p||(0,n.default)(E.currentTarget))return t-p.top}return E};var n=t(r(d[1])),o=()=>{},u={},c=[];function l(t){return t>20?t%20:t}},112,[1,102]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.TOUCH_START=e.TOUCH_MOVE=e.TOUCH_END=e.TOUCH_CANCEL=e.SELECTION_CHANGE=e.SELECT=e.SCROLL=e.MOUSE_UP=e.MOUSE_MOVE=e.MOUSE_DOWN=e.MOUSE_CANCEL=e.FOCUS_OUT=e.CONTEXT_MENU=e.BLUR=void 0,e.isCancelish=S,e.isEndish=function(E){return E===u||E===n||S(E)},e.isMoveish=function(E){return E===o||E===O},e.isScroll=function(E){return E===_},e.isSelectionChange=function(E){return E===c||E===T},e.isStartish=function(O){return O===C||O===E};e.BLUR='blur',e.CONTEXT_MENU='contextmenu',e.FOCUS_OUT='focusout';var E=e.MOUSE_DOWN='mousedown',O=e.MOUSE_MOVE='mousemove',n=e.MOUSE_UP='mouseup',t=e.MOUSE_CANCEL='dragstart',C=e.TOUCH_START='touchstart',o=e.TOUCH_MOVE='touchmove',u=e.TOUCH_END='touchend',U=e.TOUCH_CANCEL='touchcancel',_=e.SCROLL='scroll',c=e.SELECT='select',T=e.SELECTION_CHANGE='selectionchange';function S(E){return E===U||E===t}},113,[]);
__d(function(g,r,_i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getLowestCommonAncestor=function(n,t){var o=n.length,u=t.length;if(0===o||0===u||n[o-1]!==t[u-1])return null;var l=n[0],c=0,i=t[0],s=0;o-u>0&&(l=n[c=o-u],o=u);u-o>0&&(i=t[s=u-o],u=o);var f=o;for(;f--;){if(l===i)return l;l=n[c++],i=t[s++]}return null},e.getResponderPaths=function(n){for(var t=[],o=[],l=u(n),i=0;i<l.length;i++){var s=l[i],f=c(s);null!=f&&(t.push(f),o.push(s))}return{idPath:t,nodePath:o}},e.hasTargetTouches=function(n,t){if(!t||0===t.length)return!1;for(var o=0;o<t.length;o++){var u=t[o].target;if(null!=u&&n.contains(u))return!0}return!1},e.hasValidSelection=function(n){if('selectionchange'===n.type)return(0,t.default)();return'select'===n.type},e.isPrimaryPointerDown=function(n){var t=n.altKey,o=n.button,u=n.buttons,l=n.ctrlKey,c=n.type,i='mousedown'===c&&(0===o||1===u),s='mousemove'===c&&1===u,f=!1===t&&!1===l;if('touchstart'===c||'touchmove'===c||i&&f||s&&f)return!0;return!1},e.setResponderId=function(n,t){null!=n&&(n[o]=t)};var t=n(r(d[1])),o='__reactResponderId';function u(n){return'selectionchange'===n.type?l(window.getSelection().anchorNode):null!=n.composedPath?n.composedPath():l(n.target)}function l(n){for(var t=[];null!=n&&n!==document.body;)t.push(n),n=n.parentNode;return t}function c(n){return null!=n?n[o]:null}},114,[1,115]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var o=window.getSelection(),n=o.toString(),t=o.anchorNode,u=o.focusNode,c=t&&t.nodeType===window.Node.TEXT_NODE||u&&u.nodeType===window.Node.TEXT_NODE;return n.length>=1&&'\n'!==n&&c}},115,[]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.ResponderTouchHistoryStore=void 0;var t=r(d[0]);function i(t){return t.timeStamp||t.timestamp}function n(t){return{touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:i(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:i(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:i(t)}}function c(t,n){t.touchActive=!0,t.startPageX=n.pageX,t.startPageY=n.pageY,t.startTimeStamp=i(n),t.currentPageX=n.pageX,t.currentPageY=n.pageY,t.currentTimeStamp=i(n),t.previousPageX=n.pageX,t.previousPageY=n.pageY,t.previousTimeStamp=i(n)}function o(t){var i=t.identifier;return null==i&&console.error('Touch object is missing identifier.'),i}function u(t,u){var s=o(t),h=u.touchBank[s];h?c(h,t):u.touchBank[s]=n(t),u.mostRecentTimeStamp=i(t)}function s(t,n){var c=n.touchBank[o(t)];c?(c.touchActive=!0,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=i(t),n.mostRecentTimeStamp=i(t)):console.warn('Cannot record touch move without a touch start.\n',"Touch Move: "+p(t)+"\n","Touch Bank: "+v(n))}function h(t,n){var c=n.touchBank[o(t)];c?(c.touchActive=!1,c.previousPageX=c.currentPageX,c.previousPageY=c.currentPageY,c.previousTimeStamp=c.currentTimeStamp,c.currentPageX=t.pageX,c.currentPageY=t.pageY,c.currentTimeStamp=i(t),n.mostRecentTimeStamp=i(t)):console.warn('Cannot record touch end without a touch start.\n',"Touch End: "+p(t)+"\n","Touch Bank: "+v(n))}function p(t){return JSON.stringify({identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,timestamp:i(t)})}function v(t){var i=t.touchBank,n=JSON.stringify(i.slice(0,20));return i.length>20&&(n+=' (original size: '+i.length+')'),n}e.ResponderTouchHistoryStore=class{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(i,n){var c=this._touchHistory;if((0,t.isMoveish)(i))n.changedTouches.forEach(t=>s(t,c));else if((0,t.isStartish)(i))n.changedTouches.forEach(t=>u(t,c)),c.numberActiveTouches=n.touches.length,1===c.numberActiveTouches&&(c.indexOfSingleActiveTouch=n.touches[0].identifier);else if((0,t.isEndish)(i)&&(n.changedTouches.forEach(t=>h(t,c)),c.numberActiveTouches=n.touches.length,1===c.numberActiveTouches))for(var o=c.touchBank,p=0;p<o.length;p++){var v=o[p];if(null!=v&&v.touchActive){c.indexOfSingleActiveTouch=p;break}}}get touchHistory(){return this._touchHistory}}},116,[113]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=(0,r(d[0]).createContext)(!1);e.default=t},117,[25]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(){(0,t.useEffect)(()=>{try{(0,T.testHermesCompatibility)(),(0,T.testProblematicPatterns)()}catch(e){}},[]),(0,t.useEffect)(()=>{const e=(e,t)=>{P(e),A(t)};return j.themeManager.addListener(e),()=>{j.themeManager.removeListener(e)}},[]);const[e,l]=(0,t.useState)({visible:!1,message:'',type:'success'}),[i,H]=(0,t.useState)(!1),[k,P]=(0,t.useState)(j.themeManager.getCurrentTheme()),[O,A]=(0,t.useState)(j.themeManager.getCurrentThemeIndex()),[B,z]=(0,t.useState)(()=>{try{return{playing:!1,paused:!1,score:0,best:(0,v.loadGameSettings)().bestScore||0,ballAngle:0,ballSpeed:S.CONFIG.SPEED.BASE,ballScale:S.CONFIG.BALL_SHRINK[0],ballDirection:1,pillars:[],targetPillarIndex:0,timeOnCurrentPillar:0,lastThemeChangeScore:0,rotationCount:0,showProjection:!1}}catch(e){return{playing:!1,paused:!1,score:0,best:0,ballAngle:0,ballSpeed:S.CONFIG.SPEED.BASE,ballScale:S.CONFIG.BALL_SHRINK[0],ballDirection:1,pillars:[],targetPillarIndex:0,timeOnCurrentPillar:0,lastThemeChangeScore:0,rotationCount:0,showProjection:!1}}});(0,t.useEffect)(()=>{if('undefined'!=typeof window){let e=document.querySelector('meta[name="viewport"]');e||(e=document.createElement('meta'),e.name='viewport',document.head.appendChild(e)),e.setAttribute('content','width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, shrink-to-fit=no');const t=document.body.style.cssText,o=document.documentElement.style.cssText;document.body.style.cssText="\n        margin: 0;\n        padding: 0;\n        width: 100vw;\n        height: 100vh;\n        overflow: hidden;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        -webkit-overflow-scrolling: touch;\n        -webkit-user-select: none;\n        -webkit-touch-callout: none;\n        -webkit-tap-highlight-color: transparent;\n      ",document.documentElement.style.cssText="\n        margin: 0;\n        padding: 0;\n        width: 100vw;\n        height: 100vh;\n        overflow: hidden;\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n      ";let n=0;const r=e=>{const t=Date.now();t-n<=300&&e.preventDefault(),n=t},l=e=>(e.preventDefault(),!1);document.addEventListener('touchend',r,{passive:!1}),document.addEventListener('contextmenu',l,{passive:!1}),document.addEventListener('selectstart',l,{passive:!1});const i=()=>{setTimeout(()=>{window.scrollTo(0,0),document.body.style.height=window.innerHeight+'px',document.documentElement.style.height=window.innerHeight+'px'},100)};return window.addEventListener('orientationchange',i),window.addEventListener('resize',i),i(),()=>{document.removeEventListener('touchend',r),document.removeEventListener('contextmenu',l),document.removeEventListener('selectstart',l),window.removeEventListener('orientationchange',i),window.removeEventListener('resize',i),document.body.style.cssText=t,document.documentElement.style.cssText=o}}return()=>{}},[]),(0,t.useEffect)(()=>{const e={bestScore:B.best};(0,v.saveGameSettings)(e)},[B.best]);const L=(0,t.useCallback)(()=>{try{const e=(0,C.createInitialPillars)();E.HapticFeedback.success(),z(t=>({playing:!0,paused:!1,score:0,best:Math.max(t.score,t.best),ballAngle:0,ballSpeed:S.CONFIG.SPEED.BASE,ballScale:S.CONFIG.BALL_SHRINK[0],ballDirection:1,pillars:e,targetPillarIndex:0,timeOnCurrentPillar:0,lastThemeChangeScore:0,rotationCount:0,showProjection:!1}))}catch(e){E.HapticFeedback.error(),z(e=>Object.assign({},e,{playing:!0,paused:!1,score:0,pillars:(0,C.createInitialPillars)(),targetPillarIndex:0,timeOnCurrentPillar:0}))}},[k]),W=(0,t.useCallback)(()=>{z(e=>Object.assign({},e,{playing:!1,best:Math.max(e.score,e.best)}))},[]),M=(0,t.useCallback)(()=>{if(!B.playing||B.paused)return;const e=Date.now();if(!(M.lastCall&&e-M.lastCall<30)){M.lastCall=e;try{const e=(0,w.checkBallCollision)(B);if(-1===e)return E.HapticFeedback.error(),void W();E.HapticFeedback.medium(),z(t=>Object.assign({},t,{targetPillarIndex:e}))}catch(e){E.HapticFeedback.error(),W()}}},[B,W]),R=(0,t.useCallback)(()=>{B.playing&&!B.paused&&z(e=>Object.assign({},e,{showProjection:!0}))},[B.playing,B.paused]),D=(0,t.useCallback)(()=>{B.playing&&z(e=>Object.assign({},e,{paused:!e.paused}))},[B.playing]),G=(0,t.useCallback)(e=>{if(void 0!==e){if(j.themeManager.setTheme(e)){const e=j.themeManager.getCurrentTheme();E.HapticFeedback.selection(),l({visible:!0,message:`Theme: ${e.name}`,type:'success'}),setTimeout(()=>{l(e=>Object.assign({},e,{visible:!1}))},1500)}}else E.HapticFeedback.light(),H(!0)},[]),N=(0,t.useCallback)(e=>{G(e),H(!1)},[G]),_=(0,t.useCallback)(()=>{z(e=>{try{const t=e.targetPillarIndex,o=e.score+t,n=[...e.pillars.slice(t)];for(;n.length<S.CONFIG.PILLAR_COUNT;){const e=(0,C.generateNextPillar)(n);n.push(e)}if(0===n.length)return e;const r=e.lastThemeChangeScore||0;let i=r;o>0&&o>=r+10&&(j.themeManager.setRandomTheme(),i=o,E.HapticFeedback.success(),setTimeout(()=>{const e=j.themeManager.getCurrentTheme();l({visible:!0,message:`\ud83c\udfa8 New theme: ${e.name}`,type:'success'}),setTimeout(()=>{l(e=>Object.assign({},e,{visible:!1}))},2500)},300)),E.HapticFeedback.light();const s=S.CONFIG.SPEED.BASE+o*S.CONFIG.SPEED.SCORE_INCREMENT;return Object.assign({},e,{score:o,best:Math.max(o,e.best),ballSpeed:s,ballScale:1,ballDirection:-1*e.ballDirection,ballAngle:(e.ballAngle+180)%360,pillars:n,targetPillarIndex:0,timeOnCurrentPillar:0,lastThemeChangeScore:i})}catch(t){return e}})},[]);(0,t.useEffect)(()=>{if('undefined'!=typeof window){const e=e=>{'Space'===e.code||' '===e.key?(e.preventDefault(),B.playing&&!B.paused?M():B.playing||L()):'KeyP'===e.code?(e.preventDefault(),D()):'Escape'===e.code?(e.preventDefault(),B.playing&&!B.paused&&D()):'KeyT'===e.code?(e.preventDefault(),G()):'Enter'===e.code&&(e.preventDefault(),B.playing||L())};return window.addEventListener('keydown',e),()=>window.removeEventListener('keydown',e)}},[B.playing,B.paused,M,L,D,G]);const[V,K]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{const e=e=>{(e.message&&e.message.includes('WebGL')||e.message&&e.message.includes('three'))&&K(!0)};return'undefined'!=typeof window&&window.addEventListener&&window.addEventListener('error',e),()=>{'undefined'!=typeof window&&window.removeEventListener&&window.removeEventListener('error',e)}},[]),V)return(0,I.jsx)(o.default,{style:[F.container,{justifyContent:'center',alignItems:'center'}],children:(0,I.jsxs)(r.default,{style:{color:'white',textAlign:'center',fontSize:18,padding:20},children:["3D rendering not supported on this device.",'\n',"Please try updating your browser or using a different device."]})});return(0,I.jsx)(f.default,{children:(0,I.jsxs)(o.default,{style:F.container,children:[(0,I.jsxs)(s.Canvas,{camera:{position:[0,S.CONFIG.CAMERA.Y,S.CONFIG.CAMERA.Z],fov:S.CONFIG.CAMERA.FOV,near:.1,far:200},style:F.canvas,shadows:!1,gl:{antialias:!1,alpha:!1,powerPreference:"default",precision:'mediump',preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1},dpr:Math.min('undefined'!=typeof window&&window.devicePixelRatio||1,2),frameloop:"always",performance:{min:.8,max:1,debounce:200},dpr:1,frameloop:"always",children:[(0,I.jsx)("color",{attach:"background",args:[k.bg]}),(0,I.jsx)(c.default,{game:B,onPillarReached:_,setGame:z,endGame:W})]}),B.playing&&(0,I.jsxs)(o.default,{style:F.gameUI,children:[(0,I.jsxs)(o.default,{style:[F.scoreContainer,{backgroundColor:'rgba(0, 0, 0, 0.4)',borderColor:(0,w.colorToHex)(k.ball)+'40'}],children:[(0,I.jsx)(r.default,{style:[F.gameScore,{color:(0,w.colorToHex)(k.ball)}],children:B.score}),(0,I.jsxs)(r.default,{style:[F.bestScoreSmall,{color:'rgba(255, 255, 255, 0.8)'}],children:["BEST: ",B.best]})]}),(0,I.jsxs)(o.default,{style:[F.gameStats,{backgroundColor:'rgba(0, 0, 0, 0.3)',borderColor:(0,w.colorToHex)(k.ball)+'30'}],children:[(0,I.jsxs)(r.default,{style:[F.statText,{color:(0,w.colorToHex)(k.ball)}],children:[B.ballSpeed.toFixed(1),"x"]}),(0,I.jsxs)(r.default,{style:[F.statText,{color:(0,w.colorToHex)(k.ball)}],children:[(100*B.ballScale).toFixed(0),"%"]})]}),B.score>0&&(0,I.jsx)(o.default,{style:[F.nextThemeIndicator,{backgroundColor:'rgba(0, 0, 0, 0.25)',borderColor:(0,w.colorToHex)(k.ball)+'25'}],children:(0,I.jsxs)(r.default,{style:[F.nextThemeText,{color:'rgba(255, 255, 255, 0.9)'}],children:["Next theme: ",10-B.score%10," pts"]})})]}),B.playing&&!B.paused&&(0,I.jsx)(n.default,{style:F.touchArea,onPressIn:R,onPress:M,activeOpacity:1}),B.playing&&!B.paused&&(0,I.jsx)(o.default,{style:F.inGamePauseButtonContainer,children:(0,I.jsx)(p.default,{icon:"pause",variant:"primary",size:"medium",onPress:D,style:{backgroundColor:'rgba(0, 0, 0, 0.4)',borderColor:(0,w.colorToHex)(k.ball)+'60'}})}),B.playing&&B.paused&&(0,I.jsx)(o.default,{style:[F.pauseOverlay,{backgroundColor:(0,w.colorToHex)(k.bg)+'95'}],children:(0,I.jsxs)(o.default,{style:F.pauseContent,children:[(0,I.jsx)(r.default,{style:[F.pauseTitle,{color:(0,w.colorToHex)(k.ball)}],children:"GAME PAUSED"}),(0,I.jsxs)(o.default,{style:[F.pauseStatsContainer,{backgroundColor:'rgba(0, 0, 0, 0.2)',borderColor:(0,w.colorToHex)(k.ball)+'40'}],children:[(0,I.jsxs)(o.default,{style:F.pauseStatsRow,children:[(0,I.jsxs)(o.default,{style:F.pauseStatItem,children:[(0,I.jsx)(r.default,{style:[F.pauseStatLabel,{color:(0,w.colorToHex)(k.ball)}],children:"SCORE"}),(0,I.jsx)(r.default,{style:[F.pauseStatValue,{color:(0,w.colorToHex)(k.ball)}],children:B.score})]}),(0,I.jsxs)(o.default,{style:F.pauseStatItem,children:[(0,I.jsx)(r.default,{style:[F.pauseStatLabel,{color:(0,w.colorToHex)(k.ball)}],children:"BEST"}),(0,I.jsx)(r.default,{style:[F.pauseStatValue,{color:(0,w.colorToHex)(k.ball)}],children:B.best})]})]}),(0,I.jsxs)(o.default,{style:F.pauseStatsRow,children:[(0,I.jsxs)(o.default,{style:F.pauseStatItem,children:[(0,I.jsx)(r.default,{style:[F.pauseStatLabel,{color:(0,w.colorToHex)(k.ball)}],children:"SPEED"}),(0,I.jsxs)(r.default,{style:[F.pauseStatValue,{color:(0,w.colorToHex)(k.ball)}],children:[B.ballSpeed.toFixed(1),"x"]})]}),(0,I.jsxs)(o.default,{style:F.pauseStatItem,children:[(0,I.jsx)(r.default,{style:[F.pauseStatLabel,{color:(0,w.colorToHex)(k.ball)}],children:"SIZE"}),(0,I.jsxs)(r.default,{style:[F.pauseStatValue,{color:(0,w.colorToHex)(k.ball)}],children:[(100*B.ballScale).toFixed(0),"%"]})]})]})]}),(0,I.jsx)(y.BannerAd,{testMode:!1,style:{backgroundColor:'rgba(0, 0, 0, 0.2)',borderColor:(0,w.colorToHex)(k.ball)+'30',borderWidth:1}}),(0,I.jsxs)(o.default,{style:F.pausePrimaryActions,children:[(0,I.jsx)(u.default,{title:"RESUME GAME",icon:"play",variant:"accent",size:"large",onPress:D,iconColor:(0,w.colorToHex)(k.ball),style:[F.primaryButton,{backgroundColor:'rgba(0, 0, 0, 0.3)',borderColor:(0,w.colorToHex)(k.ball)+'60'}]}),(0,I.jsx)(u.default,{title:"NEW GAME",icon:"refresh",variant:"primary",size:"large",onPress:L,iconColor:(0,w.colorToHex)(k.ball),style:[F.primaryButton,{backgroundColor:'rgba(0, 0, 0, 0.25)',borderColor:(0,w.colorToHex)(k.ball)+'50'}]})]}),(0,I.jsxs)(o.default,{style:[F.themeControls,{backgroundColor:'rgba(0, 0, 0, 0.15)',borderColor:(0,w.colorToHex)(k.ball)+'30'}],children:[(0,I.jsx)(u.default,{title:"SELECT THEME",icon:"color-palette",variant:"secondary",size:"medium",onPress:()=>G(),iconColor:(0,w.colorToHex)(k.ball),style:[F.themeButton,{backgroundColor:'rgba(0, 0, 0, 0.2)',borderColor:(0,w.colorToHex)(k.ball)+'40'}]}),(0,I.jsxs)(r.default,{style:[F.themeInfo,{color:(0,w.colorToHex)(k.ball)}],children:[k.name," (",O+1,"/",S.COLOR_SCHEMES.length,")"]})]}),(0,I.jsx)(r.default,{style:[F.pauseInstructions,{color:(0,w.colorToHex)(k.ball)}],children:'P: Resume \u2022 ESC: Pause \u2022 SPACE: Jump \u2022 T: Change Theme'})]})}),!B.playing&&(0,I.jsx)(b.default,{game:Object.assign({},B,{currentThemeIndex:O}),onStartGame:L,onChangeTheme:G,colors:k}),(0,I.jsx)(h.default,{visible:e.visible,message:e.message,type:e.type,onHide:()=>l(Object.assign({},e,{visible:!1}))}),(0,I.jsx)(x.default,{visible:i,currentThemeIndex:O,onThemeSelect:N,onClose:()=>H(!1)})]})})};var t=H(_r(d[1])),o=e(_r(d[2])),n=e(_r(d[3])),r=e(_r(d[4])),l=e(_r(d[5])),i=e(_r(d[6])),s=(e(_r(d[7])),e(_r(d[8])),_r(d[9])),c=e(_r(d[10])),u=e(_r(d[11])),p=e(_r(d[12])),b=e(_r(d[13])),h=e(_r(d[14])),f=e(_r(d[15])),x=e(_r(d[16])),y=_r(d[17]),S=_r(d[18]),C=(H(_r(d[19])),_r(d[20])),w=_r(d[21]),v=_r(d[22]),T=_r(d[23]),j=_r(d[24]),E=_r(d[25]),I=_r(d[26]);function H(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(H=function(e,t){if(!t&&e&&e.__esModule)return e;var r,l,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?r(i,t,l):i[t]=e[t]);return i})(e,t)}const k=i.default.get('window'),{width:P,height:O}=k,A=P>=768,B=P<375||O<667;const F=l.default.create({container:{flex:1,backgroundColor:'#000',width:'95vw',height:'95vh',maxWidth:'95vw',maxHeight:'95vh',position:'fixed',top:'2.5vh',left:'2.5vw',overflow:'hidden',margin:0,padding:0,boxSizing:'border-box'},canvas:{position:'absolute',top:0,left:0,width:'95vw',height:'95vh',maxWidth:'95vw',maxHeight:'95vh',backgroundColor:'transparent',zIndex:1,boxSizing:'border-box'},touchArea:{position:'absolute',top:0,left:0,width:'95vw',height:'95vh',zIndex:100,backgroundColor:'transparent'},gameUI:{position:'absolute',top:10,right:10,alignItems:'flex-end',pointerEvents:'box-none',maxWidth:120,zIndex:200},scoreContainer:{paddingHorizontal:12,paddingVertical:8,borderRadius:12,alignItems:'center',marginBottom:6,backdropFilter:'blur(10px)',borderWidth:1,minWidth:80,shadowColor:'rgba(0, 0, 0, 0.2)',shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:2,elevation:2},gameScore:{fontSize:28,fontWeight:'700',letterSpacing:-.3,lineHeight:32,fontFamily:'System'},bestScoreSmall:{fontSize:10,fontWeight:'600',opacity:.9,marginTop:2,letterSpacing:-.05,fontFamily:'System'},gameStats:{flexDirection:'row',paddingHorizontal:10,paddingVertical:6,borderRadius:10,justifyContent:'space-between',minWidth:70,backdropFilter:'blur(10px)',borderWidth:1,shadowColor:'rgba(0, 0, 0, 0.1)',shadowOffset:{width:0,height:1},shadowOpacity:.1,shadowRadius:1,elevation:1},statText:{fontSize:11,fontWeight:'600',opacity:1,letterSpacing:-.1,fontFamily:'System'},nextThemeIndicator:{paddingHorizontal:8,paddingVertical:4,borderRadius:10,marginTop:4,alignItems:'center',borderWidth:1},nextThemeText:{fontSize:9,fontWeight:'600',opacity:.8,textAlign:'center'},inGamePauseButtonContainer:{position:'absolute',bottom:15,left:15,zIndex:1e3},pauseOverlay:{position:'absolute',top:0,left:0,width:'95vw',height:'95vh',justifyContent:'center',alignItems:'center',padding:10,zIndex:1e3,boxSizing:'border-box'},pauseContent:{alignItems:'center',maxWidth:280,width:'90%'},pauseTitle:{fontSize:24,fontWeight:'700',marginBottom:12,textAlign:'center',letterSpacing:-.6,fontFamily:'System'},pauseStatsContainer:{width:'100%',marginBottom:20,padding:16,borderRadius:12,backgroundColor:'rgba(0, 122, 255, 0.08)',borderWidth:.5,borderColor:'rgba(0, 122, 255, 0.2)',backdropFilter:'blur(20px)'},pauseStatsRow:{flexDirection:'row',justifyContent:'space-between',marginBottom:10},pauseStatItem:{alignItems:'center',flex:1},pauseStatLabel:{fontSize:12,fontWeight:'600',opacity:.8,marginBottom:4,letterSpacing:-.08,fontFamily:'System'},pauseStatValue:{fontSize:24,fontWeight:'700',letterSpacing:-.5,fontFamily:'System'},pausePrimaryActions:{width:'100%',gap:12,marginBottom:18},primaryButton:{marginBottom:8,alignSelf:'center'},themeControls:{width:'100%',alignItems:'center',marginBottom:16,padding:14,backgroundColor:'rgba(142, 142, 147, 0.06)',borderRadius:12,borderWidth:.5,borderColor:'rgba(142, 142, 147, 0.15)',backdropFilter:'blur(20px)'},themeButton:{marginBottom:6,alignSelf:'center'},themeInfo:{fontSize:14,fontWeight:'600',opacity:.8,textAlign:'center'},pauseInstructions:{fontSize:12,textAlign:'center',opacity:.6,lineHeight:18},overlay:{position:'absolute',top:0,left:0,right:0,bottom:0,justifyContent:'center',alignItems:'center',padding:B?20:A?60:40,zIndex:1e3},title:{fontSize:B?34:A?56:46,fontWeight:'800',marginBottom:B?20:24,textAlign:'center',letterSpacing:-.8,lineHeight:B?38:A?60:50,fontFamily:'System'},statsContainer:{alignItems:'center',marginBottom:25,padding:20,borderRadius:15,backgroundColor:'rgba(0,0,0,0.1)'},finalScore:{fontSize:28,fontWeight:'bold',marginBottom:8},bestScore:{fontSize:20,fontWeight:'600',marginBottom:15,opacity:.8},themeIndicator:{paddingHorizontal:B?16:20,paddingVertical:B?6:8,borderRadius:B?16:20,borderWidth:1,borderColor:'rgba(255, 255, 255, 0.2)',marginBottom:B?15:20,backgroundColor:'rgba(255, 255, 255, 0.05)',alignItems:'center',justifyContent:'center'},themeIndicatorContent:{flexDirection:'row',alignItems:'center',gap:8},themeIndicatorText:{fontSize:B?14:16,fontWeight:'600',textAlign:'center',opacity:.9},mainStartButton:{alignSelf:'center',marginBottom:B?25:A?45:35},startScreenActions:{width:'100%',alignItems:'center',marginBottom:25},actionButton:{marginBottom:10,alignSelf:'center'},themeCounter:{fontSize:12,fontWeight:'600',opacity:.7,textAlign:'center'},instructionsContainer:{alignItems:'center'},instructions:{fontSize:B?12:A?16:14,textAlign:'center',lineHeight:B?16:A?24:20,opacity:.7,paddingHorizontal:B?10:0}})},118,[1,25,88,119,122,33,123,86,124,125,145,151,226,229,311,312,310,313,146,128,314,148,315,316,147,225,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),n=e(_r(d[2])),s=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,s=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?s:n){if(r.has(e))return r.get(e);r.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(l,t,o):l[t]=e[t]);return l})(e,t)})(_r(d[3])),r=s,o=e(_r(d[4])),l=e(_r(d[5])),i=e(_r(d[6])),u=e(_r(d[7]));var c=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];function f(e,i){var f=e.activeOpacity,p=e.delayPressIn,P=e.delayPressOut,b=e.delayLongPress,v=e.disabled,O=e.focusable,_=e.onLongPress,k=e.onPress,h=e.onPressIn,j=e.onPressOut,w=e.rejectResponderTermination,L=e.style,M=(0,n.default)(e,c),C=(0,s.useRef)(null),R=(0,o.default)(i,C),S=(0,s.useState)('0s'),D=S[0],E=S[1],I=(0,s.useState)(null),T=I[0],W=I[1],N=(0,s.useCallback)((e,t)=>{W(e),E(t?t/1e3+"s":'0s')},[W,E]),x=(0,s.useCallback)(e=>{N(null!=f?f:.2,e)},[f,N]),A=(0,s.useCallback)(e=>{N(null,e)},[N]),G=(0,s.useMemo)(()=>({cancelable:!w,disabled:v,delayLongPress:b,delayPressStart:p,delayPressEnd:P,onLongPress:_,onPress:k,onPressStart(e){var t=null!=e.dispatchConfig?'onResponderGrant'===e.dispatchConfig.registrationName:'keydown'===e.type;x(t?0:150),null!=h&&h(e)},onPressEnd(e){A(250),null!=j&&j(e)}}),[b,p,P,v,_,k,h,j,w,x,A]),q=(0,l.default)(C,G);return r.createElement(u.default,(0,t.default)({},M,q,{accessibilityDisabled:v,focusable:!v&&!1!==O,pointerEvents:v?'box-none':void 0,ref:R,style:[y.root,!v&&y.actionable,L,null!=T&&{opacity:T},{transitionDuration:D}]}))}var y=i.default.create({root:{transitionProperty:'opacity',transitionDuration:'0.15s',userSelect:'none'},actionable:{cursor:'pointer',touchAction:'manipulation'}}),p=r.memo(r.forwardRef(f));p.displayName='TouchableOpacity';_e.default=p},119,[1,18,34,25,106,120,33,88]);
__d(function(g,r,i,a,m,e,d){'use strict';var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(u,f){var c=(0,n.useRef)(null);null==c.current&&(c.current=new t.default(f));var l=c.current;return(0,n.useEffect)(()=>{l.configure(f)},[f,l]),(0,n.useEffect)(()=>()=>{l.reset()},[l]),(0,n.useDebugValue)(f),l.getEventHandlers()};var t=u(r(d[1])),n=r(d[2])},120,[1,121,25]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t='DELAY',s='ERROR',n='LONG_PRESS_DETECTED',o='NOT_RESPONDER',l='RESPONDER_ACTIVE_LONG_PRESS_START',_='RESPONDER_ACTIVE_PRESS_START',E='RESPONDER_INACTIVE_PRESS_START',u='RESPONDER_RELEASE',h='RESPONDER_TERMINATED',c=Object.freeze({NOT_RESPONDER:{DELAY:s,RESPONDER_GRANT:E,RESPONDER_RELEASE:s,RESPONDER_TERMINATED:s,LONG_PRESS_DETECTED:s},RESPONDER_INACTIVE_PRESS_START:{DELAY:_,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:s,RESPONDER_GRANT:s,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:l},ERROR:{DELAY:o,RESPONDER_GRANT:E,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o}}),R=t=>t.getAttribute('role'),T=t=>t.tagName.toLowerCase(),P=t=>t===_||t===l,S=t=>'button'===R(t),D=t=>t===E||t===_||t===l,v=t=>t===h||t===u,p=t=>{var s=t.key,n=t.target,o=' '===s||'Spacebar'===s,l='button'===T(n)||S(n);return'Enter'===s||o&&l};function N(t,s,n){return void 0===s&&(s=0),void 0===n&&(n=0),Math.max(s,null!=t?t:n)}function O(t){var s=t.nativeEvent,n=s.changedTouches,o=s.touches;return null!=o&&o.length>0?o[0]:null!=n&&n.length>0?n[0]:t.nativeEvent}e.default=class{constructor(t){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=o,this._responderElement=null,this.configure(t)}configure(t){this._config=t}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var s=(s,n)=>{s.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=o,this._isPointerTouch='touchstart'===s.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",s);var l=N(this._config.delayPressStart,0,50);!1!==n&&l>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(t,s)},l):this._receiveSignal(t,s);var _=N(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(s)},_+l)},n=t=>{this._receiveSignal(u,t)},l=t=>{var s=this._config.onPress,_=t.target;if(this._touchState!==o&&p(t)){n(t),document.removeEventListener('keyup',l);var E=_.getAttribute('role'),u=T(_),h='link'===E||'a'===u||'button'===u||'input'===u||'select'===u||'textarea'===u,c=this._responderElement===_;null!=s&&!h&&c&&s(t),this._responderElement=null}};return{onStartShouldSetResponder:t=>{var s=this._config.disabled;return s&&S(t.currentTarget)&&t.stopPropagation(),null==s||!s},onKeyDown:t=>{var n=this._config.disabled,_=t.key,E=t.target;if(!n&&p(t)){this._touchState===o&&(s(t,!1),this._responderElement=E,document.addEventListener('keyup',l));var u=' '===_||'Spacebar'===_,h=R(E);u&&('button'===h||'menuitem'===h)&&'button'!==T(E)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>s(t),onResponderMove:t=>{null!=this._config.onPressMove&&this._config.onPressMove(t);var s=O(t);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-s.pageX,o=this._touchActivatePosition.pageY-s.pageY;Math.hypot(n,o)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:t=>n(t),onResponderTerminate:t=>{'selectionchange'===t.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(h,t)},onResponderTerminationRequest:t=>{var s=this._config,n=s.cancelable,o=s.disabled,l=s.onLongPress;return!(!o&&null!=l&&this._isPointerTouch&&'contextmenu'===t.nativeEvent.type)&&(null==n||n)},onClick:t=>{var s=this._config,n=s.disabled,o=s.onPress;n?S(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),this._longPressDispatched||this._selectionTerminated?t.preventDefault():null!=o&&!1===t.altKey&&o(t))},onContextMenu:t=>{var s=this._config,n=s.disabled,o=s.onLongPress;n?S(t.currentTarget)&&t.stopPropagation():null!=o&&this._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}_receiveSignal(t,n){var l=this._touchState,_=null;null!=c[l]&&(_=c[l][t]),this._touchState===o&&t===u||(null==_||_===s?console.error("PressResponder: Invalid signal "+t+" for state "+l+" on responder"):l!==_&&(this._performTransitionSideEffects(l,_,t,n),this._touchState=_))}_performTransitionSideEffects(t,s,o,_){if(v(o)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),D(t)&&o===n){var E=this._config.onLongPress;null!=E&&null==_.nativeEvent.key&&(E(_),this._longPressDispatched=!0)}var h=P(t),c=P(s);if(!h&&c?this._activate(_):h&&!c&&this._deactivate(_),D(t)&&o===u){var R=this._config,T=R.onLongPress;if(null!=R.onPress)null!=T&&t===l||c||h||(this._activate(_),this._deactivate(_))}this._cancelPressDelayTimeout()}_activate(t){var s=this._config,n=s.onPressChange,o=s.onPressStart,l=O(t);this._touchActivatePosition={pageX:l.pageX,pageY:l.pageY},null!=o&&o(t),null!=n&&n(!0)}_deactivate(t){var s=this._config,n=s.onPressChange,o=s.onPressEnd;function l(){null!=o&&o(t),null!=n&&n(!1)}var _=N(this._config.delayPressEnd);_>0?this._pressOutDelayTimeout=setTimeout(()=>{l()},_):l()}_handleLongPress(t){this._touchState!==_&&this._touchState!==l||this._receiveSignal(n,t)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}},121,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var o=e(_r(d[1])),n=e(_r(d[2])),t=h(_r(d[3])),r=e(_r(d[4])),l=h(_r(d[5])),s=e(_r(d[6])),p=e(_r(d[7])),i=e(_r(d[8])),u=e(_r(d[9])),S=e(_r(d[10])),c=e(_r(d[11])),R=e(_r(d[12])),f=_r(d[13]);function h(e,o){if("function"==typeof WeakMap)var n=new WeakMap,t=new WeakMap;return(h=function(e,o){if(!o&&e&&e.__esModule)return e;var r,l,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=o?t:n){if(r.has(e))return r.get(e);r.set(e,s)}for(const o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((l=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(l.get||l.set)?r(s,o,l):s[o]=e[o]);return s})(e,o)}var v=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],b=Object.assign({},l.defaultProps,l.accessibilityProps,l.clickProps,l.focusProps,l.keyboardProps,l.mouseProps,l.touchProps,l.styleProps,{href:!0,lang:!0,pointerEvents:!0}),C=e=>(0,s.default)(e,b),w=t.forwardRef((e,o)=>{var l=e.hrefAttrs,s=e.numberOfLines,c=e.onClick,h=e.onLayout,b=e.onPress,w=e.onMoveShouldSetResponder,x=e.onMoveShouldSetResponderCapture,k=e.onResponderEnd,M=e.onResponderGrant,P=e.onResponderMove,O=e.onResponderReject,_=e.onResponderRelease,L=e.onResponderStart,W=e.onResponderTerminate,j=e.onResponderTerminationRequest,A=e.onScrollShouldSetResponder,T=e.onScrollShouldSetResponderCapture,E=e.onSelectionChangeShouldSetResponder,D=e.onSelectionChangeShouldSetResponderCapture,$=e.onStartShouldSetResponder,q=e.onStartShouldSetResponderCapture,G=e.selectable,H=(0,n.default)(e,v),z=t.useContext(R.default),B=t.useRef(null),N=(0,f.useLocaleContext)().direction;(0,p.default)(B,h),(0,S.default)(B,{onMoveShouldSetResponder:w,onMoveShouldSetResponderCapture:x,onResponderEnd:k,onResponderGrant:M,onResponderMove:P,onResponderReject:O,onResponderRelease:_,onResponderStart:L,onResponderTerminate:W,onResponderTerminationRequest:j,onScrollShouldSetResponder:A,onScrollShouldSetResponderCapture:T,onSelectionChangeShouldSetResponder:E,onSelectionChangeShouldSetResponderCapture:D,onStartShouldSetResponder:$,onStartShouldSetResponderCapture:q});var F=t.useCallback(e=>{null!=c?c(e):null!=b&&(e.stopPropagation(),b(e))},[c,b]),I=z?'span':'div',J=null!=e.lang?(0,f.getLocaleDirection)(e.lang):null,K=e.dir||J,Q=K||N,U=C(H);if(U.dir=K,z||(U.dir=null!=K?K:'auto'),(c||b)&&(U.onClick=F),U.style=[null!=s&&s>1&&{WebkitLineClamp:s},!0===z?y.textHasAncestor$raw:y.text$raw,1===s&&y.textOneLine,null!=s&&s>1&&y.textMultiLine,e.style,!0===G&&y.selectable,!1===G&&y.notSelectable,b&&y.pressable],null!=e.href&&(I='a',null!=l)){var V=l.download,X=l.rel,Y=l.target;null!=V&&(U.download=V),null!=X&&(U.rel=X),'string'==typeof Y&&(U.target='_'!==Y.charAt(0)?'_'+Y:Y)}var Z=(0,u.default)(U),ee=(0,i.default)(B,Z,o);U.ref=ee;var oe=(0,r.default)(I,U,{writingDirection:Q});return z?oe:t.createElement(R.default.Provider,{value:!0},oe)});w.displayName='Text';var x={backgroundColor:'transparent',border:'0 solid black',boxSizing:'border-box',color:'black',display:'inline',font:'14px System',listStyle:'none',margin:0,padding:0,position:'relative',textAlign:'start',textDecoration:'none',whiteSpace:'pre-wrap',wordWrap:'break-word'},y=c.default.create({text$raw:x,textHasAncestor$raw:(0,o.default)((0,o.default)({},x),{},{color:'inherit',font:'inherit',textAlign:'inherit',whiteSpace:'inherit'}),textOneLine:{maxWidth:'100%',overflow:'hidden',textOverflow:'ellipsis',whiteSpace:'nowrap',wordWrap:'normal'},textMultiLine:{display:'-webkit-box',maxWidth:'100%',overflow:'clip',textOverflow:'ellipsis',WebkitBoxOrient:'vertical'},notSelectable:{userSelect:'none'},selectable:{userSelect:'text'},pressable:{cursor:'pointer'}});_e.default=w},122,[1,10,34,25,89,97,98,99,106,108,110,33,117,95]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),o={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},c={},l=s.default;function w(){if(s.default){var t,n,c=window;if(c.visualViewport){var l=c.visualViewport;t=Math.round(l.height*l.scale),n=Math.round(l.width*l.scale)}else{var w=c.document.documentElement;t=w.clientHeight,n=w.clientWidth}o.window={fontScale:1,height:t,scale:c.devicePixelRatio||1,width:n},o.screen={fontScale:1,height:c.screen.height,scale:c.devicePixelRatio||1,width:c.screen.width}}}function h(){w(),Array.isArray(c.change)&&c.change.forEach(t=>t(o))}e.default=class{static get(t){return l&&(l=!1,w()),(0,n.default)(o[t],"No dimension set for key "+t),o[t]}static set(t){t&&(s.default?(0,n.default)(!1,'Dimensions cannot be set in the browser'):(null!=t.screen&&(o.screen=t.screen),null!=t.window&&(o.window=t.window)))}static addEventListener(t,n){return c[t]=c[t]||[],c[t].push(n),{remove:()=>{this.removeEventListener(t,n)}}}static removeEventListener(t,n){Array.isArray(c[t])&&(c[t]=c[t].filter(t=>t!==n))}},s.default&&(window.visualViewport?window.visualViewport.addEventListener('resize',h,!1):window.addEventListener('resize',h,!1))},123,[1,15,30]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=()=>{};function n(){return null}n.setBackgroundColor=t,n.setBarStyle=t,n.setHidden=t,n.setNetworkActivityIndicatorVisible=t,n.setTranslucent=t;e.default=n},124,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Canvas=function(e){return(0,i.jsx)(u.FiberProvider,{children:(0,i.jsx)(s,Object.assign({},e))})},Object.defineProperty(_e,"ReactThreeFiber",{enumerable:!0,get:function(){return r.t}}),Object.defineProperty(_e,"_roots",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(_e,"act",{enumerable:!0,get:function(){return r.x}}),Object.defineProperty(_e,"addAfterEffect",{enumerable:!0,get:function(){return r.k}}),Object.defineProperty(_e,"addEffect",{enumerable:!0,get:function(){return r.j}}),Object.defineProperty(_e,"addTail",{enumerable:!0,get:function(){return r.l}}),Object.defineProperty(_e,"advance",{enumerable:!0,get:function(){return r.n}}),Object.defineProperty(_e,"applyProps",{enumerable:!0,get:function(){return r.s}}),Object.defineProperty(_e,"buildGraph",{enumerable:!0,get:function(){return r.y}}),Object.defineProperty(_e,"context",{enumerable:!0,get:function(){return r.q}}),Object.defineProperty(_e,"createEvents",{enumerable:!0,get:function(){return r.g}}),Object.defineProperty(_e,"createPortal",{enumerable:!0,get:function(){return r.o}}),Object.defineProperty(_e,"createRoot",{enumerable:!0,get:function(){return r.c}}),Object.defineProperty(_e,"dispose",{enumerable:!0,get:function(){return r.w}}),Object.defineProperty(_e,"events",{enumerable:!0,get:function(){return r.f}}),Object.defineProperty(_e,"extend",{enumerable:!0,get:function(){return r.e}}),Object.defineProperty(_e,"flushGlobalEffects",{enumerable:!0,get:function(){return r.h}}),Object.defineProperty(_e,"flushSync",{enumerable:!0,get:function(){return r.p}}),Object.defineProperty(_e,"getRootState",{enumerable:!0,get:function(){return r.v}}),Object.defineProperty(_e,"invalidate",{enumerable:!0,get:function(){return r.m}}),Object.defineProperty(_e,"reconciler",{enumerable:!0,get:function(){return r.r}}),Object.defineProperty(_e,"unmountComponentAtNode",{enumerable:!0,get:function(){return r.d}}),Object.defineProperty(_e,"useFrame",{enumerable:!0,get:function(){return r.D}}),Object.defineProperty(_e,"useGraph",{enumerable:!0,get:function(){return r.F}}),Object.defineProperty(_e,"useInstanceHandle",{enumerable:!0,get:function(){return r.z}}),Object.defineProperty(_e,"useLoader",{enumerable:!0,get:function(){return r.G}}),Object.defineProperty(_e,"useStore",{enumerable:!0,get:function(){return r.A}}),Object.defineProperty(_e,"useThree",{enumerable:!0,get:function(){return r.C}});var t=e(_r(d[1])),r=_r(d[2]),n=l(_r(d[3])),o=l(_r(d[4])),c=e(_r(d[5])),u=_r(d[6]),i=_r(d[7]);_r(d[8]),_r(d[9]),_r(d[10]),_r(d[11]),_r(d[12]);const f=["ref","children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"];function l(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(l=function(e,t){if(!t&&e&&e.__esModule)return e;var o,c,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(c.get||c.set)?o(u,t,c):u[t]=e[t]);return u})(e,t)}function s(e){let{ref:u,children:l,fallback:s,resize:b,style:p,gl:y,events:j=r.f,eventSource:h,eventPrefix:P,shadows:O,linear:v,flat:w,legacy:x,orthographic:_,frameloop:M,dpr:k,performance:E,raycaster:S,camera:z,scene:C,onPointerMissed:R,onCreated:F}=e,G=(0,t.default)(e,f);n.useMemo(()=>(0,r.e)(o),[]);const A=(0,r.u)(),[T,W]=(0,c.default)(Object.assign({scroll:!0,debounce:{scroll:50,resize:0}},b)),D=n.useRef(null),H=n.useRef(null);n.useImperativeHandle(u,()=>D.current);const I=(0,r.a)(R),[q,B]=n.useState(!1),[L,N]=n.useState(!1);if(q)throw q;if(L)throw L;const X=n.useRef(null);(0,r.b)(()=>{const e=D.current;if(W.width>0&&W.height>0&&e){X.current||(X.current=(0,r.c)(e)),(async function(){await X.current.configure({gl:y,scene:C,events:j,shadows:O,linear:v,flat:w,legacy:x,orthographic:_,frameloop:M,dpr:k,performance:E,raycaster:S,camera:z,size:W,onPointerMissed:(...e)=>null==I.current?void 0:I.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(h?(0,r.i)(h)?h.current:h:H.current),P&&e.setEvents({compute:(e,t)=>{const r=e[P+'X'],n=e[P+'Y'];t.pointer.set(r/t.size.width*2-1,-n/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==F||F(e)}}),X.current.render((0,i.jsx)(A,{children:(0,i.jsx)(r.E,{set:N,children:(0,i.jsx)(n.Suspense,{fallback:(0,i.jsx)(r.B,{set:B}),children:null!=l?l:null})})}))})()}}),n.useEffect(()=>{const e=D.current;if(e)return()=>(0,r.d)(e)},[]);const Y=h?'none':'auto';return(0,i.jsx)("div",Object.assign({ref:H,style:Object.assign({position:'relative',width:'100%',height:'100%',overflow:'hidden',pointerEvents:Y},p)},G,{children:(0,i.jsx)("div",{ref:T,style:{width:'100%',height:'100%'},children:(0,i.jsx)("canvas",{ref:D,style:{display:'block'},children:s})})}))}},125,[1,126,127,25,128,144,143,141,130,132,138,23,140]);
__d(function(g,_r,i,a,m,_e,d){m.exports=function(r,e){if(null==r)return{};var n={};for(var t in r)if({}.hasOwnProperty.call(r,t)){if(-1!==e.indexOf(t))continue;n[t]=r[t]}return n},m.exports.__esModule=!0,m.exports.default=m.exports},126,[]);
__d(function(g,_r,_i,_a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.A=J,_e.B=function({set:e}){return j(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null},_e.C=function(e=e=>e,t){return J()(e,t)},_e.D=function(e,t=0){const n=J(),r=n.getState().internal.subscribe,o=w(e);return j(()=>r(o,t,n),[t,r,n]),null},_e.E=void 0,_e.F=function(e){return r.useMemo(()=>S(e),[e])},_e.G=te,_e._=void 0,_e.a=w,_e.b=void 0,_e.c=function(e){const r=Ce.get(e),i=null==r?void 0:r.fiber,s=null==r?void 0:r.store;r&&console.warn('R3F.createRoot should only be called once!');const a='function'==typeof reportError?reportError:console.error,c=s||Z(We,Ne),u=i||we.createContainer(c,o.ConcurrentRoot,null,!1,null,'',a,a,a,null);r||Ce.set(e,{fiber:u,store:c});let f,v,h=!1,b=null;return{async configure(r={}){let o;b=new Promise(e=>o=e);let{gl:i,size:s,scene:a,events:l,onCreated:u,shadows:y=!1,linear:j=!1,flat:w=!1,legacy:P=!1,orthographic:S=!1,frameloop:O="always",dpr:x=[1,2],performance:_,raycaster:k,camera:A,onPointerMissed:T}=r,I=c.getState(),R=I.gl;if(!I.gl){const t={canvas:e,powerPreference:'high-performance',antialias:!0,alpha:!0},r='function'==typeof i?await i(t):i;R=X(r)?r:new n.WebGLRenderer(Object.assign({},t,i)),I.set({gl:R})}let F=I.raycaster;F||I.set({raycaster:F=new n.Raycaster});const L=k||{},{params:z}=L,H=(0,t.default)(L,p);if(M.equ(H,F,Pe)||q(F,Object.assign({},H)),M.equ(z,F.params,Pe)||q(F,{params:Object.assign({},F.params,z)}),!I.camera||I.camera===v&&!M.equ(v,A,Pe)){v=A;const e=null==A?void 0:A.isCamera,t=e?A:S?new n.OrthographicCamera(0,0,0,0,.1,1e3):new n.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,A&&(q(t,A),t.manual||('aspect'in A||'left'in A||'right'in A||'bottom'in A||'top'in A)&&(t.manual=!0,t.updateProjectionMatrix())),I.camera||null!=A&&A.rotation||t.lookAt(0,0,0)),I.set({camera:t}),F.camera=t}if(!I.scene){let e;null!=a&&a.isScene?(e=a,E(e,c,'',{})):(e=new n.Scene,E(e,c,'',{}),a&&q(e,a)),I.set({scene:e})}l&&!I.events.handlers&&I.set({events:l(c)});const D=Me(e,s);if(M.equ(D,I.size,Pe)||I.setSize(D.width,D.height,D.top,D.left),x&&I.viewport.dpr!==C(x)&&I.setDpr(x),I.frameloop!==O&&I.setFrameloop(O),I.onPointerMissed||I.set({onPointerMissed:T}),_&&!M.equ(_,I.performance,Pe)&&I.set(e=>({performance:Object.assign({},e.performance,_)})),!I.xr){var B;const e=(e,t)=>{const n=c.getState();'never'!==n.frameloop&&Ne(e,!0,n,t)},t=()=>{const t=c.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||We(t)},n={connect(){const e=c.getState().gl;e.xr.addEventListener('sessionstart',t),e.xr.addEventListener('sessionend',t)},disconnect(){const e=c.getState().gl;e.xr.removeEventListener('sessionstart',t),e.xr.removeEventListener('sessionend',t)}};'function'==typeof(null==(B=R.xr)?void 0:B.addEventListener)&&n.connect(),I.set({xr:n})}if(R.shadowMap){const e=R.shadowMap.enabled,t=R.shadowMap.type;if(R.shadowMap.enabled=!!y,M.boo(y))R.shadowMap.type=n.PCFSoftShadowMap;else if(M.str(y)){var V;const e={basic:n.BasicShadowMap,percentage:n.PCFShadowMap,soft:n.PCFSoftShadowMap,variance:n.VSMShadowMap};R.shadowMap.type=null!=(V=e[y])?V:n.PCFSoftShadowMap}else M.obj(y)&&Object.assign(R.shadowMap,y);e===R.shadowMap.enabled&&t===R.shadowMap.type||(R.shadowMap.needsUpdate=!0)}return n.ColorManagement.enabled=!P,h||(R.outputColorSpace=j?n.LinearSRGBColorSpace:n.SRGBColorSpace,R.toneMapping=w?n.NoToneMapping:n.ACESFilmicToneMapping),I.legacy!==P&&I.set(()=>({legacy:P})),I.linear!==j&&I.set(()=>({linear:j})),I.flat!==w&&I.set(()=>({flat:w})),!i||M.fun(i)||X(i)||M.equ(i,R,Pe)||q(R,i),f=u,h=!0,o(),this},render(t){return h||b||this.configure(),b.then(()=>{we.updateContainer((0,l.jsx)(Se,{store:c,children:t,onCreated:f,rootElement:e}),u,null,()=>{})}),c},unmount(){Oe(e)}}},_e.d=Oe,_e.e=function(e){if(ae(e)){const t=""+se++;return re[t]=e,t}Object.assign(re,e)},_e.f=function(e){const{handlePointer:t}=$(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(Ge).reduce((e,n)=>Object.assign({},e,{[n]:t(n)}),{}),update:()=>{var t;const{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:n,events:r}=e.getState();if(null==r.disconnect||r.disconnect(),n(e=>({events:Object.assign({},e.events,{connected:t})})),r.handlers)for(const e in r.handlers){const n=r.handlers[e],[o,i]=Ge[e];t.addEventListener(o,n,{passive:i})}},disconnect:()=>{const{set:t,events:n}=e.getState();if(n.connected){if(n.handlers)for(const e in n.handlers){const t=n.handlers[e],[r]=Ge[e];n.connected.removeEventListener(r,t)}t(e=>({events:Object.assign({},e.events,{connected:void 0})}))}}}},_e.g=$,_e.h=Re,_e.l=_e.k=_e.j=_e.i=void 0,_e.m=We,_e.n=Ne,_e.o=function(e,t,n){return(0,l.jsx)(xe,{children:e,container:t,state:n})},_e.p=function(e){return we.flushSync(e)},_e.r=_e.q=void 0,_e.s=q,_e.t=void 0,_e.u=function(){const e=(0,u.useFiber)(),t=(0,u.useContextBridge)();return r.useMemo(()=>({children:n})=>{const o=!!(0,u.traverseFiber)(e,!0,e=>e.type===r.StrictMode)?r.StrictMode:r.Fragment;return(0,l.jsx)(o,{children:(0,l.jsx)(t,{children:n})})},[e,t])},_e.v=P,_e.w=O,_e.x=void 0,_e.y=S,_e.z=function(e){const t=r.useRef(null);return r.useImperativeHandle(t,()=>e.current.__r3f,[e]),t};var t=e(_r(d[1])),n=v(_r(d[2])),r=v(_r(d[3])),o=_r(d[4]),i=_r(d[5]),s=e(_r(d[6])),a=_r(d[7]),c=_r(d[8]),l=_r(d[9]),u=_r(d[10]);const p=["params"],f=["events","size"];function v(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(v=function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?o(s,t,i):s[t]=e[t]);return s})(e,t)}_e.t=Object.freeze({__proto__:null});function h(e){let t=e.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}_e.x=r.act;const b=e=>e&&e.isOrthographicCamera;_e.i=e=>e&&e.hasOwnProperty('current');const y=e=>null!=e&&('string'==typeof e||'number'==typeof e||e.isColor),j=_e.b=((e,t)=>'undefined'!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||'ReactNative'===(null==(t=window.navigator)?void 0:t.product)))()?r.useLayoutEffect:r.useEffect;function w(e){const t=r.useRef(e);return j(()=>{t.current=e},[e]),t}_e.E=(e=>((e=class extends r.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}).getDerivedStateFromError=()=>({error:!0}),e))();function C(e){var t;const n='undefined'!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}function P(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()}const M={obj:e=>e===Object(e)&&!M.arr(e)&&'function'!=typeof e,fun:e=>'function'==typeof e,str:e=>'string'==typeof e,num:e=>'number'==typeof e,boo:e=>'boolean'==typeof e,und:e=>void 0===e,nul:e=>null===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:o=!0}={}){if(typeof e!=typeof t||!!e!=!!t)return!1;if(M.str(e)||M.num(e)||M.boo(e))return e===t;const i=M.obj(e);if(i&&'reference'===r)return e===t;const s=M.arr(e);if(s&&'reference'===n)return e===t;if((s||i)&&e===t)return!0;let a;for(a in e)if(!(a in t))return!1;if(i&&'shallow'===n&&'shallow'===r){for(a in o?t:e)if(!M.equ(e[a],t[a],{strict:o,objects:'reference'}))return!1}else for(a in o?t:e)if(e[a]!==t[a])return!1;if(M.und(a)){if(s&&0===e.length&&0===t.length)return!0;if(i&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function S(e){const t={nodes:{},materials:{},meshes:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material),e.isMesh&&!t.meshes[e.name]&&(t.meshes[e.name]=e)}),t}function O(e){'Scene'!==e.type&&(null==e.dispose||e.dispose());for(const t in e){const n=e[t];'Scene'!==(null==n?void 0:n.type)&&(null==n||null==n.dispose||n.dispose())}}const x=['children','key','ref'];function _(e){const t={};for(const n in e)x.includes(n)||(t[n]=e[n]);return t}function E(e,t,n,r){const o=e;let i=null==o?void 0:o.__r3f;return i||(i={root:t,type:n,parent:null,children:[],props:_(r),object:o,eventCount:0,handlers:{},isHidden:!1},o&&(o.__r3f=i)),i}function k(e,t){let n=e[t];if(!t.includes('-'))return{root:e,key:t,target:n};n=e;for(const o of t.split('-')){var r;t=o,e=n,n=null==(r=n)?void 0:r[t]}return{root:e,key:t,target:n}}const A=/-\d+$/;function T(e,t){if(M.str(t.props.attach)){if(A.test(t.props.attach)){const n=t.props.attach.replace(A,''),{root:r,key:o}=k(e.object,n);Array.isArray(r[o])||(r[o]=[])}const{root:n,key:r}=k(e.object,t.props.attach);t.previousAttach=n[r],n[r]=t.object}else M.fun(t.props.attach)&&(t.previousAttach=t.props.attach(e.object,t.object))}function I(e,t){if(M.str(t.props.attach)){const{root:n,key:r}=k(e.object,t.props.attach),o=t.previousAttach;void 0===o?delete n[r]:n[r]=o}else null==t.previousAttach||t.previousAttach(e.object,t.object);delete t.previousAttach}const R=[...x,'args','dispose','attach','object','onUpdate','dispose'],F=new Map;function L(e){let t=F.get(e.constructor);try{t||(t=new e.constructor,F.set(e.constructor,t))}catch(e){}return t}function z(e,t){const n={};for(const r in t)if(!R.includes(r)&&!M.equ(t[r],e.props[r])){n[r]=t[r];for(const e in t)e.startsWith(`${r}-`)&&(n[e]=t[e])}for(const r in e.props){if(R.includes(r)||t.hasOwnProperty(r))continue;const{root:o,key:i}=k(e.object,r);if(o.constructor&&0===o.constructor.length){const e=L(o);M.und(e)||(n[i]=e[i])}else n[i]=0}return n}const H=['map','emissiveMap','sheenColorMap','specularColorMap','envMap'],D=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function q(e,t){var r;const o=e.__r3f,i=o&&h(o).getState(),s=null==o?void 0:o.eventCount;for(const r in t){let s=t[r];if(R.includes(r))continue;if(o&&D.test(r)){'function'==typeof s?o.handlers[r]=s:delete o.handlers[r],o.eventCount=Object.keys(o.handlers).length;continue}if(void 0===s)continue;let{root:c,key:l,target:u}=k(e,r);if(u instanceof n.Layers&&s instanceof n.Layers)u.mask=s.mask;else if(u instanceof n.Color&&y(s))u.set(s);else if(null!==u&&'object'==typeof u&&'function'==typeof u.set&&'function'==typeof u.copy&&null!=s&&s.constructor&&u.constructor===s.constructor)u.copy(s);else if(null!==u&&'object'==typeof u&&'function'==typeof u.set&&Array.isArray(s))'function'==typeof u.fromArray?u.fromArray(s):u.set(...s);else if(null!==u&&'object'==typeof u&&'function'==typeof u.set&&'number'==typeof s)'function'==typeof u.setScalar?u.setScalar(s):u.set(s);else{var a;c[l]=s,i&&!i.linear&&H.includes(l)&&null!=(a=c[l])&&a.isTexture&&c[l].format===n.RGBAFormat&&c[l].type===n.UnsignedByteType&&(c[l].colorSpace=n.SRGBColorSpace)}}if(null!=o&&o.parent&&null!=i&&i.internal&&null!=(r=o.object)&&r.isObject3D&&s!==o.eventCount){const e=o.object,t=i.internal.interaction.indexOf(e);t>-1&&i.internal.interaction.splice(t,1),o.eventCount&&null!==e.raycast&&i.internal.interaction.push(e)}return o&&void 0===o.props.attach&&(o.object.isBufferGeometry?o.props.attach='geometry':o.object.isMaterial&&(o.props.attach='material')),o&&B(o),e}function B(e){var t;if(!e.parent)return;null==e.props.onUpdate||e.props.onUpdate(e.object);const n=null==(t=e.root)||null==t.getState?void 0:t.getState();n&&0===n.internal.frames&&n.invalidate()}function V(e,t){e.manual||(b(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix())}const U=e=>null==e?void 0:e.isObject3D;function W(e){return(e.eventObject||e.object).uuid+'/'+e.index+e.instanceId}function N(e,t,n,r){const o=n.get(t);o&&(n.delete(t),0===n.size&&(e.delete(r),o.target.releasePointerCapture(r)))}function G(e,t){const{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{e.eventObject!==t&&e.object!==t||n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{N(n.capturedMap,t,e,r)})}function $(e){function t(t){const{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],o=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+o*o))}function r(e){return e.filter(e=>['Move','Over','Enter','Out','Leave'].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers['onPointer'+t]}))}function o(t,n){const r=e.getState(),o=new Set,i=[],s=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<s.length;e++){const t=P(s[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let a=s.flatMap(function(e){const n=P(e);return n&&n.events.enabled&&null!==n.raycaster.camera?(void 0===n.raycaster.camera&&(null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)),n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]):[];var r}).sort((e,t)=>{const n=P(e.object),r=P(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{const t=W(e);return!o.has(t)&&(o.add(t),!0)});r.events.filter&&(a=r.events.filter(a,r));for(const e of a){let t=e.object;for(;t;){var c;null!=(c=t.__r3f)&&c.eventCount&&i.push(Object.assign({},e,{eventObject:t})),t=t.parent}}if('pointerId'in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())o.has(W(e.intersection))||i.push(e.intersection);return i}function i(e,t,r,o){if(e.length){const i={stopped:!1};for(const a of e){let c=P(a.object);if(c||a.object.traverseAncestors(e=>{const t=P(e);if(t)return c=t,!1}),c){const{raycaster:l,pointer:u,camera:p,internal:f}=c,v=new n.Vector3(u.x,u.y,0).unproject(p),h=e=>{var t,n;return null!=(t=null==(n=f.capturedMap.get(e))?void 0:n.has(a.eventObject))&&t},b=e=>{const n={intersection:a,target:t.target};f.capturedMap.has(e)?f.capturedMap.get(e).set(a.eventObject,n):f.capturedMap.set(e,new Map([[a.eventObject,n]])),t.target.setPointerCapture(e)},y=e=>{const t=f.capturedMap.get(e);t&&N(f.capturedMap,a.eventObject,t,e)};let j={};for(let e in t){let n=t[e];'function'!=typeof n&&(j[e]=n)}let w=Object.assign({},a,j,{pointer:u,intersections:e,stopped:i.stopped,delta:r,unprojectedPoint:v,ray:l.ray,camera:p,stopPropagation(){const n='pointerId'in t&&f.capturedMap.get(t.pointerId);if((!n||n.has(a.eventObject))&&(w.stopped=i.stopped=!0,f.hovered.size&&Array.from(f.hovered.values()).find(e=>e.eventObject===a.eventObject))){s([...e.slice(0,e.indexOf(a)),a])}},target:{hasPointerCapture:h,setPointerCapture:b,releasePointerCapture:y},currentTarget:{hasPointerCapture:h,setPointerCapture:b,releasePointerCapture:y},nativeEvent:t});if(o(w),!0===i.stopped)break}}}return e}function s(t){const{internal:n}=e.getState();for(const e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){const r=e.eventObject.__r3f;if(n.hovered.delete(W(e)),null!=r&&r.eventCount){const n=r.handlers,o=Object.assign({},e,{intersections:t});null==n.onPointerOut||n.onPointerOut(o),null==n.onPointerLeave||n.onPointerLeave(o)}}}function a(e,t){for(let n=0;n<t.length;n++){const r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(n){switch(n){case'onPointerLeave':case'onPointerCancel':return()=>s([]);case'onLostPointerCapture':return t=>{const{internal:n}=e.getState();'pointerId'in t&&n.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),s([]))})}}return function(c){const{onPointerMissed:l,internal:u}=e.getState();u.lastEvent.current=c;const p='onPointerMove'===n,f='onClick'===n||'onContextMenu'===n||'onDoubleClick'===n,v=o(c,p?r:void 0),h=f?t(c):0;'onPointerDown'===n&&(u.initialClick=[c.offsetX,c.offsetY],u.initialHits=v.map(e=>e.eventObject)),f&&!v.length&&h<=2&&(a(c,u.interaction),l&&l(c)),p&&s(v),i(v,c,h,function(e){const t=e.eventObject,r=t.__r3f;if(null==r||!r.eventCount)return;const o=r.handlers;if(p){if(o.onPointerOver||o.onPointerEnter||o.onPointerOut||o.onPointerLeave){const t=W(e),n=u.hovered.get(t);n?n.stopped&&e.stopPropagation():(u.hovered.set(t,e),null==o.onPointerOver||o.onPointerOver(e),null==o.onPointerEnter||o.onPointerEnter(e))}null==o.onPointerMove||o.onPointerMove(e)}else{const r=o[n];r?f&&!u.initialHits.includes(t)||(a(c,u.interaction.filter(e=>!u.initialHits.includes(e))),r(e)):f&&u.initialHits.includes(t)&&a(c,u.interaction.filter(e=>!u.initialHits.includes(e)))}})}}}}const X=e=>!(null==e||!e.render),Y=_e.q=r.createContext(null),Z=(e,t)=>{const o=(0,i.createWithEqualityFn)((o,i)=>{const s=new n.Vector3,a=new n.Vector3,c=new n.Vector3;function l(e=i().camera,t=a,n=i().size){const{width:r,height:o,top:l,left:u}=n,p=r/o;t.isVector3?c.copy(t):c.set(...t);const f=e.getWorldPosition(s).distanceTo(c);if(b(e))return{width:r/e.zoom,height:o/e.zoom,top:l,left:u,factor:1,distance:f,aspect:p};{const t=e.fov*Math.PI/180,n=2*Math.tan(t/2)*f,i=n*(r/o);return{width:i,height:n,top:l,left:u,factor:r/i,distance:f,aspect:p}}}let u;const p=e=>o(t=>({performance:Object.assign({},t.performance,{current:e})})),f=new n.Vector2,v={set:o,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(t=1)=>e(i(),t),advance:(e,n)=>t(e,n,i()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new n.Clock,pointer:f,mouse:f,frameloop:'always',onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const e=i();u&&clearTimeout(u),e.performance.current!==e.performance.min&&p(e.performance.min),u=setTimeout(()=>p(i().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:l},setEvents:e=>o(t=>Object.assign({},t,{events:Object.assign({},t.events,e)})),setSize:(e,t,n=0,r=0)=>{const s=i().camera,c={width:e,height:t,top:n,left:r};o(e=>({size:c,viewport:Object.assign({},e.viewport,l(s,a,c))}))},setDpr:e=>o(t=>{const n=C(e);return{viewport:Object.assign({},t.viewport,{dpr:n,initialDpr:t.viewport.initialDpr||n})}}),setFrameloop:(e="always")=>{const t=i().clock;t.stop(),t.elapsedTime=0,'never'!==e&&(t.start(),t.elapsedTime=0),o(()=>({frameloop:e}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:r.createRef(),active:!1,frames:0,priority:0,subscribe:(e,t,n)=>{const r=i().internal;return r.priority=r.priority+(t>0?1:0),r.subscribers.push({ref:e,priority:t,store:n}),r.subscribers=r.subscribers.sort((e,t)=>e.priority-t.priority),()=>{const n=i().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return v}),s=o.getState();let a=s.size,c=s.viewport.dpr,l=s.camera;return o.subscribe(()=>{const{camera:e,size:t,viewport:n,gl:r,set:i}=o.getState();if(t.width!==a.width||t.height!==a.height||n.dpr!==c){a=t,c=n.dpr,V(e,t),n.dpr>0&&r.setPixelRatio(n.dpr);const o='undefined'!=typeof HTMLCanvasElement&&r.domElement instanceof HTMLCanvasElement;r.setSize(t.width,t.height,o)}e!==l&&(l=e,i(t=>({viewport:Object.assign({},t.viewport,t.viewport.getCurrentViewport(e))})))}),o.subscribe(t=>e(t)),o};function J(){const e=r.useContext(Y);if(!e)throw new Error('R3F: Hooks can only be used within the Canvas component!');return e}const K=new WeakMap,Q=e=>{var t;return'function'==typeof e&&(null==e||null==(t=e.prototype)?void 0:t.constructor)===e};function ee(e,t){return function(n,...r){let o;return Q(n)?(o=K.get(n),o||(o=new n,K.set(n,o))):o=n,e&&e(o),Promise.all(r.map(e=>new Promise((n,r)=>o.load(e,e=>{U(null==e?void 0:e.scene)&&Object.assign(e,S(e.scene)),n(e)},t,t=>r(new Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function te(e,t,n,r){const o=Array.isArray(t)?t:[t],i=(0,c.suspend)(ee(n,r),[e,...o],{equal:M.equ});return Array.isArray(t)?i:i[0]}function ne(e){const t=(0,s.default)(e);return t.injectIntoDevTools({bundleType:0,rendererPackageName:'@react-three/fiber',version:r.version}),t}te.preload=function(e,t,n){const r=Array.isArray(t)?t:[t];return(0,c.preload)(ee(n),[e,...r])},te.clear=function(e,t){const n=Array.isArray(t)?t:[t];return(0,c.clear)([e,...n])};const re={},oe=/^three(?=[A-Z])/,ie=e=>`${e[0].toUpperCase()}${e.slice(1)}`;let se=0;const ae=e=>'function'==typeof e;function ce(e,t){const n=ie(e),r=re[n];if('primitive'!==e&&!r)throw new Error(`R3F: ${n} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if('primitive'===e&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(void 0!==t.args&&!Array.isArray(t.args))throw new Error('R3F: The args prop must be an array!')}function le(e){var t;e.isHidden&&(e.props.attach&&null!=(t=e.parent)&&t.object?T(e.parent,e):U(e.object)&&!1!==e.props.visible&&(e.object.visible=!0),e.isHidden=!1,B(e))}function ue(e,t,n){const r=t.root.getState();if(e.parent||e.object===r.scene){if(!t.object){var o,i;const e=re[ie(t.type)];t.object=null!=(o=t.props.object)?o:new e(...null!=(i=t.props.args)?i:[]),t.object.__r3f=t}if(q(t.object,t.props),t.props.attach)T(e,t);else if(U(t.object)&&U(e.object)){const r=e.object.children.indexOf(null==n?void 0:n.object);if(n&&-1!==r){const n=e.object.children.indexOf(t.object);if(-1!==n){e.object.children.splice(n,1);const o=n<r?r-1:r;e.object.children.splice(o,0,t.object)}else t.object.parent=e.object,e.object.children.splice(r,0,t.object),t.object.dispatchEvent({type:'added'}),e.object.dispatchEvent({type:'childadded',child:t.object})}else e.object.add(t.object)}for(const e of t.children)ue(t,e);B(t)}}function pe(e,t){t&&(t.parent=e,e.children.push(t),ue(e,t))}function fe(e,t,n){if(!t||!n)return;t.parent=e;const r=e.children.indexOf(n);-1!==r?e.children.splice(r,0,t):e.children.push(t),ue(e,t,n)}function de(e){if('function'==typeof e.dispose){const t=()=>{try{e.dispose()}catch{}};'undefined'!=typeof IS_REACT_ACT_ENVIRONMENT?t():(0,a.unstable_scheduleCallback)(a.unstable_IdlePriority,t)}}function ve(e,t,n){if(!t)return;t.parent=null;const r=e.children.indexOf(t);-1!==r&&e.children.splice(r,1),t.props.attach?I(e,t):U(t.object)&&U(e.object)&&(e.object.remove(t.object),G(h(t),t.object));const o=null!==t.props.dispose&&!1!==n;for(let e=t.children.length-1;e>=0;e--){ve(t,t.children[e],o)}t.children.length=0,delete t.object.__r3f,o&&'primitive'!==t.type&&'Scene'!==t.object.type&&de(t.object),void 0===n&&B(t)}function he(e,t){for(const n of[e,e.alternate])if(null!==n)if('function'==typeof n.ref){null==n.refCleanup||n.refCleanup();const e=n.ref(t);'function'==typeof e&&(n.refCleanup=e)}else n.ref&&(n.ref.current=t)}const be=[];function me(){for(const[e]of be){const t=e.parent;if(t){e.props.attach?I(t,e):U(e.object)&&U(t.object)&&t.object.remove(e.object);for(const t of e.children)t.props.attach?I(e,t):U(t.object)&&U(e.object)&&e.object.remove(t.object)}e.isHidden&&le(e),e.object.__r3f&&delete e.object.__r3f,'primitive'!==e.type&&de(e.object)}for(const[n,r,o]of be){n.props=r;const i=n.parent;if(i){var e,t;const r=re[ie(n.type)];n.object=null!=(e=n.props.object)?e:new r(...null!=(t=n.props.args)?t:[]),n.object.__r3f=n,he(o,n.object),q(n.object,n.props),n.props.attach?T(i,n):U(n.object)&&U(i.object)&&i.object.add(n.object);for(const e of n.children)e.props.attach?T(n,e):U(e.object)&&U(n.object)&&n.object.add(e.object);B(n)}}be.length=0}const ge=()=>{},ye={};let je=0;const we=_e.r=ne({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:function(e,t,n){var r;return ce(e=ie(e)in re?e:e.replace(oe,''),t),'primitive'===e&&null!=(r=t.object)&&r.__r3f&&delete t.object.__r3f,E(t.object,n,e,t)},removeChild:ve,appendChild:pe,appendInitialChild:pe,insertBefore:fe,appendChildToContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&pe(n,t)},removeChildFromContainer(e,t){const n=e.getState().scene.__r3f;t&&n&&ve(n,t)},insertInContainerBefore(e,t,n){const r=e.getState().scene.__r3f;t&&n&&r&&fe(r,t,n)},getRootHostContext:()=>ye,getChildHostContext:()=>ye,commitUpdate(e,t,n,r,o){var i,s,a;ce(t,r);let c=!1;if(('primitive'===e.type&&n.object!==r.object||(null==(i=r.args)?void 0:i.length)!==(null==(s=n.args)?void 0:s.length)||null!=(a=r.args)&&a.some((e,t)=>{var r;return e!==(null==(r=n.args)?void 0:r[t])}))&&(c=!0),c)be.push([e,Object.assign({},r),o]);else{const t=z(e,r);Object.keys(t).length&&(Object.assign(e.props,t),q(e.object,t))}(null===o.sibling||!(4&o.flags))&&me()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:e=>null==e?void 0:e.object,prepareForCommit:()=>null,preparePortalMount:e=>E(e.getState().scene,e,'',{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:function(e){var t;e.isHidden||(e.props.attach&&null!=(t=e.parent)&&t.object?I(e.parent,e):U(e.object)&&(e.object.visible=!1),e.isHidden=!0,B(e))},unhideInstance:le,createTextInstance:ge,hideTextInstance:ge,unhideTextInstance:ge,scheduleTimeout:'function'==typeof setTimeout?setTimeout:void 0,cancelTimeout:'function'==typeof clearTimeout?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:r.createContext(null),setCurrentUpdatePriority(e){je=e},getCurrentUpdatePriority:()=>je,resolveUpdatePriority(){var e;if(0!==je)return je;switch('undefined'!=typeof window&&(null==(e=window.event)?void 0:e.type)){case'click':case'contextmenu':case'dblclick':case'pointercancel':case'pointerdown':case'pointerup':return o.DiscreteEventPriority;case'pointermove':case'pointerout':case'pointerover':case'pointerenter':case'pointerleave':case'wheel':return o.ContinuousEventPriority;default:return o.DefaultEventPriority}},resetFormInstance(){}}),Ce=_e._=new Map,Pe={objects:'shallow',strict:!1};function Me(e,t){if(!t&&'undefined'!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){const{width:t,height:n,top:r,left:o}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:o}}return!t&&'undefined'!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:Object.assign({width:0,height:0,top:0,left:0},t)}function Se({store:e,children:t,onCreated:n,rootElement:r}){return j(()=>{const t=e.getState();t.set(e=>({internal:Object.assign({},e.internal,{active:!0})})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),(0,l.jsx)(Y.Provider,{value:e,children:t})}function Oe(e,t){const n=Ce.get(e),r=null==n?void 0:n.fiber;if(r){const o=null==n?void 0:n.store.getState();o&&(o.internal.active=!1),we.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var n,r,i,s;null==o.events.disconnect||o.events.disconnect(),null==(n=o.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(i=o.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(s=o.gl)&&s.xr&&o.xr.disconnect(),O(o.scene),Ce.delete(e),t&&t(e)}catch(e){}},500)})}}function xe({state:e={},children:o,container:s}){const{events:a,size:c}=e,u=(0,t.default)(e,f),p=J(),[v]=r.useState(()=>new n.Raycaster),[h]=r.useState(()=>new n.Vector2),b=w((e,t)=>{let r;if(t.camera&&c){const o=t.camera;r=e.viewport.getCurrentViewport(o,new n.Vector3,c),o!==e.camera&&V(o,c)}return Object.assign({},e,t,{scene:s,raycaster:v,pointer:h,mouse:h,previousRoot:p,events:Object.assign({},e.events,t.events,a),size:Object.assign({},e.size,c),viewport:Object.assign({},e.viewport,r),setEvents:e=>t.set(t=>Object.assign({},t,{events:Object.assign({},t.events,e)}))})}),y=r.useMemo(()=>{const e=(0,i.createWithEqualityFn)((e,t)=>Object.assign({},u,{set:e,get:t})),t=t=>e.setState(e=>b.current(t,e));return t(p.getState()),p.subscribe(t),e},[p,s]);return(0,l.jsx)(l.Fragment,{children:we.createPortal((0,l.jsx)(Y.Provider,{value:y,children:o}),y,null)})}function Ee(e,t){const n={callback:e};return t.add(n),()=>{t.delete(n)}}const ke=new Set,Ae=new Set,Te=new Set;_e.j=e=>Ee(e,ke);_e.k=e=>Ee(e,Ae);function Ie(e,t){if(e.size)for(const{callback:n}of e.values())n(t)}function Re(e,t){switch(e){case'before':return Ie(ke,t);case'after':return Ie(Ae,t);case'tail':return Ie(Te,t)}}let Fe,Le;function ze(e,t,n){let r=t.clock.getDelta();'never'===t.frameloop&&'number'==typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),Fe=t.internal.subscribers;for(let e=0;e<Fe.length;e++)Le=Fe[e],Le.ref.current(Le.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),'always'===t.frameloop?1:t.internal.frames}_e.l=e=>Ee(e,Te);let He,De,qe,Be=!1,Ve=!1;function Ue(e){De=requestAnimationFrame(Ue),Be=!0,He=0,Re('before',e),Ve=!0;for(const n of Ce.values()){var t;qe=n.store.getState(),!qe.internal.active||!('always'===qe.frameloop||qe.internal.frames>0)||null!=(t=qe.gl.xr)&&t.isPresenting||(He+=ze(e,qe))}if(Ve=!1,Re('after',e),0===He)return Re('tail',e),Be=!1,cancelAnimationFrame(De)}function We(e,t=1){var n;if(!e)return Ce.forEach(e=>We(e.store.getState(),t));null!=(n=e.gl.xr)&&n.isPresenting||!e.internal.active||'never'===e.frameloop||(e.internal.frames=t>1?Math.min(60,e.internal.frames+t):Ve?2:1,Be||(Be=!0,requestAnimationFrame(Ue)))}function Ne(e,t=!0,n,r){if(t&&Re('before',e),n)ze(e,n,r);else for(const t of Ce.values())ze(e,t.store.getState());t&&Re('after',e)}const Ge={onClick:['click',!1],onContextMenu:['contextmenu',!1],onDoubleClick:['dblclick',!1],onWheel:['wheel',!0],onPointerDown:['pointerdown',!0],onPointerUp:['pointerup',!0],onPointerLeave:['pointerleave',!0],onPointerMove:['pointermove',!0],onPointerCancel:['pointercancel',!0],onLostPointerCapture:['lostpointercapture',!0]}},127,[1,126,128,25,130,132,138,23,140,141,143]);
__d(function(e,t,n,r,i,a,o){Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"ACESFilmicToneMapping",{enumerable:!0,get:function(){return s.ACESFilmicToneMapping}}),Object.defineProperty(a,"AddEquation",{enumerable:!0,get:function(){return s.AddEquation}}),Object.defineProperty(a,"AddOperation",{enumerable:!0,get:function(){return s.AddOperation}}),Object.defineProperty(a,"AdditiveAnimationBlendMode",{enumerable:!0,get:function(){return s.AdditiveAnimationBlendMode}}),Object.defineProperty(a,"AdditiveBlending",{enumerable:!0,get:function(){return s.AdditiveBlending}}),Object.defineProperty(a,"AgXToneMapping",{enumerable:!0,get:function(){return s.AgXToneMapping}}),Object.defineProperty(a,"AlphaFormat",{enumerable:!0,get:function(){return s.AlphaFormat}}),Object.defineProperty(a,"AlwaysCompare",{enumerable:!0,get:function(){return s.AlwaysCompare}}),Object.defineProperty(a,"AlwaysDepth",{enumerable:!0,get:function(){return s.AlwaysDepth}}),Object.defineProperty(a,"AlwaysStencilFunc",{enumerable:!0,get:function(){return s.AlwaysStencilFunc}}),Object.defineProperty(a,"AmbientLight",{enumerable:!0,get:function(){return s.AmbientLight}}),Object.defineProperty(a,"AnimationAction",{enumerable:!0,get:function(){return s.AnimationAction}}),Object.defineProperty(a,"AnimationClip",{enumerable:!0,get:function(){return s.AnimationClip}}),Object.defineProperty(a,"AnimationLoader",{enumerable:!0,get:function(){return s.AnimationLoader}}),Object.defineProperty(a,"AnimationMixer",{enumerable:!0,get:function(){return s.AnimationMixer}}),Object.defineProperty(a,"AnimationObjectGroup",{enumerable:!0,get:function(){return s.AnimationObjectGroup}}),Object.defineProperty(a,"AnimationUtils",{enumerable:!0,get:function(){return s.AnimationUtils}}),Object.defineProperty(a,"ArcCurve",{enumerable:!0,get:function(){return s.ArcCurve}}),Object.defineProperty(a,"ArrayCamera",{enumerable:!0,get:function(){return s.ArrayCamera}}),Object.defineProperty(a,"ArrowHelper",{enumerable:!0,get:function(){return s.ArrowHelper}}),Object.defineProperty(a,"AttachedBindMode",{enumerable:!0,get:function(){return s.AttachedBindMode}}),Object.defineProperty(a,"Audio",{enumerable:!0,get:function(){return s.Audio}}),Object.defineProperty(a,"AudioAnalyser",{enumerable:!0,get:function(){return s.AudioAnalyser}}),Object.defineProperty(a,"AudioContext",{enumerable:!0,get:function(){return s.AudioContext}}),Object.defineProperty(a,"AudioListener",{enumerable:!0,get:function(){return s.AudioListener}}),Object.defineProperty(a,"AudioLoader",{enumerable:!0,get:function(){return s.AudioLoader}}),Object.defineProperty(a,"AxesHelper",{enumerable:!0,get:function(){return s.AxesHelper}}),Object.defineProperty(a,"BackSide",{enumerable:!0,get:function(){return s.BackSide}}),Object.defineProperty(a,"BasicDepthPacking",{enumerable:!0,get:function(){return s.BasicDepthPacking}}),Object.defineProperty(a,"BasicShadowMap",{enumerable:!0,get:function(){return s.BasicShadowMap}}),Object.defineProperty(a,"BatchedMesh",{enumerable:!0,get:function(){return s.BatchedMesh}}),Object.defineProperty(a,"Bone",{enumerable:!0,get:function(){return s.Bone}}),Object.defineProperty(a,"BooleanKeyframeTrack",{enumerable:!0,get:function(){return s.BooleanKeyframeTrack}}),Object.defineProperty(a,"Box2",{enumerable:!0,get:function(){return s.Box2}}),Object.defineProperty(a,"Box3",{enumerable:!0,get:function(){return s.Box3}}),Object.defineProperty(a,"Box3Helper",{enumerable:!0,get:function(){return s.Box3Helper}}),Object.defineProperty(a,"BoxGeometry",{enumerable:!0,get:function(){return s.BoxGeometry}}),Object.defineProperty(a,"BoxHelper",{enumerable:!0,get:function(){return s.BoxHelper}}),Object.defineProperty(a,"BufferAttribute",{enumerable:!0,get:function(){return s.BufferAttribute}}),Object.defineProperty(a,"BufferGeometry",{enumerable:!0,get:function(){return s.BufferGeometry}}),Object.defineProperty(a,"BufferGeometryLoader",{enumerable:!0,get:function(){return s.BufferGeometryLoader}}),Object.defineProperty(a,"ByteType",{enumerable:!0,get:function(){return s.ByteType}}),Object.defineProperty(a,"Cache",{enumerable:!0,get:function(){return s.Cache}}),Object.defineProperty(a,"Camera",{enumerable:!0,get:function(){return s.Camera}}),Object.defineProperty(a,"CameraHelper",{enumerable:!0,get:function(){return s.CameraHelper}}),Object.defineProperty(a,"CanvasTexture",{enumerable:!0,get:function(){return s.CanvasTexture}}),Object.defineProperty(a,"CapsuleGeometry",{enumerable:!0,get:function(){return s.CapsuleGeometry}}),Object.defineProperty(a,"CatmullRomCurve3",{enumerable:!0,get:function(){return s.CatmullRomCurve3}}),Object.defineProperty(a,"CineonToneMapping",{enumerable:!0,get:function(){return s.CineonToneMapping}}),Object.defineProperty(a,"CircleGeometry",{enumerable:!0,get:function(){return s.CircleGeometry}}),Object.defineProperty(a,"ClampToEdgeWrapping",{enumerable:!0,get:function(){return s.ClampToEdgeWrapping}}),Object.defineProperty(a,"Clock",{enumerable:!0,get:function(){return s.Clock}}),Object.defineProperty(a,"Color",{enumerable:!0,get:function(){return s.Color}}),Object.defineProperty(a,"ColorKeyframeTrack",{enumerable:!0,get:function(){return s.ColorKeyframeTrack}}),Object.defineProperty(a,"ColorManagement",{enumerable:!0,get:function(){return s.ColorManagement}}),Object.defineProperty(a,"CompressedArrayTexture",{enumerable:!0,get:function(){return s.CompressedArrayTexture}}),Object.defineProperty(a,"CompressedCubeTexture",{enumerable:!0,get:function(){return s.CompressedCubeTexture}}),Object.defineProperty(a,"CompressedTexture",{enumerable:!0,get:function(){return s.CompressedTexture}}),Object.defineProperty(a,"CompressedTextureLoader",{enumerable:!0,get:function(){return s.CompressedTextureLoader}}),Object.defineProperty(a,"ConeGeometry",{enumerable:!0,get:function(){return s.ConeGeometry}}),Object.defineProperty(a,"ConstantAlphaFactor",{enumerable:!0,get:function(){return s.ConstantAlphaFactor}}),Object.defineProperty(a,"ConstantColorFactor",{enumerable:!0,get:function(){return s.ConstantColorFactor}}),Object.defineProperty(a,"Controls",{enumerable:!0,get:function(){return s.Controls}}),Object.defineProperty(a,"CubeCamera",{enumerable:!0,get:function(){return s.CubeCamera}}),Object.defineProperty(a,"CubeReflectionMapping",{enumerable:!0,get:function(){return s.CubeReflectionMapping}}),Object.defineProperty(a,"CubeRefractionMapping",{enumerable:!0,get:function(){return s.CubeRefractionMapping}}),Object.defineProperty(a,"CubeTexture",{enumerable:!0,get:function(){return s.CubeTexture}}),Object.defineProperty(a,"CubeTextureLoader",{enumerable:!0,get:function(){return s.CubeTextureLoader}}),Object.defineProperty(a,"CubeUVReflectionMapping",{enumerable:!0,get:function(){return s.CubeUVReflectionMapping}}),Object.defineProperty(a,"CubicBezierCurve",{enumerable:!0,get:function(){return s.CubicBezierCurve}}),Object.defineProperty(a,"CubicBezierCurve3",{enumerable:!0,get:function(){return s.CubicBezierCurve3}}),Object.defineProperty(a,"CubicInterpolant",{enumerable:!0,get:function(){return s.CubicInterpolant}}),Object.defineProperty(a,"CullFaceBack",{enumerable:!0,get:function(){return s.CullFaceBack}}),Object.defineProperty(a,"CullFaceFront",{enumerable:!0,get:function(){return s.CullFaceFront}}),Object.defineProperty(a,"CullFaceFrontBack",{enumerable:!0,get:function(){return s.CullFaceFrontBack}}),Object.defineProperty(a,"CullFaceNone",{enumerable:!0,get:function(){return s.CullFaceNone}}),Object.defineProperty(a,"Curve",{enumerable:!0,get:function(){return s.Curve}}),Object.defineProperty(a,"CurvePath",{enumerable:!0,get:function(){return s.CurvePath}}),Object.defineProperty(a,"CustomBlending",{enumerable:!0,get:function(){return s.CustomBlending}}),Object.defineProperty(a,"CustomToneMapping",{enumerable:!0,get:function(){return s.CustomToneMapping}}),Object.defineProperty(a,"CylinderGeometry",{enumerable:!0,get:function(){return s.CylinderGeometry}}),Object.defineProperty(a,"Cylindrical",{enumerable:!0,get:function(){return s.Cylindrical}}),Object.defineProperty(a,"Data3DTexture",{enumerable:!0,get:function(){return s.Data3DTexture}}),Object.defineProperty(a,"DataArrayTexture",{enumerable:!0,get:function(){return s.DataArrayTexture}}),Object.defineProperty(a,"DataTexture",{enumerable:!0,get:function(){return s.DataTexture}}),Object.defineProperty(a,"DataTextureLoader",{enumerable:!0,get:function(){return s.DataTextureLoader}}),Object.defineProperty(a,"DataUtils",{enumerable:!0,get:function(){return s.DataUtils}}),Object.defineProperty(a,"DecrementStencilOp",{enumerable:!0,get:function(){return s.DecrementStencilOp}}),Object.defineProperty(a,"DecrementWrapStencilOp",{enumerable:!0,get:function(){return s.DecrementWrapStencilOp}}),Object.defineProperty(a,"DefaultLoadingManager",{enumerable:!0,get:function(){return s.DefaultLoadingManager}}),Object.defineProperty(a,"DepthFormat",{enumerable:!0,get:function(){return s.DepthFormat}}),Object.defineProperty(a,"DepthStencilFormat",{enumerable:!0,get:function(){return s.DepthStencilFormat}}),Object.defineProperty(a,"DepthTexture",{enumerable:!0,get:function(){return s.DepthTexture}}),Object.defineProperty(a,"DetachedBindMode",{enumerable:!0,get:function(){return s.DetachedBindMode}}),Object.defineProperty(a,"DirectionalLight",{enumerable:!0,get:function(){return s.DirectionalLight}}),Object.defineProperty(a,"DirectionalLightHelper",{enumerable:!0,get:function(){return s.DirectionalLightHelper}}),Object.defineProperty(a,"DiscreteInterpolant",{enumerable:!0,get:function(){return s.DiscreteInterpolant}}),Object.defineProperty(a,"DodecahedronGeometry",{enumerable:!0,get:function(){return s.DodecahedronGeometry}}),Object.defineProperty(a,"DoubleSide",{enumerable:!0,get:function(){return s.DoubleSide}}),Object.defineProperty(a,"DstAlphaFactor",{enumerable:!0,get:function(){return s.DstAlphaFactor}}),Object.defineProperty(a,"DstColorFactor",{enumerable:!0,get:function(){return s.DstColorFactor}}),Object.defineProperty(a,"DynamicCopyUsage",{enumerable:!0,get:function(){return s.DynamicCopyUsage}}),Object.defineProperty(a,"DynamicDrawUsage",{enumerable:!0,get:function(){return s.DynamicDrawUsage}}),Object.defineProperty(a,"DynamicReadUsage",{enumerable:!0,get:function(){return s.DynamicReadUsage}}),Object.defineProperty(a,"EdgesGeometry",{enumerable:!0,get:function(){return s.EdgesGeometry}}),Object.defineProperty(a,"EllipseCurve",{enumerable:!0,get:function(){return s.EllipseCurve}}),Object.defineProperty(a,"EqualCompare",{enumerable:!0,get:function(){return s.EqualCompare}}),Object.defineProperty(a,"EqualDepth",{enumerable:!0,get:function(){return s.EqualDepth}}),Object.defineProperty(a,"EqualStencilFunc",{enumerable:!0,get:function(){return s.EqualStencilFunc}}),Object.defineProperty(a,"EquirectangularReflectionMapping",{enumerable:!0,get:function(){return s.EquirectangularReflectionMapping}}),Object.defineProperty(a,"EquirectangularRefractionMapping",{enumerable:!0,get:function(){return s.EquirectangularRefractionMapping}}),Object.defineProperty(a,"Euler",{enumerable:!0,get:function(){return s.Euler}}),Object.defineProperty(a,"EventDispatcher",{enumerable:!0,get:function(){return s.EventDispatcher}}),Object.defineProperty(a,"ExtrudeGeometry",{enumerable:!0,get:function(){return s.ExtrudeGeometry}}),Object.defineProperty(a,"FileLoader",{enumerable:!0,get:function(){return s.FileLoader}}),Object.defineProperty(a,"Float16BufferAttribute",{enumerable:!0,get:function(){return s.Float16BufferAttribute}}),Object.defineProperty(a,"Float32BufferAttribute",{enumerable:!0,get:function(){return s.Float32BufferAttribute}}),Object.defineProperty(a,"FloatType",{enumerable:!0,get:function(){return s.FloatType}}),Object.defineProperty(a,"Fog",{enumerable:!0,get:function(){return s.Fog}}),Object.defineProperty(a,"FogExp2",{enumerable:!0,get:function(){return s.FogExp2}}),Object.defineProperty(a,"FramebufferTexture",{enumerable:!0,get:function(){return s.FramebufferTexture}}),Object.defineProperty(a,"FrontSide",{enumerable:!0,get:function(){return s.FrontSide}}),Object.defineProperty(a,"Frustum",{enumerable:!0,get:function(){return s.Frustum}}),Object.defineProperty(a,"FrustumArray",{enumerable:!0,get:function(){return s.FrustumArray}}),Object.defineProperty(a,"GLBufferAttribute",{enumerable:!0,get:function(){return s.GLBufferAttribute}}),Object.defineProperty(a,"GLSL1",{enumerable:!0,get:function(){return s.GLSL1}}),Object.defineProperty(a,"GLSL3",{enumerable:!0,get:function(){return s.GLSL3}}),Object.defineProperty(a,"GreaterCompare",{enumerable:!0,get:function(){return s.GreaterCompare}}),Object.defineProperty(a,"GreaterDepth",{enumerable:!0,get:function(){return s.GreaterDepth}}),Object.defineProperty(a,"GreaterEqualCompare",{enumerable:!0,get:function(){return s.GreaterEqualCompare}}),Object.defineProperty(a,"GreaterEqualDepth",{enumerable:!0,get:function(){return s.GreaterEqualDepth}}),Object.defineProperty(a,"GreaterEqualStencilFunc",{enumerable:!0,get:function(){return s.GreaterEqualStencilFunc}}),Object.defineProperty(a,"GreaterStencilFunc",{enumerable:!0,get:function(){return s.GreaterStencilFunc}}),Object.defineProperty(a,"GridHelper",{enumerable:!0,get:function(){return s.GridHelper}}),Object.defineProperty(a,"Group",{enumerable:!0,get:function(){return s.Group}}),Object.defineProperty(a,"HalfFloatType",{enumerable:!0,get:function(){return s.HalfFloatType}}),Object.defineProperty(a,"HemisphereLight",{enumerable:!0,get:function(){return s.HemisphereLight}}),Object.defineProperty(a,"HemisphereLightHelper",{enumerable:!0,get:function(){return s.HemisphereLightHelper}}),Object.defineProperty(a,"IcosahedronGeometry",{enumerable:!0,get:function(){return s.IcosahedronGeometry}}),Object.defineProperty(a,"ImageBitmapLoader",{enumerable:!0,get:function(){return s.ImageBitmapLoader}}),Object.defineProperty(a,"ImageLoader",{enumerable:!0,get:function(){return s.ImageLoader}}),Object.defineProperty(a,"ImageUtils",{enumerable:!0,get:function(){return s.ImageUtils}}),Object.defineProperty(a,"IncrementStencilOp",{enumerable:!0,get:function(){return s.IncrementStencilOp}}),Object.defineProperty(a,"IncrementWrapStencilOp",{enumerable:!0,get:function(){return s.IncrementWrapStencilOp}}),Object.defineProperty(a,"InstancedBufferAttribute",{enumerable:!0,get:function(){return s.InstancedBufferAttribute}}),Object.defineProperty(a,"InstancedBufferGeometry",{enumerable:!0,get:function(){return s.InstancedBufferGeometry}}),Object.defineProperty(a,"InstancedInterleavedBuffer",{enumerable:!0,get:function(){return s.InstancedInterleavedBuffer}}),Object.defineProperty(a,"InstancedMesh",{enumerable:!0,get:function(){return s.InstancedMesh}}),Object.defineProperty(a,"Int16BufferAttribute",{enumerable:!0,get:function(){return s.Int16BufferAttribute}}),Object.defineProperty(a,"Int32BufferAttribute",{enumerable:!0,get:function(){return s.Int32BufferAttribute}}),Object.defineProperty(a,"Int8BufferAttribute",{enumerable:!0,get:function(){return s.Int8BufferAttribute}}),Object.defineProperty(a,"IntType",{enumerable:!0,get:function(){return s.IntType}}),Object.defineProperty(a,"InterleavedBuffer",{enumerable:!0,get:function(){return s.InterleavedBuffer}}),Object.defineProperty(a,"InterleavedBufferAttribute",{enumerable:!0,get:function(){return s.InterleavedBufferAttribute}}),Object.defineProperty(a,"Interpolant",{enumerable:!0,get:function(){return s.Interpolant}}),Object.defineProperty(a,"InterpolateDiscrete",{enumerable:!0,get:function(){return s.InterpolateDiscrete}}),Object.defineProperty(a,"InterpolateLinear",{enumerable:!0,get:function(){return s.InterpolateLinear}}),Object.defineProperty(a,"InterpolateSmooth",{enumerable:!0,get:function(){return s.InterpolateSmooth}}),Object.defineProperty(a,"InterpolationSamplingMode",{enumerable:!0,get:function(){return s.InterpolationSamplingMode}}),Object.defineProperty(a,"InterpolationSamplingType",{enumerable:!0,get:function(){return s.InterpolationSamplingType}}),Object.defineProperty(a,"InvertStencilOp",{enumerable:!0,get:function(){return s.InvertStencilOp}}),Object.defineProperty(a,"KeepStencilOp",{enumerable:!0,get:function(){return s.KeepStencilOp}}),Object.defineProperty(a,"KeyframeTrack",{enumerable:!0,get:function(){return s.KeyframeTrack}}),Object.defineProperty(a,"LOD",{enumerable:!0,get:function(){return s.LOD}}),Object.defineProperty(a,"LatheGeometry",{enumerable:!0,get:function(){return s.LatheGeometry}}),Object.defineProperty(a,"Layers",{enumerable:!0,get:function(){return s.Layers}}),Object.defineProperty(a,"LessCompare",{enumerable:!0,get:function(){return s.LessCompare}}),Object.defineProperty(a,"LessDepth",{enumerable:!0,get:function(){return s.LessDepth}}),Object.defineProperty(a,"LessEqualCompare",{enumerable:!0,get:function(){return s.LessEqualCompare}}),Object.defineProperty(a,"LessEqualDepth",{enumerable:!0,get:function(){return s.LessEqualDepth}}),Object.defineProperty(a,"LessEqualStencilFunc",{enumerable:!0,get:function(){return s.LessEqualStencilFunc}}),Object.defineProperty(a,"LessStencilFunc",{enumerable:!0,get:function(){return s.LessStencilFunc}}),Object.defineProperty(a,"Light",{enumerable:!0,get:function(){return s.Light}}),Object.defineProperty(a,"LightProbe",{enumerable:!0,get:function(){return s.LightProbe}}),Object.defineProperty(a,"Line",{enumerable:!0,get:function(){return s.Line}}),Object.defineProperty(a,"Line3",{enumerable:!0,get:function(){return s.Line3}}),Object.defineProperty(a,"LineBasicMaterial",{enumerable:!0,get:function(){return s.LineBasicMaterial}}),Object.defineProperty(a,"LineCurve",{enumerable:!0,get:function(){return s.LineCurve}}),Object.defineProperty(a,"LineCurve3",{enumerable:!0,get:function(){return s.LineCurve3}}),Object.defineProperty(a,"LineDashedMaterial",{enumerable:!0,get:function(){return s.LineDashedMaterial}}),Object.defineProperty(a,"LineLoop",{enumerable:!0,get:function(){return s.LineLoop}}),Object.defineProperty(a,"LineSegments",{enumerable:!0,get:function(){return s.LineSegments}}),Object.defineProperty(a,"LinearFilter",{enumerable:!0,get:function(){return s.LinearFilter}}),Object.defineProperty(a,"LinearInterpolant",{enumerable:!0,get:function(){return s.LinearInterpolant}}),Object.defineProperty(a,"LinearMipMapLinearFilter",{enumerable:!0,get:function(){return s.LinearMipMapLinearFilter}}),Object.defineProperty(a,"LinearMipMapNearestFilter",{enumerable:!0,get:function(){return s.LinearMipMapNearestFilter}}),Object.defineProperty(a,"LinearMipmapLinearFilter",{enumerable:!0,get:function(){return s.LinearMipmapLinearFilter}}),Object.defineProperty(a,"LinearMipmapNearestFilter",{enumerable:!0,get:function(){return s.LinearMipmapNearestFilter}}),Object.defineProperty(a,"LinearSRGBColorSpace",{enumerable:!0,get:function(){return s.LinearSRGBColorSpace}}),Object.defineProperty(a,"LinearToneMapping",{enumerable:!0,get:function(){return s.LinearToneMapping}}),Object.defineProperty(a,"LinearTransfer",{enumerable:!0,get:function(){return s.LinearTransfer}}),Object.defineProperty(a,"Loader",{enumerable:!0,get:function(){return s.Loader}}),Object.defineProperty(a,"LoaderUtils",{enumerable:!0,get:function(){return s.LoaderUtils}}),Object.defineProperty(a,"LoadingManager",{enumerable:!0,get:function(){return s.LoadingManager}}),Object.defineProperty(a,"LoopOnce",{enumerable:!0,get:function(){return s.LoopOnce}}),Object.defineProperty(a,"LoopPingPong",{enumerable:!0,get:function(){return s.LoopPingPong}}),Object.defineProperty(a,"LoopRepeat",{enumerable:!0,get:function(){return s.LoopRepeat}}),Object.defineProperty(a,"MOUSE",{enumerable:!0,get:function(){return s.MOUSE}}),Object.defineProperty(a,"Material",{enumerable:!0,get:function(){return s.Material}}),Object.defineProperty(a,"MaterialLoader",{enumerable:!0,get:function(){return s.MaterialLoader}}),Object.defineProperty(a,"MathUtils",{enumerable:!0,get:function(){return s.MathUtils}}),Object.defineProperty(a,"Matrix2",{enumerable:!0,get:function(){return s.Matrix2}}),Object.defineProperty(a,"Matrix3",{enumerable:!0,get:function(){return s.Matrix3}}),Object.defineProperty(a,"Matrix4",{enumerable:!0,get:function(){return s.Matrix4}}),Object.defineProperty(a,"MaxEquation",{enumerable:!0,get:function(){return s.MaxEquation}}),Object.defineProperty(a,"Mesh",{enumerable:!0,get:function(){return s.Mesh}}),Object.defineProperty(a,"MeshBasicMaterial",{enumerable:!0,get:function(){return s.MeshBasicMaterial}}),Object.defineProperty(a,"MeshDepthMaterial",{enumerable:!0,get:function(){return s.MeshDepthMaterial}}),Object.defineProperty(a,"MeshDistanceMaterial",{enumerable:!0,get:function(){return s.MeshDistanceMaterial}}),Object.defineProperty(a,"MeshLambertMaterial",{enumerable:!0,get:function(){return s.MeshLambertMaterial}}),Object.defineProperty(a,"MeshMatcapMaterial",{enumerable:!0,get:function(){return s.MeshMatcapMaterial}}),Object.defineProperty(a,"MeshNormalMaterial",{enumerable:!0,get:function(){return s.MeshNormalMaterial}}),Object.defineProperty(a,"MeshPhongMaterial",{enumerable:!0,get:function(){return s.MeshPhongMaterial}}),Object.defineProperty(a,"MeshPhysicalMaterial",{enumerable:!0,get:function(){return s.MeshPhysicalMaterial}}),Object.defineProperty(a,"MeshStandardMaterial",{enumerable:!0,get:function(){return s.MeshStandardMaterial}}),Object.defineProperty(a,"MeshToonMaterial",{enumerable:!0,get:function(){return s.MeshToonMaterial}}),Object.defineProperty(a,"MinEquation",{enumerable:!0,get:function(){return s.MinEquation}}),Object.defineProperty(a,"MirroredRepeatWrapping",{enumerable:!0,get:function(){return s.MirroredRepeatWrapping}}),Object.defineProperty(a,"MixOperation",{enumerable:!0,get:function(){return s.MixOperation}}),Object.defineProperty(a,"MultiplyBlending",{enumerable:!0,get:function(){return s.MultiplyBlending}}),Object.defineProperty(a,"MultiplyOperation",{enumerable:!0,get:function(){return s.MultiplyOperation}}),Object.defineProperty(a,"NearestFilter",{enumerable:!0,get:function(){return s.NearestFilter}}),Object.defineProperty(a,"NearestMipMapLinearFilter",{enumerable:!0,get:function(){return s.NearestMipMapLinearFilter}}),Object.defineProperty(a,"NearestMipMapNearestFilter",{enumerable:!0,get:function(){return s.NearestMipMapNearestFilter}}),Object.defineProperty(a,"NearestMipmapLinearFilter",{enumerable:!0,get:function(){return s.NearestMipmapLinearFilter}}),Object.defineProperty(a,"NearestMipmapNearestFilter",{enumerable:!0,get:function(){return s.NearestMipmapNearestFilter}}),Object.defineProperty(a,"NeutralToneMapping",{enumerable:!0,get:function(){return s.NeutralToneMapping}}),Object.defineProperty(a,"NeverCompare",{enumerable:!0,get:function(){return s.NeverCompare}}),Object.defineProperty(a,"NeverDepth",{enumerable:!0,get:function(){return s.NeverDepth}}),Object.defineProperty(a,"NeverStencilFunc",{enumerable:!0,get:function(){return s.NeverStencilFunc}}),Object.defineProperty(a,"NoBlending",{enumerable:!0,get:function(){return s.NoBlending}}),Object.defineProperty(a,"NoColorSpace",{enumerable:!0,get:function(){return s.NoColorSpace}}),Object.defineProperty(a,"NoToneMapping",{enumerable:!0,get:function(){return s.NoToneMapping}}),Object.defineProperty(a,"NormalAnimationBlendMode",{enumerable:!0,get:function(){return s.NormalAnimationBlendMode}}),Object.defineProperty(a,"NormalBlending",{enumerable:!0,get:function(){return s.NormalBlending}}),Object.defineProperty(a,"NotEqualCompare",{enumerable:!0,get:function(){return s.NotEqualCompare}}),Object.defineProperty(a,"NotEqualDepth",{enumerable:!0,get:function(){return s.NotEqualDepth}}),Object.defineProperty(a,"NotEqualStencilFunc",{enumerable:!0,get:function(){return s.NotEqualStencilFunc}}),Object.defineProperty(a,"NumberKeyframeTrack",{enumerable:!0,get:function(){return s.NumberKeyframeTrack}}),Object.defineProperty(a,"Object3D",{enumerable:!0,get:function(){return s.Object3D}}),Object.defineProperty(a,"ObjectLoader",{enumerable:!0,get:function(){return s.ObjectLoader}}),Object.defineProperty(a,"ObjectSpaceNormalMap",{enumerable:!0,get:function(){return s.ObjectSpaceNormalMap}}),Object.defineProperty(a,"OctahedronGeometry",{enumerable:!0,get:function(){return s.OctahedronGeometry}}),Object.defineProperty(a,"OneFactor",{enumerable:!0,get:function(){return s.OneFactor}}),Object.defineProperty(a,"OneMinusConstantAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusConstantAlphaFactor}}),Object.defineProperty(a,"OneMinusConstantColorFactor",{enumerable:!0,get:function(){return s.OneMinusConstantColorFactor}}),Object.defineProperty(a,"OneMinusDstAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusDstAlphaFactor}}),Object.defineProperty(a,"OneMinusDstColorFactor",{enumerable:!0,get:function(){return s.OneMinusDstColorFactor}}),Object.defineProperty(a,"OneMinusSrcAlphaFactor",{enumerable:!0,get:function(){return s.OneMinusSrcAlphaFactor}}),Object.defineProperty(a,"OneMinusSrcColorFactor",{enumerable:!0,get:function(){return s.OneMinusSrcColorFactor}}),Object.defineProperty(a,"OrthographicCamera",{enumerable:!0,get:function(){return s.OrthographicCamera}}),Object.defineProperty(a,"PCFShadowMap",{enumerable:!0,get:function(){return s.PCFShadowMap}}),Object.defineProperty(a,"PCFSoftShadowMap",{enumerable:!0,get:function(){return s.PCFSoftShadowMap}}),a.PMREMGenerator=void 0,Object.defineProperty(a,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(a,"PerspectiveCamera",{enumerable:!0,get:function(){return s.PerspectiveCamera}}),Object.defineProperty(a,"Plane",{enumerable:!0,get:function(){return s.Plane}}),Object.defineProperty(a,"PlaneGeometry",{enumerable:!0,get:function(){return s.PlaneGeometry}}),Object.defineProperty(a,"PlaneHelper",{enumerable:!0,get:function(){return s.PlaneHelper}}),Object.defineProperty(a,"PointLight",{enumerable:!0,get:function(){return s.PointLight}}),Object.defineProperty(a,"PointLightHelper",{enumerable:!0,get:function(){return s.PointLightHelper}}),Object.defineProperty(a,"Points",{enumerable:!0,get:function(){return s.Points}}),Object.defineProperty(a,"PointsMaterial",{enumerable:!0,get:function(){return s.PointsMaterial}}),Object.defineProperty(a,"PolarGridHelper",{enumerable:!0,get:function(){return s.PolarGridHelper}}),Object.defineProperty(a,"PolyhedronGeometry",{enumerable:!0,get:function(){return s.PolyhedronGeometry}}),Object.defineProperty(a,"PositionalAudio",{enumerable:!0,get:function(){return s.PositionalAudio}}),Object.defineProperty(a,"PropertyBinding",{enumerable:!0,get:function(){return s.PropertyBinding}}),Object.defineProperty(a,"PropertyMixer",{enumerable:!0,get:function(){return s.PropertyMixer}}),Object.defineProperty(a,"QuadraticBezierCurve",{enumerable:!0,get:function(){return s.QuadraticBezierCurve}}),Object.defineProperty(a,"QuadraticBezierCurve3",{enumerable:!0,get:function(){return s.QuadraticBezierCurve3}}),Object.defineProperty(a,"Quaternion",{enumerable:!0,get:function(){return s.Quaternion}}),Object.defineProperty(a,"QuaternionKeyframeTrack",{enumerable:!0,get:function(){return s.QuaternionKeyframeTrack}}),Object.defineProperty(a,"QuaternionLinearInterpolant",{enumerable:!0,get:function(){return s.QuaternionLinearInterpolant}}),Object.defineProperty(a,"RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return s.RED_GREEN_RGTC2_Format}}),Object.defineProperty(a,"RED_RGTC1_Format",{enumerable:!0,get:function(){return s.RED_RGTC1_Format}}),Object.defineProperty(a,"REVISION",{enumerable:!0,get:function(){return s.REVISION}}),Object.defineProperty(a,"RGBADepthPacking",{enumerable:!0,get:function(){return s.RGBADepthPacking}}),Object.defineProperty(a,"RGBAFormat",{enumerable:!0,get:function(){return s.RGBAFormat}}),Object.defineProperty(a,"RGBAIntegerFormat",{enumerable:!0,get:function(){return s.RGBAIntegerFormat}}),Object.defineProperty(a,"RGBA_ASTC_10x10_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x10_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_10x8_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_10x8_Format}}),Object.defineProperty(a,"RGBA_ASTC_12x10_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_12x10_Format}}),Object.defineProperty(a,"RGBA_ASTC_12x12_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_12x12_Format}}),Object.defineProperty(a,"RGBA_ASTC_4x4_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_4x4_Format}}),Object.defineProperty(a,"RGBA_ASTC_5x4_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_5x4_Format}}),Object.defineProperty(a,"RGBA_ASTC_5x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_5x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_6x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_6x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_6x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_6x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x5_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x5_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x6_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x6_Format}}),Object.defineProperty(a,"RGBA_ASTC_8x8_Format",{enumerable:!0,get:function(){return s.RGBA_ASTC_8x8_Format}}),Object.defineProperty(a,"RGBA_BPTC_Format",{enumerable:!0,get:function(){return s.RGBA_BPTC_Format}}),Object.defineProperty(a,"RGBA_ETC2_EAC_Format",{enumerable:!0,get:function(){return s.RGBA_ETC2_EAC_Format}}),Object.defineProperty(a,"RGBA_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return s.RGBA_PVRTC_2BPPV1_Format}}),Object.defineProperty(a,"RGBA_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return s.RGBA_PVRTC_4BPPV1_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT1_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT1_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT3_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT3_Format}}),Object.defineProperty(a,"RGBA_S3TC_DXT5_Format",{enumerable:!0,get:function(){return s.RGBA_S3TC_DXT5_Format}}),Object.defineProperty(a,"RGBDepthPacking",{enumerable:!0,get:function(){return s.RGBDepthPacking}}),Object.defineProperty(a,"RGBFormat",{enumerable:!0,get:function(){return s.RGBFormat}}),Object.defineProperty(a,"RGBIntegerFormat",{enumerable:!0,get:function(){return s.RGBIntegerFormat}}),Object.defineProperty(a,"RGB_BPTC_SIGNED_Format",{enumerable:!0,get:function(){return s.RGB_BPTC_SIGNED_Format}}),Object.defineProperty(a,"RGB_BPTC_UNSIGNED_Format",{enumerable:!0,get:function(){return s.RGB_BPTC_UNSIGNED_Format}}),Object.defineProperty(a,"RGB_ETC1_Format",{enumerable:!0,get:function(){return s.RGB_ETC1_Format}}),Object.defineProperty(a,"RGB_ETC2_Format",{enumerable:!0,get:function(){return s.RGB_ETC2_Format}}),Object.defineProperty(a,"RGB_PVRTC_2BPPV1_Format",{enumerable:!0,get:function(){return s.RGB_PVRTC_2BPPV1_Format}}),Object.defineProperty(a,"RGB_PVRTC_4BPPV1_Format",{enumerable:!0,get:function(){return s.RGB_PVRTC_4BPPV1_Format}}),Object.defineProperty(a,"RGB_S3TC_DXT1_Format",{enumerable:!0,get:function(){return s.RGB_S3TC_DXT1_Format}}),Object.defineProperty(a,"RGDepthPacking",{enumerable:!0,get:function(){return s.RGDepthPacking}}),Object.defineProperty(a,"RGFormat",{enumerable:!0,get:function(){return s.RGFormat}}),Object.defineProperty(a,"RGIntegerFormat",{enumerable:!0,get:function(){return s.RGIntegerFormat}}),Object.defineProperty(a,"RawShaderMaterial",{enumerable:!0,get:function(){return s.RawShaderMaterial}}),Object.defineProperty(a,"Ray",{enumerable:!0,get:function(){return s.Ray}}),Object.defineProperty(a,"Raycaster",{enumerable:!0,get:function(){return s.Raycaster}}),Object.defineProperty(a,"RectAreaLight",{enumerable:!0,get:function(){return s.RectAreaLight}}),Object.defineProperty(a,"RedFormat",{enumerable:!0,get:function(){return s.RedFormat}}),Object.defineProperty(a,"RedIntegerFormat",{enumerable:!0,get:function(){return s.RedIntegerFormat}}),Object.defineProperty(a,"ReinhardToneMapping",{enumerable:!0,get:function(){return s.ReinhardToneMapping}}),Object.defineProperty(a,"RenderTarget",{enumerable:!0,get:function(){return s.RenderTarget}}),Object.defineProperty(a,"RenderTarget3D",{enumerable:!0,get:function(){return s.RenderTarget3D}}),Object.defineProperty(a,"RepeatWrapping",{enumerable:!0,get:function(){return s.RepeatWrapping}}),Object.defineProperty(a,"ReplaceStencilOp",{enumerable:!0,get:function(){return s.ReplaceStencilOp}}),Object.defineProperty(a,"ReverseSubtractEquation",{enumerable:!0,get:function(){return s.ReverseSubtractEquation}}),Object.defineProperty(a,"RingGeometry",{enumerable:!0,get:function(){return s.RingGeometry}}),Object.defineProperty(a,"SIGNED_RED_GREEN_RGTC2_Format",{enumerable:!0,get:function(){return s.SIGNED_RED_GREEN_RGTC2_Format}}),Object.defineProperty(a,"SIGNED_RED_RGTC1_Format",{enumerable:!0,get:function(){return s.SIGNED_RED_RGTC1_Format}}),Object.defineProperty(a,"SRGBColorSpace",{enumerable:!0,get:function(){return s.SRGBColorSpace}}),Object.defineProperty(a,"SRGBTransfer",{enumerable:!0,get:function(){return s.SRGBTransfer}}),Object.defineProperty(a,"Scene",{enumerable:!0,get:function(){return s.Scene}}),a.ShaderLib=a.ShaderChunk=void 0,Object.defineProperty(a,"ShaderMaterial",{enumerable:!0,get:function(){return s.ShaderMaterial}}),Object.defineProperty(a,"ShadowMaterial",{enumerable:!0,get:function(){return s.ShadowMaterial}}),Object.defineProperty(a,"Shape",{enumerable:!0,get:function(){return s.Shape}}),Object.defineProperty(a,"ShapeGeometry",{enumerable:!0,get:function(){return s.ShapeGeometry}}),Object.defineProperty(a,"ShapePath",{enumerable:!0,get:function(){return s.ShapePath}}),Object.defineProperty(a,"ShapeUtils",{enumerable:!0,get:function(){return s.ShapeUtils}}),Object.defineProperty(a,"ShortType",{enumerable:!0,get:function(){return s.ShortType}}),Object.defineProperty(a,"Skeleton",{enumerable:!0,get:function(){return s.Skeleton}}),Object.defineProperty(a,"SkeletonHelper",{enumerable:!0,get:function(){return s.SkeletonHelper}}),Object.defineProperty(a,"SkinnedMesh",{enumerable:!0,get:function(){return s.SkinnedMesh}}),Object.defineProperty(a,"Source",{enumerable:!0,get:function(){return s.Source}}),Object.defineProperty(a,"Sphere",{enumerable:!0,get:function(){return s.Sphere}}),Object.defineProperty(a,"SphereGeometry",{enumerable:!0,get:function(){return s.SphereGeometry}}),Object.defineProperty(a,"Spherical",{enumerable:!0,get:function(){return s.Spherical}}),Object.defineProperty(a,"SphericalHarmonics3",{enumerable:!0,get:function(){return s.SphericalHarmonics3}}),Object.defineProperty(a,"SplineCurve",{enumerable:!0,get:function(){return s.SplineCurve}}),Object.defineProperty(a,"SpotLight",{enumerable:!0,get:function(){return s.SpotLight}}),Object.defineProperty(a,"SpotLightHelper",{enumerable:!0,get:function(){return s.SpotLightHelper}}),Object.defineProperty(a,"Sprite",{enumerable:!0,get:function(){return s.Sprite}}),Object.defineProperty(a,"SpriteMaterial",{enumerable:!0,get:function(){return s.SpriteMaterial}}),Object.defineProperty(a,"SrcAlphaFactor",{enumerable:!0,get:function(){return s.SrcAlphaFactor}}),Object.defineProperty(a,"SrcAlphaSaturateFactor",{enumerable:!0,get:function(){return s.SrcAlphaSaturateFactor}}),Object.defineProperty(a,"SrcColorFactor",{enumerable:!0,get:function(){return s.SrcColorFactor}}),Object.defineProperty(a,"StaticCopyUsage",{enumerable:!0,get:function(){return s.StaticCopyUsage}}),Object.defineProperty(a,"StaticDrawUsage",{enumerable:!0,get:function(){return s.StaticDrawUsage}}),Object.defineProperty(a,"StaticReadUsage",{enumerable:!0,get:function(){return s.StaticReadUsage}}),Object.defineProperty(a,"StereoCamera",{enumerable:!0,get:function(){return s.StereoCamera}}),Object.defineProperty(a,"StreamCopyUsage",{enumerable:!0,get:function(){return s.StreamCopyUsage}}),Object.defineProperty(a,"StreamDrawUsage",{enumerable:!0,get:function(){return s.StreamDrawUsage}}),Object.defineProperty(a,"StreamReadUsage",{enumerable:!0,get:function(){return s.StreamReadUsage}}),Object.defineProperty(a,"StringKeyframeTrack",{enumerable:!0,get:function(){return s.StringKeyframeTrack}}),Object.defineProperty(a,"SubtractEquation",{enumerable:!0,get:function(){return s.SubtractEquation}}),Object.defineProperty(a,"SubtractiveBlending",{enumerable:!0,get:function(){return s.SubtractiveBlending}}),Object.defineProperty(a,"TOUCH",{enumerable:!0,get:function(){return s.TOUCH}}),Object.defineProperty(a,"TangentSpaceNormalMap",{enumerable:!0,get:function(){return s.TangentSpaceNormalMap}}),Object.defineProperty(a,"TetrahedronGeometry",{enumerable:!0,get:function(){return s.TetrahedronGeometry}}),Object.defineProperty(a,"Texture",{enumerable:!0,get:function(){return s.Texture}}),Object.defineProperty(a,"TextureLoader",{enumerable:!0,get:function(){return s.TextureLoader}}),Object.defineProperty(a,"TextureUtils",{enumerable:!0,get:function(){return s.TextureUtils}}),Object.defineProperty(a,"TimestampQuery",{enumerable:!0,get:function(){return s.TimestampQuery}}),Object.defineProperty(a,"TorusGeometry",{enumerable:!0,get:function(){return s.TorusGeometry}}),Object.defineProperty(a,"TorusKnotGeometry",{enumerable:!0,get:function(){return s.TorusKnotGeometry}}),Object.defineProperty(a,"Triangle",{enumerable:!0,get:function(){return s.Triangle}}),Object.defineProperty(a,"TriangleFanDrawMode",{enumerable:!0,get:function(){return s.TriangleFanDrawMode}}),Object.defineProperty(a,"TriangleStripDrawMode",{enumerable:!0,get:function(){return s.TriangleStripDrawMode}}),Object.defineProperty(a,"TrianglesDrawMode",{enumerable:!0,get:function(){return s.TrianglesDrawMode}}),Object.defineProperty(a,"TubeGeometry",{enumerable:!0,get:function(){return s.TubeGeometry}}),Object.defineProperty(a,"UVMapping",{enumerable:!0,get:function(){return s.UVMapping}}),Object.defineProperty(a,"Uint16BufferAttribute",{enumerable:!0,get:function(){return s.Uint16BufferAttribute}}),Object.defineProperty(a,"Uint32BufferAttribute",{enumerable:!0,get:function(){return s.Uint32BufferAttribute}}),Object.defineProperty(a,"Uint8BufferAttribute",{enumerable:!0,get:function(){return s.Uint8BufferAttribute}}),Object.defineProperty(a,"Uint8ClampedBufferAttribute",{enumerable:!0,get:function(){return s.Uint8ClampedBufferAttribute}}),Object.defineProperty(a,"Uniform",{enumerable:!0,get:function(){return s.Uniform}}),Object.defineProperty(a,"UniformsGroup",{enumerable:!0,get:function(){return s.UniformsGroup}}),a.UniformsLib=void 0,Object.defineProperty(a,"UniformsUtils",{enumerable:!0,get:function(){return s.UniformsUtils}}),Object.defineProperty(a,"UnsignedByteType",{enumerable:!0,get:function(){return s.UnsignedByteType}}),Object.defineProperty(a,"UnsignedInt248Type",{enumerable:!0,get:function(){return s.UnsignedInt248Type}}),Object.defineProperty(a,"UnsignedInt5999Type",{enumerable:!0,get:function(){return s.UnsignedInt5999Type}}),Object.defineProperty(a,"UnsignedIntType",{enumerable:!0,get:function(){return s.UnsignedIntType}}),Object.defineProperty(a,"UnsignedShort4444Type",{enumerable:!0,get:function(){return s.UnsignedShort4444Type}}),Object.defineProperty(a,"UnsignedShort5551Type",{enumerable:!0,get:function(){return s.UnsignedShort5551Type}}),Object.defineProperty(a,"UnsignedShortType",{enumerable:!0,get:function(){return s.UnsignedShortType}}),Object.defineProperty(a,"VSMShadowMap",{enumerable:!0,get:function(){return s.VSMShadowMap}}),Object.defineProperty(a,"Vector2",{enumerable:!0,get:function(){return s.Vector2}}),Object.defineProperty(a,"Vector3",{enumerable:!0,get:function(){return s.Vector3}}),Object.defineProperty(a,"Vector4",{enumerable:!0,get:function(){return s.Vector4}}),Object.defineProperty(a,"VectorKeyframeTrack",{enumerable:!0,get:function(){return s.VectorKeyframeTrack}}),Object.defineProperty(a,"VideoFrameTexture",{enumerable:!0,get:function(){return s.VideoFrameTexture}}),Object.defineProperty(a,"VideoTexture",{enumerable:!0,get:function(){return s.VideoTexture}}),Object.defineProperty(a,"WebGL3DRenderTarget",{enumerable:!0,get:function(){return s.WebGL3DRenderTarget}}),Object.defineProperty(a,"WebGLArrayRenderTarget",{enumerable:!0,get:function(){return s.WebGLArrayRenderTarget}}),Object.defineProperty(a,"WebGLCoordinateSystem",{enumerable:!0,get:function(){return s.WebGLCoordinateSystem}}),Object.defineProperty(a,"WebGLCubeRenderTarget",{enumerable:!0,get:function(){return s.WebGLCubeRenderTarget}}),Object.defineProperty(a,"WebGLRenderTarget",{enumerable:!0,get:function(){return s.WebGLRenderTarget}}),a.WebGLRenderer=void 0,a.WebGLUtils=Qt,Object.defineProperty(a,"WebGPUCoordinateSystem",{enumerable:!0,get:function(){return s.WebGPUCoordinateSystem}}),Object.defineProperty(a,"WebXRController",{enumerable:!0,get:function(){return s.WebXRController}}),Object.defineProperty(a,"WireframeGeometry",{enumerable:!0,get:function(){return s.WireframeGeometry}}),Object.defineProperty(a,"WrapAroundEnding",{enumerable:!0,get:function(){return s.WrapAroundEnding}}),Object.defineProperty(a,"ZeroCurvatureEnding",{enumerable:!0,get:function(){return s.ZeroCurvatureEnding}}),Object.defineProperty(a,"ZeroFactor",{enumerable:!0,get:function(){return s.ZeroFactor}}),Object.defineProperty(a,"ZeroSlopeEnding",{enumerable:!0,get:function(){return s.ZeroSlopeEnding}}),Object.defineProperty(a,"ZeroStencilOp",{enumerable:!0,get:function(){return s.ZeroStencilOp}}),Object.defineProperty(a,"createCanvasElement",{enumerable:!0,get:function(){return s.createCanvasElement}});var s=t(o[0]);
/**
   * @license
   * Copyright 2010-2025 Three.js Authors
   * SPDX-License-Identifier: MIT
   */function l(){let e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function c(e){const t=new WeakMap;function n(t,n){const r=t.array,i=t.usage,a=r.byteLength,o=e.createBuffer();let s;if(e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if('undefined'!=typeof Float16Array&&r instanceof Float16Array)s=e.HALF_FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error('THREE.WebGLAttributes: Unsupported buffer data format: '+r);s=e.UNSIGNED_BYTE}return{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:a}}function r(t,n,r){const i=n.array,a=n.updateRanges;if(e.bindBuffer(r,t),0===a.length)e.bufferSubData(r,0,i);else{a.sort((e,t)=>e.start-t.start);let t=0;for(let e=1;e<a.length;e++){const n=a[t],r=a[e];r.start<=n.start+n.count+1?n.count=Math.max(n.count,r.start+r.count-n.start):(++t,a[t]=r)}a.length=t+1;for(let t=0,n=a.length;t<n;t++){const n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}n.onUploadCallback()}return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(e,i){if(e.isInterleavedBufferAttribute&&(e=e.data),e.isGLBufferAttribute){const n=t.get(e);return void((!n||n.version<e.version)&&t.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}const a=t.get(e);if(void 0===a)t.set(e,n(e,i));else if(a.version<e.version){if(a.size!==e.array.byteLength)throw new Error('THREE.WebGLAttributes: The size of the buffer attribute\'s array buffer does not match the original size. Resizing buffer attributes is not supported.');r(a.buffer,e,i),a.version=e.version}}}}const u=a.ShaderChunk={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},d=a.UniformsLib={common:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new s.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new s.Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new s.Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new s.Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new s.Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new s.Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new s.Matrix3},normalScale:{value:new s.Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new s.Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new s.Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new s.Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new s.Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new s.Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0},uvTransform:{value:new s.Matrix3}},sprite:{diffuse:{value:new s.Color(16777215)},opacity:{value:1},center:{value:new s.Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new s.Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new s.Matrix3},alphaTest:{value:0}}},f=a.ShaderLib={basic:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.fog]),vertexShader:u.meshbasic_vert,fragmentShader:u.meshbasic_frag},lambert:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Color(0)}}]),vertexShader:u.meshlambert_vert,fragmentShader:u.meshlambert_frag},phong:{uniforms:(0,s.mergeUniforms)([d.common,d.specularmap,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.fog,d.lights,{emissive:{value:new s.Color(0)},specular:{value:new s.Color(1118481)},shininess:{value:30}}]),vertexShader:u.meshphong_vert,fragmentShader:u.meshphong_frag},standard:{uniforms:(0,s.mergeUniforms)([d.common,d.envmap,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.roughnessmap,d.metalnessmap,d.fog,d.lights,{emissive:{value:new s.Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag},toon:{uniforms:(0,s.mergeUniforms)([d.common,d.aomap,d.lightmap,d.emissivemap,d.bumpmap,d.normalmap,d.displacementmap,d.gradientmap,d.fog,d.lights,{emissive:{value:new s.Color(0)}}]),vertexShader:u.meshtoon_vert,fragmentShader:u.meshtoon_frag},matcap:{uniforms:(0,s.mergeUniforms)([d.common,d.bumpmap,d.normalmap,d.displacementmap,d.fog,{matcap:{value:null}}]),vertexShader:u.meshmatcap_vert,fragmentShader:u.meshmatcap_frag},points:{uniforms:(0,s.mergeUniforms)([d.points,d.fog]),vertexShader:u.points_vert,fragmentShader:u.points_frag},dashed:{uniforms:(0,s.mergeUniforms)([d.common,d.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:u.linedashed_vert,fragmentShader:u.linedashed_frag},depth:{uniforms:(0,s.mergeUniforms)([d.common,d.displacementmap]),vertexShader:u.depth_vert,fragmentShader:u.depth_frag},normal:{uniforms:(0,s.mergeUniforms)([d.common,d.bumpmap,d.normalmap,d.displacementmap,{opacity:{value:1}}]),vertexShader:u.meshnormal_vert,fragmentShader:u.meshnormal_frag},sprite:{uniforms:(0,s.mergeUniforms)([d.sprite,d.fog]),vertexShader:u.sprite_vert,fragmentShader:u.sprite_frag},background:{uniforms:{uvTransform:{value:new s.Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:u.background_vert,fragmentShader:u.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new s.Matrix3}},vertexShader:u.backgroundCube_vert,fragmentShader:u.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:u.cube_vert,fragmentShader:u.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:u.equirect_vert,fragmentShader:u.equirect_frag},distanceRGBA:{uniforms:(0,s.mergeUniforms)([d.common,d.displacementmap,{referencePosition:{value:new s.Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:u.distanceRGBA_vert,fragmentShader:u.distanceRGBA_frag},shadow:{uniforms:(0,s.mergeUniforms)([d.lights,d.fog,{color:{value:new s.Color(0)},opacity:{value:1}}]),vertexShader:u.shadow_vert,fragmentShader:u.shadow_frag}};f.physical={uniforms:(0,s.mergeUniforms)([f.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new s.Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new s.Matrix3},clearcoatNormalScale:{value:new s.Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new s.Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new s.Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new s.Matrix3},sheen:{value:0},sheenColor:{value:new s.Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new s.Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new s.Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new s.Matrix3},transmissionSamplerSize:{value:new s.Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new s.Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new s.Color(0)},specularColor:{value:new s.Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new s.Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new s.Matrix3},anisotropyVector:{value:new s.Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new s.Matrix3}}]),vertexShader:u.meshphysical_vert,fragmentShader:u.meshphysical_frag};const p={r:0,b:0,g:0},m=new s.Euler,g=new s.Matrix4;function _(e,t,n,r,i,a,o){const l=new s.Color(0);let c,u,d=!0===a?0:1,_=null,h=0,v=null;function S(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function E(t,n){t.getRGB(p,(0,s.getUnlitUniformColorSpace)(e)),r.buffers.color.setClear(p.r,p.g,p.b,n,o)}return{getClearColor:function(){return l},setClearColor:function(e,t=1){l.set(e),d=t,E(l,d)},getClearAlpha:function(){return d},setClearAlpha:function(e){d=e,E(l,d)},render:function(t){let n=!1;const i=S(t);null===i?E(l,d):i&&i.isColor&&(E(i,1),n=!0);const a=e.xr.getEnvironmentBlendMode();'additive'===a?r.buffers.color.setClear(0,0,0,1,o):'alpha-blend'===a&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=S(n);r&&(r.isCubeTexture||r.mapping===s.CubeUVReflectionMapping)?(void 0===u&&(u=new s.Mesh(new s.BoxGeometry(1,1,1),new s.ShaderMaterial({name:'BackgroundCubeMaterial',uniforms:(0,s.cloneUniforms)(f.backgroundCube.uniforms),vertexShader:f.backgroundCube.vertexShader,fragmentShader:f.backgroundCube.fragmentShader,side:s.BackSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute('normal'),u.geometry.deleteAttribute('uv'),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,'envMap',{get:function(){return this.uniforms.envMap.value}}),i.update(u)),m.copy(n.backgroundRotation),m.x*=-1,m.y*=-1,m.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(m.y*=-1,m.z*=-1),u.material.uniforms.envMap.value=r,u.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(g.makeRotationFromEuler(m)),u.material.toneMapped=s.ColorManagement.getTransfer(r.colorSpace)!==s.SRGBTransfer,_===r&&h===r.version&&v===e.toneMapping||(u.material.needsUpdate=!0,_=r,h=r.version,v=e.toneMapping),u.layers.enableAll(),t.unshift(u,u.geometry,u.material,0,0,null)):r&&r.isTexture&&(void 0===c&&(c=new s.Mesh(new s.PlaneGeometry(2,2),new s.ShaderMaterial({name:'BackgroundMaterial',uniforms:(0,s.cloneUniforms)(f.background.uniforms),vertexShader:f.background.vertexShader,fragmentShader:f.background.fragmentShader,side:s.FrontSide,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute('normal'),Object.defineProperty(c.material,'map',{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=r,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.toneMapped=s.ColorManagement.getTransfer(r.colorSpace)!==s.SRGBTransfer,!0===r.matrixAutoUpdate&&r.updateMatrix(),c.material.uniforms.uvTransform.value.copy(r.matrix),_===r&&h===r.version&&v===e.toneMapping||(c.material.needsUpdate=!0,_=r,h=r.version,v=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null))},dispose:function(){void 0!==u&&(u.geometry.dispose(),u.material.dispose(),u=void 0),void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}}}function h(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=d(null);let a=i,o=!1;function l(t){return e.bindVertexArray(t)}function c(t){return e.deleteVertexArray(t)}function u(t,n,i){const a=!0===i.wireframe;let o=r[t.id];void 0===o&&(o={},r[t.id]=o);let s=o[n.id];void 0===s&&(s={},o[n.id]=s);let l=s[a];return void 0===l&&(l=d(e.createVertexArray()),s[a]=l),l}function d(e){const t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function f(e,t,n,r){const i=a.attributes,o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){const n=i[t];let r=o[t];if(void 0===r&&('instanceMatrix'===t&&e.instanceMatrix&&(r=e.instanceMatrix),'instanceColor'===t&&e.instanceColor&&(r=e.instanceColor)),void 0===n)return!0;if(n.attribute!==r)return!0;if(r&&n.data!==r.data)return!0;s++}}return a.attributesNum!==s||a.index!==r}function p(e,t,n,r){const i={},o=t.attributes;let s=0;const l=n.getAttributes();for(const t in l){if(l[t].location>=0){let n=o[t];void 0===n&&('instanceMatrix'===t&&e.instanceMatrix&&(n=e.instanceMatrix),'instanceColor'===t&&e.instanceColor&&(n=e.instanceColor));const r={};r.attribute=n,n&&n.data&&(r.data=n.data),i[t]=r,s++}}a.attributes=i,a.attributesNum=s,a.index=r}function m(){const e=a.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function g(e){_(e,0)}function _(t,n){const r=a.newAttributes,i=a.enabledAttributes,o=a.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),o[t]!==n&&(e.vertexAttribDivisor(t,n),o[t]=n)}function h(){const t=a.newAttributes,n=a.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function v(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function S(n,r,i,a){m();const o=a.attributes,l=i.getAttributes(),c=r.defaultAttributeValues;for(const r in l){const i=l[r];if(i.location>=0){let l=o[r];if(void 0===l&&('instanceMatrix'===r&&n.instanceMatrix&&(l=n.instanceMatrix),'instanceColor'===r&&n.instanceColor&&(l=n.instanceColor)),void 0!==l){const r=l.normalized,o=l.itemSize,c=t.get(l);if(void 0===c)continue;const u=c.buffer,d=c.type,f=c.bytesPerElement,p=d===e.INT||d===e.UNSIGNED_INT||l.gpuType===s.IntType;if(l.isInterleavedBufferAttribute){const t=l.data,s=t.stride,c=l.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<i.locationSize;e++)_(i.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)v(i.location+e,o/i.locationSize,d,r,s*f,(c+o/i.locationSize*e)*f,p)}else{if(l.isInstancedBufferAttribute){for(let e=0;e<i.locationSize;e++)_(i.location+e,l.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===a._maxInstanceCount&&(a._maxInstanceCount=l.meshPerAttribute*l.count)}else for(let e=0;e<i.locationSize;e++)g(i.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<i.locationSize;e++)v(i.location+e,o/i.locationSize,d,r,o*f,o/i.locationSize*e*f,p)}}else if(void 0!==c){const t=c[r];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(i.location,t);break;case 3:e.vertexAttrib3fv(i.location,t);break;case 4:e.vertexAttrib4fv(i.location,t);break;default:e.vertexAttrib1fv(i.location,t)}}}}h()}function E(){T(),o=!0,a!==i&&(a=i,l(a.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,r,i,s,c){let d=!1;const m=u(s,i,r);a!==m&&(a=m,l(a.object)),d=f(n,s,i,c),d&&p(n,s,i,c),null!==c&&t.update(c,e.ELEMENT_ARRAY_BUFFER),(d||o)&&(o=!1,S(n,r,i,s),null!==c&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(c).buffer))},reset:E,resetDefaultState:T,dispose:function(){E();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)c(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const e in t){const n=t[e];for(const e in n)c(n[e].object),delete n[e];delete t[e]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)c(i[e].object),delete i[e];delete n[e.id]}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:h}}function v(e,t,n){let r;function i(t,i,a){0!==a&&(e.drawArraysInstanced(r,t,i,a),n.update(i,r,a))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,a){if(0===a)return;t.get('WEBGL_multi_draw').multiDrawArraysWEBGL(r,e,0,i,0,a);let o=0;for(let e=0;e<a;e++)o+=i[e];n.update(o,r,1)},this.renderMultiDrawInstances=function(e,a,o,s){if(0===o)return;const l=t.get('WEBGL_multi_draw');if(null===l)for(let t=0;t<e.length;t++)i(e[t],a[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,a,0,s,0,o);let t=0;for(let e=0;e<o;e++)t+=a[e]*s[e];n.update(t,r,1)}}}function S(e,t,n,r){let i;function a(t){if('highp'===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return'highp';t='mediump'}return'mediump'===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?'mediump':'lowp'}let o=void 0!==n.precision?n.precision:'highp';const l=a(o);l!==o&&(console.warn('THREE.WebGLRenderer:',o,'not supported, using',l,'instead.'),o=l);const c=!0===n.logarithmicDepthBuffer,u=!0===n.reverseDepthBuffer&&t.has('EXT_clip_control'),d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has('EXT_texture_filter_anisotropic')){const n=t.get('EXT_texture_filter_anisotropic');i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:a,textureFormatReadable:function(t){return t===s.RGBAFormat||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===s.HalfFloatType&&(t.has('EXT_color_buffer_half_float')||t.has('EXT_color_buffer_float'));return!(n!==s.UnsignedByteType&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==s.FloatType&&!i)},precision:o,logarithmicDepthBuffer:c,reverseDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:f>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function E(e){const t=this;let n=null,r=0,i=!1,a=!1;const o=new s.Plane,l=new s.Matrix3,c={value:null,needsUpdate:!1};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function d(e,n,r,i){const a=null!==e?e.length:0;let s=null;if(0!==a){if(s=c.value,!0!==i||null===s){const t=r+4*a,i=n.matrixWorldInverse;l.getNormalMatrix(i),(null===s||s.length<t)&&(s=new Float32Array(t));for(let t=0,n=r;t!==a;++t,n+=4)o.copy(e[t]).applyMatrix4(i,l),o.normal.toArray(s,n),s[n+3]=o.constant}c.value=s,c.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,s}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=d(e,t,0)},this.setState=function(t,o,s){const l=t.clippingPlanes,f=t.clipIntersection,p=t.clipShadows,m=e.get(t);if(!i||null===l||0===l.length||a&&!p)a?d(null):u();else{const e=a?0:r,t=4*e;let i=m.clippingState||null;c.value=i,i=d(l,o,t,s);for(let e=0;e!==t;++e)i[e]=n[e];m.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}function T(e){let t=new WeakMap;function n(e,t){return t===s.EquirectangularReflectionMapping?e.mapping=s.CubeReflectionMapping:t===s.EquirectangularRefractionMapping&&(e.mapping=s.CubeRefractionMapping),e}function r(e){const n=e.target;n.removeEventListener('dispose',r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const a=i.mapping;if(a===s.EquirectangularReflectionMapping||a===s.EquirectangularRefractionMapping){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const a=i.image;if(a&&a.height>0){const o=new s.WebGLCubeRenderTarget(a.height);return o.fromEquirectangularTexture(e,i),t.set(i,o),i.addEventListener('dispose',r),n(o.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}const M=[.125,.215,.35,.446,.526,.582],b=20,x=new s.OrthographicCamera,R=new s.Color;let A=null,C=0,P=0,y=!1;const L=(1+Math.sqrt(5))/2,D=.6180339887498948,U=[new s.Vector3(-1.618033988749895,D,0),new s.Vector3(L,D,0),new s.Vector3(-.6180339887498948,0,L),new s.Vector3(D,0,L),new s.Vector3(0,L,-.6180339887498948),new s.Vector3(0,L,D),new s.Vector3(-1,1,-1),new s.Vector3(1,1,-1),new s.Vector3(-1,1,1),new s.Vector3(1,1,1)],O=new s.Vector3;class w{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100,i={}){const{size:a=256,position:o=O}=i;A=this._renderer.getRenderTarget(),C=this._renderer.getActiveCubeFace(),P=this._renderer.getActiveMipmapLevel(),y=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s,o),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=H(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=G(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(A,C,P),this._renderer.xr.enabled=y,e.scissorTest=!1,F(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===s.CubeReflectionMapping||e.mapping===s.CubeRefractionMapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),A=this._renderer.getRenderTarget(),C=this._renderer.getActiveCubeFace(),P=this._renderer.getActiveMipmapLevel(),y=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:s.LinearFilter,minFilter:s.LinearFilter,generateMipmaps:!1,type:s.HalfFloatType,format:s.RGBAFormat,colorSpace:s.LinearSRGBColorSpace,depthBuffer:!1},r=N(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=N(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=I(r)),this._blurMaterial=B(r,e,t)}return r}_compileMaterial(e){const t=new s.Mesh(this._lodPlanes[0],e);this._renderer.compile(t,x)}_sceneToCubeUV(e,t,n,r,i){const a=new s.PerspectiveCamera(90,1,t,n),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(R),c.toneMapping=s.NoToneMapping,c.autoClear=!1;const f=new s.MeshBasicMaterial({name:'PMREM.Background',side:s.BackSide,depthWrite:!1,depthTest:!1}),p=new s.Mesh(new s.BoxGeometry,f);let m=!1;const g=e.background;g?g.isColor&&(f.color.copy(g),e.background=null,m=!0):(f.color.copy(R),m=!0);for(let t=0;t<6;t++){const n=t%3;0===n?(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x+l[t],i.y,i.z)):1===n?(a.up.set(0,0,o[t]),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y+l[t],i.z)):(a.up.set(0,o[t],0),a.position.set(i.x,i.y,i.z),a.lookAt(i.x,i.y,i.z+l[t]));const s=this._cubeSize;F(r,n*s,t>2?s:0,s,s),c.setRenderTarget(r),m&&c.render(p,a),c.render(e,a)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=d,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===s.CubeReflectionMapping||e.mapping===s.CubeRefractionMapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=H()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=G());const i=r?this._cubemapMaterial:this._equirectMaterial,a=new s.Mesh(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const o=this._cubeSize;F(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,x)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let t=1;t<r;t++){const n=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),i=U[(r-t-1)%U.length];this._blur(e,t-1,t,n,i)}t.autoClear=n}_blur(e,t,n,r,i){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,'latitudinal',i),this._halfBlur(a,e,n,n,r,'longitudinal',i)}_halfBlur(e,t,n,r,i,a,o){const l=this._renderer,c=this._blurMaterial;'latitudinal'!==a&&'longitudinal'!==a&&console.error('blur direction must be either latitudinal or longitudinal!');const u=new s.Mesh(this._lodPlanes[r],c),d=c.uniforms,f=this._sizeLods[n]-1,p=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,m=i/p,g=isFinite(i)?1+Math.floor(3*m):b;g>b&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const _=[];let h=0;for(let e=0;e<b;++e){const t=e/m,n=Math.exp(-t*t/2);_.push(n),0===e?h+=n:e<g&&(h+=2*n)}for(let e=0;e<_.length;e++)_[e]=_[e]/h;d.envMap.value=e.texture,d.samples.value=g,d.weights.value=_,d.latitudinal.value='latitudinal'===a,o&&(d.poleAxis.value=o);const{_lodMax:v}=this;d.dTheta.value=p,d.mipInt.value=v-n;const S=this._sizeLods[r];F(t,3*S*(r>v-4?r-v+4:0),4*(this._cubeSize-S),3*S,2*S),l.setRenderTarget(t),l.render(u,x)}}function I(e){const t=[],n=[],r=[];let i=e;const a=e-4+1+M.length;for(let o=0;o<a;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>e-4?l=M[o-e+4-1]:0===o&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=3,g=2,_=1,h=new Float32Array(108),v=new Float32Array(72),S=new Float32Array(36);for(let e=0;e<p;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+.6666666666666666,n,0,t+.6666666666666666,n+1,0,t,n,0,t+.6666666666666666,n+1,0,t,n+1,0];h.set(r,18*e),v.set(f,12*e);const i=[e,e,e,e,e,e];S.set(i,6*e)}const E=new s.BufferGeometry;E.setAttribute('position',new s.BufferAttribute(h,m)),E.setAttribute('uv',new s.BufferAttribute(v,g)),E.setAttribute('faceIndex',new s.BufferAttribute(S,_)),t.push(E),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function N(e,t,n){const r=new s.WebGLRenderTarget(e,t,n);return r.texture.mapping=s.CubeUVReflectionMapping,r.texture.name='PMREM.cubeUv',r.scissorTest=!0,r}function F(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function B(e,t,n){const r=new Float32Array(b),i=new s.Vector3(0,1,0);return new s.ShaderMaterial({name:'SphericalGaussianBlur',defines:{n:b,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:V(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function G(){return new s.ShaderMaterial({name:'EquirectangularToCubeUV',uniforms:{envMap:{value:null}},vertexShader:V(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function H(){return new s.ShaderMaterial({name:'CubemapToCubeUV',uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:V(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:s.NoBlending,depthTest:!1,depthWrite:!1})}function V(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function j(e){let t=new WeakMap,n=null;function r(e){let t=0;for(let n=0;n<6;n++)void 0!==e[n]&&t++;return 6===t}function i(e){const n=e.target;n.removeEventListener('dispose',i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}return{get:function(a){if(a&&a.isTexture){const o=a.mapping,l=o===s.EquirectangularReflectionMapping||o===s.EquirectangularRefractionMapping,c=o===s.CubeReflectionMapping||o===s.CubeRefractionMapping;if(l||c){let o=t.get(a);const s=void 0!==o?o.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==s)return null===n&&(n=new w(e)),o=l?n.fromEquirectangular(a,o):n.fromCubemap(a,o),o.texture.pmremVersion=a.pmremVersion,t.set(a,o),o.texture;if(void 0!==o)return o.texture;{const s=a.image;return l&&s&&s.height>0||c&&s&&r(s)?(null===n&&(n=new w(e)),o=l?n.fromEquirectangular(a):n.fromCubemap(a),o.texture.pmremVersion=a.pmremVersion,t.set(a,o),a.addEventListener('dispose',i),o.texture):null}}}return a},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function k(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case'WEBGL_depth_texture':r=e.getExtension('WEBGL_depth_texture')||e.getExtension('MOZ_WEBGL_depth_texture')||e.getExtension('WEBKIT_WEBGL_depth_texture');break;case'EXT_texture_filter_anisotropic':r=e.getExtension('EXT_texture_filter_anisotropic')||e.getExtension('MOZ_EXT_texture_filter_anisotropic')||e.getExtension('WEBKIT_EXT_texture_filter_anisotropic');break;case'WEBGL_compressed_texture_s3tc':r=e.getExtension('WEBGL_compressed_texture_s3tc')||e.getExtension('MOZ_WEBGL_compressed_texture_s3tc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');break;case'WEBGL_compressed_texture_pvrtc':r=e.getExtension('WEBGL_compressed_texture_pvrtc')||e.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n('EXT_color_buffer_float'),n('WEBGL_clip_cull_distance'),n('OES_texture_float_linear'),n('EXT_color_buffer_half_float'),n('WEBGL_multisampled_render_to_texture'),n('WEBGL_render_shared_exponent')},get:function(e){const t=n(e);return null===t&&(0,s.warnOnce)('THREE.WebGLRenderer: '+e+' extension not supported.'),t}}}function W(e,t,n,r){const i={},a=new WeakMap;function o(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const e in s.attributes)t.remove(s.attributes[e]);s.removeEventListener('dispose',o),delete i[s.id];const l=a.get(s);l&&(t.remove(l),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function l(e){const n=[],r=e.index,i=e.attributes.position;let o=0;if(null!==r){const e=r.array;o=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],a=e[t+2];n.push(r,i,i,a,a,r)}}else{if(void 0===i)return;{const e=i.array;o=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const l=new((0,s.arrayNeedsUint32)(n)?s.Uint32BufferAttribute:s.Uint16BufferAttribute)(n,1);l.version=o;const c=a.get(e);c&&t.remove(c),a.set(e,l)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener('dispose',o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const n in r)t.update(r[n],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){const t=a.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&l(e)}else l(e);return a.get(e)}}}function z(e,t,n){let r,i,a;function o(t,o,s){0!==s&&(e.drawElementsInstanced(r,o,i,t*a,s),n.update(o,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,a=e.bytesPerElement},this.render=function(t,o){e.drawElements(r,o,i,t*a),n.update(o,r,1)},this.renderInstances=o,this.renderMultiDraw=function(e,a,o){if(0===o)return;t.get('WEBGL_multi_draw').multiDrawElementsWEBGL(r,a,0,i,e,0,o);let s=0;for(let e=0;e<o;e++)s+=a[e];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get('WEBGL_multi_draw');if(null===u)for(let t=0;t<e.length;t++)o(e[t]/a,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e]*c[e];n.update(t,r,1)}}}function X(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error('THREE.WebGLInfo: Unknown draw mode:',r)}}}}function q(e,t,n){const r=new WeakMap,i=new s.Vector4;return{update:function(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=void 0!==u?u.length:0;let f=r.get(o);if(void 0===f||f.count!==d){void 0!==f&&f.texture.dispose();const e=void 0!==o.morphAttributes.position,n=void 0!==o.morphAttributes.normal,a=void 0!==o.morphAttributes.color,l=o.morphAttributes.position||[],c=o.morphAttributes.normal||[],u=o.morphAttributes.color||[];let p=0;!0===e&&(p=1),!0===n&&(p=2),!0===a&&(p=3);let m=o.attributes.position.count*p,g=1;m>t.maxTextureSize&&(g=Math.ceil(m/t.maxTextureSize),m=t.maxTextureSize);const _=new Float32Array(m*g*4*d),h=new s.DataArrayTexture(_,m,g,d);h.type=s.FloatType,h.needsUpdate=!0;const v=4*p;for(let t=0;t<d;t++){const r=l[t],o=c[t],s=u[t],d=m*g*4*t;for(let t=0;t<r.count;t++){const l=t*v;!0===e&&(i.fromBufferAttribute(r,t),_[d+l+0]=i.x,_[d+l+1]=i.y,_[d+l+2]=i.z,_[d+l+3]=0),!0===n&&(i.fromBufferAttribute(o,t),_[d+l+4]=i.x,_[d+l+5]=i.y,_[d+l+6]=i.z,_[d+l+7]=0),!0===a&&(i.fromBufferAttribute(s,t),_[d+l+8]=i.x,_[d+l+9]=i.y,_[d+l+10]=i.z,_[d+l+11]=4===s.itemSize?i.w:1)}}f={count:d,texture:h,size:new s.Vector2(m,g)},r.set(o,f),o.addEventListener('dispose',function e(){h.dispose(),r.delete(o),o.removeEventListener('dispose',e)})}if(!0===a.isInstancedMesh&&null!==a.morphTexture)l.getUniforms().setValue(e,'morphTexture',a.morphTexture,n);else{let t=0;for(let e=0;e<c.length;e++)t+=c[e];const n=o.morphTargetsRelative?1:1-t;l.getUniforms().setValue(e,'morphTargetBaseInfluence',n),l.getUniforms().setValue(e,'morphTargetInfluences',c)}l.getUniforms().setValue(e,'morphTargetsTexture',f.texture,n),l.getUniforms().setValue(e,'morphTargetsTextureSize',f.size)}}}function K(e,t,n,r){let i=new WeakMap;function a(e){const t=e.target;t.removeEventListener('dispose',a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){const s=r.render.frame,l=o.geometry,c=t.get(o,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),o.isInstancedMesh&&(!1===o.hasEventListener('dispose',a)&&o.addEventListener('dispose',a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}a.PMREMGenerator=w;const Y=new s.Texture,Z=new s.DepthTexture(1,1),$=new s.DataArrayTexture,Q=new s.Data3DTexture,J=new s.CubeTexture,ee=[],te=[],ne=new Float32Array(16),re=new Float32Array(9),ie=new Float32Array(4);function ae(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let a=ee[i];if(void 0===a&&(a=new Float32Array(i),ee[i]=a),0!==t){r.toArray(a,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i)}return a}function oe(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function se(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function le(e,t){let n=te[t];void 0===n&&(n=new Int32Array(t),te[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ce(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function ue(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2fv(this.addr,t),se(n,t)}}function de(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(oe(n,t))return;e.uniform3fv(this.addr,t),se(n,t)}}function fe(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4fv(this.addr,t),se(n,t)}}function pe(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;ie.set(r),e.uniformMatrix2fv(this.addr,!1,ie),se(n,r)}}function me(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;re.set(r),e.uniformMatrix3fv(this.addr,!1,re),se(n,r)}}function ge(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(oe(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),se(n,t)}else{if(oe(n,r))return;ne.set(r),e.uniformMatrix4fv(this.addr,!1,ne),se(n,r)}}function _e(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function he(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2iv(this.addr,t),se(n,t)}}function ve(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(oe(n,t))return;e.uniform3iv(this.addr,t),se(n,t)}}function Se(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4iv(this.addr,t),se(n,t)}}function Ee(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Te(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(oe(n,t))return;e.uniform2uiv(this.addr,t),se(n,t)}}function Me(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(oe(n,t))return;e.uniform3uiv(this.addr,t),se(n,t)}}function be(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(oe(n,t))return;e.uniform4uiv(this.addr,t),se(n,t)}}function xe(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let a;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(Z.compareFunction=s.LessEqualCompare,a=Z):a=Y,n.setTexture2D(t||a,i)}function Re(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Q,i)}function Ae(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||J,i)}function Ce(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||$,i)}function Pe(e){switch(e){case 5126:return ce;case 35664:return ue;case 35665:return de;case 35666:return fe;case 35674:return pe;case 35675:return me;case 35676:return ge;case 5124:case 35670:return _e;case 35667:case 35671:return he;case 35668:case 35672:return ve;case 35669:case 35673:return Se;case 5125:return Ee;case 36294:return Te;case 36295:return Me;case 36296:return be;case 35678:case 36198:case 36298:case 36306:case 35682:return xe;case 35679:case 36299:case 36307:return Re;case 35680:case 36300:case 36308:case 36293:return Ae;case 36289:case 36303:case 36311:case 36292:return Ce}}function ye(e,t){e.uniform1fv(this.addr,t)}function Le(e,t){const n=ae(t,this.size,2);e.uniform2fv(this.addr,n)}function De(e,t){const n=ae(t,this.size,3);e.uniform3fv(this.addr,n)}function Ue(e,t){const n=ae(t,this.size,4);e.uniform4fv(this.addr,n)}function Oe(e,t){const n=ae(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function we(e,t){const n=ae(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ie(e,t){const n=ae(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Ne(e,t){e.uniform1iv(this.addr,t)}function Fe(e,t){e.uniform2iv(this.addr,t)}function Be(e,t){e.uniform3iv(this.addr,t)}function Ge(e,t){e.uniform4iv(this.addr,t)}function He(e,t){e.uniform1uiv(this.addr,t)}function Ve(e,t){e.uniform2uiv(this.addr,t)}function je(e,t){e.uniform3uiv(this.addr,t)}function ke(e,t){e.uniform4uiv(this.addr,t)}function We(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTexture2D(t[e]||Y,a[e])}function ze(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTexture3D(t[e]||Q,a[e])}function Xe(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTextureCube(t[e]||J,a[e])}function qe(e,t,n){const r=this.cache,i=t.length,a=le(n,i);oe(r,a)||(e.uniform1iv(this.addr,a),se(r,a));for(let e=0;e!==i;++e)n.setTexture2DArray(t[e]||$,a[e])}function Ke(e){switch(e){case 5126:return ye;case 35664:return Le;case 35665:return De;case 35666:return Ue;case 35674:return Oe;case 35675:return we;case 35676:return Ie;case 5124:case 35670:return Ne;case 35667:case 35671:return Fe;case 35668:case 35672:return Be;case 35669:case 35673:return Ge;case 5125:return He;case 36294:return Ve;case 36295:return je;case 36296:return ke;case 35678:case 36198:case 36298:case 36306:case 35682:return We;case 35679:case 36299:case 36307:return ze;case 35680:case 36300:case 36308:case 36293:return Xe;case 36289:case 36303:case 36311:case 36292:return qe}}class Ye{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=Pe(t.type)}}class Ze{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Ke(t.type)}}class $e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,a=r.length;i!==a;++i){const a=r[i];a.setValue(e,t[a.id],n)}}}const Qe=/(\w+)(\])?(\[|\.)?/g;function Je(e,t){e.seq.push(t),e.map[t.id]=t}function et(e,t,n){const r=e.name,i=r.length;for(Qe.lastIndex=0;;){const a=Qe.exec(r),o=Qe.lastIndex;let s=a[1];const l=']'===a[2],c=a[3];if(l&&(s|=0),void 0===c||'['===c&&o+2===i){Je(n,void 0===c?new Ye(s,e,t):new Ze(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new $e(s),Je(n,e)),n=e}}}class tt{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);et(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,a=t.length;i!==a;++i){const a=t[i],o=n[a.id];!1!==o.needsUpdate&&a.setValue(e,o.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function nt(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let rt=0;function it(e,t){const n=e.split('\n'),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length);for(let e=i;e<a;e++){const i=e+1;r.push(`${i===t?'>':' '} ${i}: ${n[e]}`)}return r.join('\n')}const at=new s.Matrix3;function ot(e){s.ColorManagement._getMatrix(at,s.ColorManagement.workingColorSpace,e);const t=`mat3( ${at.elements.map(e=>e.toFixed(4))} )`;switch(s.ColorManagement.getTransfer(e)){case s.LinearTransfer:return[t,'LinearTransferOETF'];case s.SRGBTransfer:return[t,'sRGBTransferOETF'];default:return console.warn('THREE.WebGLProgram: Unsupported color space: ',e),[t,'LinearTransferOETF']}}function st(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&''===i)return'';const a=/ERROR: 0:(\d+)/.exec(i);if(a){const r=parseInt(a[1]);return n.toUpperCase()+'\n\n'+i+'\n\n'+it(e.getShaderSource(t),r)}return i}function lt(e,t){const n=ot(t);return[`vec4 ${e}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,'}'].join('\n')}function ct(e,t){let n;switch(t){case s.LinearToneMapping:n='Linear';break;case s.ReinhardToneMapping:n='Reinhard';break;case s.CineonToneMapping:n='Cineon';break;case s.ACESFilmicToneMapping:n='ACESFilmic';break;case s.AgXToneMapping:n='AgX';break;case s.NeutralToneMapping:n='Neutral';break;case s.CustomToneMapping:n='Custom';break;default:console.warn('THREE.WebGLProgram: Unsupported toneMapping:',t),n='Linear'}return'vec3 '+e+'( vec3 color ) { return '+n+'ToneMapping( color ); }'}const ut=new s.Vector3;function dt(){s.ColorManagement.getLuminanceCoefficients(ut);return['float luminance( const in vec3 rgb ) {',`\tconst vec3 weights = vec3( ${ut.x.toFixed(4)}, ${ut.y.toFixed(4)}, ${ut.z.toFixed(4)} );`,'\treturn dot( weights, rgb );','}'].join('\n')}function ft(e){return[e.extensionClipCullDistance?'#extension GL_ANGLE_clip_cull_distance : require':'',e.extensionMultiDraw?'#extension GL_ANGLE_multi_draw : require':''].filter(gt).join('\n')}function pt(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push('#define '+n+' '+r)}return t.join('\n')}function mt(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),a=r.name;let o=1;r.type===e.FLOAT_MAT2&&(o=2),r.type===e.FLOAT_MAT3&&(o=3),r.type===e.FLOAT_MAT4&&(o=4),n[a]={type:r.type,location:e.getAttribLocation(t,a),locationSize:o}}return n}function gt(e){return''!==e}function _t(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ht(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const vt=/^[ \t]*#include +<([\w\d./]+)>/gm;function St(e){return e.replace(vt,Tt)}const Et=new Map;function Tt(e,t){let n=u[t];if(void 0===n){const e=Et.get(t);if(void 0===e)throw new Error('Can not resolve #include <'+t+'>');n=u[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return St(n)}const Mt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function bt(e){return e.replace(Mt,xt)}function xt(e,t,n,r){let i='';for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,'[ '+e+' ]').replace(/UNROLLED_LOOP_INDEX/g,e);return i}function Rt(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return'highp'===e.precision?t+='\n#define HIGH_PRECISION':'mediump'===e.precision?t+='\n#define MEDIUM_PRECISION':'lowp'===e.precision&&(t+='\n#define LOW_PRECISION'),t}function At(e){let t='SHADOWMAP_TYPE_BASIC';return e.shadowMapType===s.PCFShadowMap?t='SHADOWMAP_TYPE_PCF':e.shadowMapType===s.PCFSoftShadowMap?t='SHADOWMAP_TYPE_PCF_SOFT':e.shadowMapType===s.VSMShadowMap&&(t='SHADOWMAP_TYPE_VSM'),t}function Ct(e){let t='ENVMAP_TYPE_CUBE';if(e.envMap)switch(e.envMapMode){case s.CubeReflectionMapping:case s.CubeRefractionMapping:t='ENVMAP_TYPE_CUBE';break;case s.CubeUVReflectionMapping:t='ENVMAP_TYPE_CUBE_UV'}return t}function Pt(e){let t='ENVMAP_MODE_REFLECTION';if(e.envMap&&e.envMapMode===s.CubeRefractionMapping)t='ENVMAP_MODE_REFRACTION';return t}function yt(e){let t='ENVMAP_BLENDING_NONE';if(e.envMap)switch(e.combine){case s.MultiplyOperation:t='ENVMAP_BLENDING_MULTIPLY';break;case s.MixOperation:t='ENVMAP_BLENDING_MIX';break;case s.AddOperation:t='ENVMAP_BLENDING_ADD'}return t}function Lt(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function Dt(e,t,n,r){const i=e.getContext(),a=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=At(n),d=Ct(n),f=Pt(n),p=yt(n),m=Lt(n),g=ft(n),_=pt(a),h=i.createProgram();let v,S,E=n.glslVersion?'#version '+n.glslVersion+'\n':'';n.isRawShaderMaterial?(v=['#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_].filter(gt).join('\n'),v.length>0&&(v+='\n'),S=['#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_].filter(gt).join('\n'),S.length>0&&(S+='\n')):(v=[Rt(n),'#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_,n.extensionClipCullDistance?'#define USE_CLIP_DISTANCE':'',n.batching?'#define USE_BATCHING':'',n.batchingColor?'#define USE_BATCHING_COLOR':'',n.instancing?'#define USE_INSTANCING':'',n.instancingColor?'#define USE_INSTANCING_COLOR':'',n.instancingMorph?'#define USE_INSTANCING_MORPH':'',n.useFog&&n.fog?'#define USE_FOG':'',n.useFog&&n.fogExp2?'#define FOG_EXP2':'',n.map?'#define USE_MAP':'',n.envMap?'#define USE_ENVMAP':'',n.envMap?'#define '+f:'',n.lightMap?'#define USE_LIGHTMAP':'',n.aoMap?'#define USE_AOMAP':'',n.bumpMap?'#define USE_BUMPMAP':'',n.normalMap?'#define USE_NORMALMAP':'',n.normalMapObjectSpace?'#define USE_NORMALMAP_OBJECTSPACE':'',n.normalMapTangentSpace?'#define USE_NORMALMAP_TANGENTSPACE':'',n.displacementMap?'#define USE_DISPLACEMENTMAP':'',n.emissiveMap?'#define USE_EMISSIVEMAP':'',n.anisotropy?'#define USE_ANISOTROPY':'',n.anisotropyMap?'#define USE_ANISOTROPYMAP':'',n.clearcoatMap?'#define USE_CLEARCOATMAP':'',n.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',n.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',n.iridescenceMap?'#define USE_IRIDESCENCEMAP':'',n.iridescenceThicknessMap?'#define USE_IRIDESCENCE_THICKNESSMAP':'',n.specularMap?'#define USE_SPECULARMAP':'',n.specularColorMap?'#define USE_SPECULAR_COLORMAP':'',n.specularIntensityMap?'#define USE_SPECULAR_INTENSITYMAP':'',n.roughnessMap?'#define USE_ROUGHNESSMAP':'',n.metalnessMap?'#define USE_METALNESSMAP':'',n.alphaMap?'#define USE_ALPHAMAP':'',n.alphaHash?'#define USE_ALPHAHASH':'',n.transmission?'#define USE_TRANSMISSION':'',n.transmissionMap?'#define USE_TRANSMISSIONMAP':'',n.thicknessMap?'#define USE_THICKNESSMAP':'',n.sheenColorMap?'#define USE_SHEEN_COLORMAP':'',n.sheenRoughnessMap?'#define USE_SHEEN_ROUGHNESSMAP':'',n.mapUv?'#define MAP_UV '+n.mapUv:'',n.alphaMapUv?'#define ALPHAMAP_UV '+n.alphaMapUv:'',n.lightMapUv?'#define LIGHTMAP_UV '+n.lightMapUv:'',n.aoMapUv?'#define AOMAP_UV '+n.aoMapUv:'',n.emissiveMapUv?'#define EMISSIVEMAP_UV '+n.emissiveMapUv:'',n.bumpMapUv?'#define BUMPMAP_UV '+n.bumpMapUv:'',n.normalMapUv?'#define NORMALMAP_UV '+n.normalMapUv:'',n.displacementMapUv?'#define DISPLACEMENTMAP_UV '+n.displacementMapUv:'',n.metalnessMapUv?'#define METALNESSMAP_UV '+n.metalnessMapUv:'',n.roughnessMapUv?'#define ROUGHNESSMAP_UV '+n.roughnessMapUv:'',n.anisotropyMapUv?'#define ANISOTROPYMAP_UV '+n.anisotropyMapUv:'',n.clearcoatMapUv?'#define CLEARCOATMAP_UV '+n.clearcoatMapUv:'',n.clearcoatNormalMapUv?'#define CLEARCOAT_NORMALMAP_UV '+n.clearcoatNormalMapUv:'',n.clearcoatRoughnessMapUv?'#define CLEARCOAT_ROUGHNESSMAP_UV '+n.clearcoatRoughnessMapUv:'',n.iridescenceMapUv?'#define IRIDESCENCEMAP_UV '+n.iridescenceMapUv:'',n.iridescenceThicknessMapUv?'#define IRIDESCENCE_THICKNESSMAP_UV '+n.iridescenceThicknessMapUv:'',n.sheenColorMapUv?'#define SHEEN_COLORMAP_UV '+n.sheenColorMapUv:'',n.sheenRoughnessMapUv?'#define SHEEN_ROUGHNESSMAP_UV '+n.sheenRoughnessMapUv:'',n.specularMapUv?'#define SPECULARMAP_UV '+n.specularMapUv:'',n.specularColorMapUv?'#define SPECULAR_COLORMAP_UV '+n.specularColorMapUv:'',n.specularIntensityMapUv?'#define SPECULAR_INTENSITYMAP_UV '+n.specularIntensityMapUv:'',n.transmissionMapUv?'#define TRANSMISSIONMAP_UV '+n.transmissionMapUv:'',n.thicknessMapUv?'#define THICKNESSMAP_UV '+n.thicknessMapUv:'',n.vertexTangents&&!1===n.flatShading?'#define USE_TANGENT':'',n.vertexColors?'#define USE_COLOR':'',n.vertexAlphas?'#define USE_COLOR_ALPHA':'',n.vertexUv1s?'#define USE_UV1':'',n.vertexUv2s?'#define USE_UV2':'',n.vertexUv3s?'#define USE_UV3':'',n.pointsUvs?'#define USE_POINTS_UV':'',n.flatShading?'#define FLAT_SHADED':'',n.skinning?'#define USE_SKINNING':'',n.morphTargets?'#define USE_MORPHTARGETS':'',n.morphNormals&&!1===n.flatShading?'#define USE_MORPHNORMALS':'',n.morphColors?'#define USE_MORPHCOLORS':'',n.morphTargetsCount>0?'#define MORPHTARGETS_TEXTURE_STRIDE '+n.morphTextureStride:'',n.morphTargetsCount>0?'#define MORPHTARGETS_COUNT '+n.morphTargetsCount:'',n.doubleSided?'#define DOUBLE_SIDED':'',n.flipSided?'#define FLIP_SIDED':'',n.shadowMapEnabled?'#define USE_SHADOWMAP':'',n.shadowMapEnabled?'#define '+c:'',n.sizeAttenuation?'#define USE_SIZEATTENUATION':'',n.numLightProbes>0?'#define USE_LIGHT_PROBES':'',n.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',n.reverseDepthBuffer?'#define USE_REVERSEDEPTHBUF':'','uniform mat4 modelMatrix;','uniform mat4 modelViewMatrix;','uniform mat4 projectionMatrix;','uniform mat4 viewMatrix;','uniform mat3 normalMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;','#ifdef USE_INSTANCING','\tattribute mat4 instanceMatrix;','#endif','#ifdef USE_INSTANCING_COLOR','\tattribute vec3 instanceColor;','#endif','#ifdef USE_INSTANCING_MORPH','\tuniform sampler2D morphTexture;','#endif','attribute vec3 position;','attribute vec3 normal;','attribute vec2 uv;','#ifdef USE_UV1','\tattribute vec2 uv1;','#endif','#ifdef USE_UV2','\tattribute vec2 uv2;','#endif','#ifdef USE_UV3','\tattribute vec2 uv3;','#endif','#ifdef USE_TANGENT','\tattribute vec4 tangent;','#endif','#if defined( USE_COLOR_ALPHA )','\tattribute vec4 color;','#elif defined( USE_COLOR )','\tattribute vec3 color;','#endif','#ifdef USE_SKINNING','\tattribute vec4 skinIndex;','\tattribute vec4 skinWeight;','#endif','\n'].filter(gt).join('\n'),S=[Rt(n),'#define SHADER_TYPE '+n.shaderType,'#define SHADER_NAME '+n.shaderName,_,n.useFog&&n.fog?'#define USE_FOG':'',n.useFog&&n.fogExp2?'#define FOG_EXP2':'',n.alphaToCoverage?'#define ALPHA_TO_COVERAGE':'',n.map?'#define USE_MAP':'',n.matcap?'#define USE_MATCAP':'',n.envMap?'#define USE_ENVMAP':'',n.envMap?'#define '+d:'',n.envMap?'#define '+f:'',n.envMap?'#define '+p:'',m?'#define CUBEUV_TEXEL_WIDTH '+m.texelWidth:'',m?'#define CUBEUV_TEXEL_HEIGHT '+m.texelHeight:'',m?'#define CUBEUV_MAX_MIP '+m.maxMip+'.0':'',n.lightMap?'#define USE_LIGHTMAP':'',n.aoMap?'#define USE_AOMAP':'',n.bumpMap?'#define USE_BUMPMAP':'',n.normalMap?'#define USE_NORMALMAP':'',n.normalMapObjectSpace?'#define USE_NORMALMAP_OBJECTSPACE':'',n.normalMapTangentSpace?'#define USE_NORMALMAP_TANGENTSPACE':'',n.emissiveMap?'#define USE_EMISSIVEMAP':'',n.anisotropy?'#define USE_ANISOTROPY':'',n.anisotropyMap?'#define USE_ANISOTROPYMAP':'',n.clearcoat?'#define USE_CLEARCOAT':'',n.clearcoatMap?'#define USE_CLEARCOATMAP':'',n.clearcoatRoughnessMap?'#define USE_CLEARCOAT_ROUGHNESSMAP':'',n.clearcoatNormalMap?'#define USE_CLEARCOAT_NORMALMAP':'',n.dispersion?'#define USE_DISPERSION':'',n.iridescence?'#define USE_IRIDESCENCE':'',n.iridescenceMap?'#define USE_IRIDESCENCEMAP':'',n.iridescenceThicknessMap?'#define USE_IRIDESCENCE_THICKNESSMAP':'',n.specularMap?'#define USE_SPECULARMAP':'',n.specularColorMap?'#define USE_SPECULAR_COLORMAP':'',n.specularIntensityMap?'#define USE_SPECULAR_INTENSITYMAP':'',n.roughnessMap?'#define USE_ROUGHNESSMAP':'',n.metalnessMap?'#define USE_METALNESSMAP':'',n.alphaMap?'#define USE_ALPHAMAP':'',n.alphaTest?'#define USE_ALPHATEST':'',n.alphaHash?'#define USE_ALPHAHASH':'',n.sheen?'#define USE_SHEEN':'',n.sheenColorMap?'#define USE_SHEEN_COLORMAP':'',n.sheenRoughnessMap?'#define USE_SHEEN_ROUGHNESSMAP':'',n.transmission?'#define USE_TRANSMISSION':'',n.transmissionMap?'#define USE_TRANSMISSIONMAP':'',n.thicknessMap?'#define USE_THICKNESSMAP':'',n.vertexTangents&&!1===n.flatShading?'#define USE_TANGENT':'',n.vertexColors||n.instancingColor||n.batchingColor?'#define USE_COLOR':'',n.vertexAlphas?'#define USE_COLOR_ALPHA':'',n.vertexUv1s?'#define USE_UV1':'',n.vertexUv2s?'#define USE_UV2':'',n.vertexUv3s?'#define USE_UV3':'',n.pointsUvs?'#define USE_POINTS_UV':'',n.gradientMap?'#define USE_GRADIENTMAP':'',n.flatShading?'#define FLAT_SHADED':'',n.doubleSided?'#define DOUBLE_SIDED':'',n.flipSided?'#define FLIP_SIDED':'',n.shadowMapEnabled?'#define USE_SHADOWMAP':'',n.shadowMapEnabled?'#define '+c:'',n.premultipliedAlpha?'#define PREMULTIPLIED_ALPHA':'',n.numLightProbes>0?'#define USE_LIGHT_PROBES':'',n.decodeVideoTexture?'#define DECODE_VIDEO_TEXTURE':'',n.decodeVideoTextureEmissive?'#define DECODE_VIDEO_TEXTURE_EMISSIVE':'',n.logarithmicDepthBuffer?'#define USE_LOGDEPTHBUF':'',n.reverseDepthBuffer?'#define USE_REVERSEDEPTHBUF':'','uniform mat4 viewMatrix;','uniform vec3 cameraPosition;','uniform bool isOrthographic;',n.toneMapping!==s.NoToneMapping?'#define TONE_MAPPING':'',n.toneMapping!==s.NoToneMapping?u.tonemapping_pars_fragment:'',n.toneMapping!==s.NoToneMapping?ct('toneMapping',n.toneMapping):'',n.dithering?'#define DITHERING':'',n.opaque?'#define OPAQUE':'',u.colorspace_pars_fragment,lt('linearToOutputTexel',n.outputColorSpace),dt(),n.useDepthPacking?'#define DEPTH_PACKING '+n.depthPacking:'','\n'].filter(gt).join('\n')),o=St(o),o=_t(o,n),o=ht(o,n),l=St(l),l=_t(l,n),l=ht(l,n),o=bt(o),l=bt(l),!0!==n.isRawShaderMaterial&&(E='#version 300 es\n',v=[g,'#define attribute in','#define varying out','#define texture2D texture'].join('\n')+'\n'+v,S=['#define varying in',n.glslVersion===s.GLSL3?'':'layout(location = 0) out highp vec4 pc_fragColor;',n.glslVersion===s.GLSL3?'':'#define gl_FragColor pc_fragColor','#define gl_FragDepthEXT gl_FragDepth','#define texture2D texture','#define textureCube texture','#define texture2DProj textureProj','#define texture2DLodEXT textureLod','#define texture2DProjLodEXT textureProjLod','#define textureCubeLodEXT textureLod','#define texture2DGradEXT textureGrad','#define texture2DProjGradEXT textureProjGrad','#define textureCubeGradEXT textureGrad'].join('\n')+'\n'+S);const T=E+v+o,M=E+S+l,b=nt(i,i.VERTEX_SHADER,T),x=nt(i,i.FRAGMENT_SHADER,M);function R(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(h).trim(),r=i.getShaderInfoLog(b).trim(),a=i.getShaderInfoLog(x).trim();let o=!0,s=!0;if(!1===i.getProgramParameter(h,i.LINK_STATUS))if(o=!1,'function'==typeof e.debug.onShaderError)e.debug.onShaderError(i,h,b,x);else{const e=st(i,b,'vertex'),r=st(i,x,'fragment');console.error('THREE.WebGLProgram: Shader Error '+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(h,i.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+'\n'+e+'\n'+r)}else''!==n?console.warn('THREE.WebGLProgram: Program Info Log:',n):''!==r&&''!==a||(s=!1);s&&(t.diagnostics={runnable:o,programLog:n,vertexShader:{log:r,prefix:v},fragmentShader:{log:a,prefix:S}})}i.deleteShader(b),i.deleteShader(x),A=new tt(i,h),C=mt(i,h)}let A,C;i.attachShader(h,b),i.attachShader(h,x),void 0!==n.index0AttributeName?i.bindAttribLocation(h,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(h,0,'position'),i.linkProgram(h),this.getUniforms=function(){return void 0===A&&R(this),A},this.getAttributes=function(){return void 0===C&&R(this),C};let P=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===P&&(P=i.getProgramParameter(h,37297)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(h),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=rt++,this.cacheKey=t,this.usedTimes=1,this.program=h,this.vertexShader=b,this.fragmentShader=x,this}let Ut=0;class Ot{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new wt(e),t.set(e,n)),n}}class wt{constructor(e){this.id=Ut++,this.code=e,this.usedTimes=0}}function It(e,t,n,r,i,a,o){const l=new s.Layers,c=new Ot,u=new Set,d=[],p=i.logarithmicDepthBuffer,m=i.vertexTextures;let g=i.precision;const _={MeshDepthMaterial:'depth',MeshDistanceMaterial:'distanceRGBA',MeshNormalMaterial:'normal',MeshBasicMaterial:'basic',MeshLambertMaterial:'lambert',MeshPhongMaterial:'phong',MeshToonMaterial:'toon',MeshStandardMaterial:'physical',MeshPhysicalMaterial:'physical',MeshMatcapMaterial:'matcap',LineBasicMaterial:'basic',LineDashedMaterial:'dashed',PointsMaterial:'points',ShadowMaterial:'shadow',SpriteMaterial:'sprite'};function h(e){return u.add(e),0===e?'uv':`uv${e}`}function v(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function S(e,t){l.disableAll(),t.supportsVertexTextures&&l.enable(0),t.instancing&&l.enable(1),t.instancingColor&&l.enable(2),t.instancingMorph&&l.enable(3),t.matcap&&l.enable(4),t.envMap&&l.enable(5),t.normalMapObjectSpace&&l.enable(6),t.normalMapTangentSpace&&l.enable(7),t.clearcoat&&l.enable(8),t.iridescence&&l.enable(9),t.alphaTest&&l.enable(10),t.vertexColors&&l.enable(11),t.vertexAlphas&&l.enable(12),t.vertexUv1s&&l.enable(13),t.vertexUv2s&&l.enable(14),t.vertexUv3s&&l.enable(15),t.vertexTangents&&l.enable(16),t.anisotropy&&l.enable(17),t.alphaHash&&l.enable(18),t.batching&&l.enable(19),t.dispersion&&l.enable(20),t.batchingColor&&l.enable(21),t.gradientMap&&l.enable(22),e.push(l.mask),l.disableAll(),t.fog&&l.enable(0),t.useFog&&l.enable(1),t.flatShading&&l.enable(2),t.logarithmicDepthBuffer&&l.enable(3),t.reverseDepthBuffer&&l.enable(4),t.skinning&&l.enable(5),t.morphTargets&&l.enable(6),t.morphNormals&&l.enable(7),t.morphColors&&l.enable(8),t.premultipliedAlpha&&l.enable(9),t.shadowMapEnabled&&l.enable(10),t.doubleSided&&l.enable(11),t.flipSided&&l.enable(12),t.useDepthPacking&&l.enable(13),t.dithering&&l.enable(14),t.transmission&&l.enable(15),t.sheen&&l.enable(16),t.opaque&&l.enable(17),t.pointsUvs&&l.enable(18),t.decodeVideoTexture&&l.enable(19),t.decodeVideoTextureEmissive&&l.enable(20),t.alphaToCoverage&&l.enable(21),e.push(l.mask)}return{getParameters:function(a,l,d,v,S){const E=v.fog,T=S.geometry,M=a.isMeshStandardMaterial?v.environment:null,b=(a.isMeshStandardMaterial?n:t).get(a.envMap||M),x=b&&b.mapping===s.CubeUVReflectionMapping?b.image.height:null,R=_[a.type];null!==a.precision&&(g=i.getMaxPrecision(a.precision),g!==a.precision&&console.warn('THREE.WebGLProgram.getParameters:',a.precision,'not supported, using',g,'instead.'));const A=T.morphAttributes.position||T.morphAttributes.normal||T.morphAttributes.color,C=void 0!==A?A.length:0;let P,y,L,D,U=0;if(void 0!==T.morphAttributes.position&&(U=1),void 0!==T.morphAttributes.normal&&(U=2),void 0!==T.morphAttributes.color&&(U=3),R){const e=f[R];P=e.vertexShader,y=e.fragmentShader}else P=a.vertexShader,y=a.fragmentShader,c.update(a),L=c.getVertexShaderID(a),D=c.getFragmentShaderID(a);const O=e.getRenderTarget(),w=e.state.buffers.depth.getReversed(),I=!0===S.isInstancedMesh,N=!0===S.isBatchedMesh,F=!!a.map,B=!!a.matcap,G=!!b,H=!!a.aoMap,V=!!a.lightMap,j=!!a.bumpMap,k=!!a.normalMap,W=!!a.displacementMap,z=!!a.emissiveMap,X=!!a.metalnessMap,q=!!a.roughnessMap,K=a.anisotropy>0,Y=a.clearcoat>0,Z=a.dispersion>0,$=a.iridescence>0,Q=a.sheen>0,J=a.transmission>0,ee=K&&!!a.anisotropyMap,te=Y&&!!a.clearcoatMap,ne=Y&&!!a.clearcoatNormalMap,re=Y&&!!a.clearcoatRoughnessMap,ie=$&&!!a.iridescenceMap,ae=$&&!!a.iridescenceThicknessMap,oe=Q&&!!a.sheenColorMap,se=Q&&!!a.sheenRoughnessMap,le=!!a.specularMap,ce=!!a.specularColorMap,ue=!!a.specularIntensityMap,de=J&&!!a.transmissionMap,fe=J&&!!a.thicknessMap,pe=!!a.gradientMap,me=!!a.alphaMap,ge=a.alphaTest>0,_e=!!a.alphaHash,he=!!a.extensions;let ve=s.NoToneMapping;a.toneMapped&&(null!==O&&!0!==O.isXRRenderTarget||(ve=e.toneMapping));const Se={shaderID:R,shaderType:a.type,shaderName:a.name,vertexShader:P,fragmentShader:y,defines:a.defines,customVertexShaderID:L,customFragmentShaderID:D,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:g,batching:N,batchingColor:N&&null!==S._colorsTexture,instancing:I,instancingColor:I&&null!==S.instanceColor,instancingMorph:I&&null!==S.morphTexture,supportsVertexTextures:m,outputColorSpace:null===O?e.outputColorSpace:!0===O.isXRRenderTarget?O.texture.colorSpace:s.LinearSRGBColorSpace,alphaToCoverage:!!a.alphaToCoverage,map:F,matcap:B,envMap:G,envMapMode:G&&b.mapping,envMapCubeUVHeight:x,aoMap:H,lightMap:V,bumpMap:j,normalMap:k,displacementMap:m&&W,emissiveMap:z,normalMapObjectSpace:k&&a.normalMapType===s.ObjectSpaceNormalMap,normalMapTangentSpace:k&&a.normalMapType===s.TangentSpaceNormalMap,metalnessMap:X,roughnessMap:q,anisotropy:K,anisotropyMap:ee,clearcoat:Y,clearcoatMap:te,clearcoatNormalMap:ne,clearcoatRoughnessMap:re,dispersion:Z,iridescence:$,iridescenceMap:ie,iridescenceThicknessMap:ae,sheen:Q,sheenColorMap:oe,sheenRoughnessMap:se,specularMap:le,specularColorMap:ce,specularIntensityMap:ue,transmission:J,transmissionMap:de,thicknessMap:fe,gradientMap:pe,opaque:!1===a.transparent&&a.blending===s.NormalBlending&&!1===a.alphaToCoverage,alphaMap:me,alphaTest:ge,alphaHash:_e,combine:a.combine,mapUv:F&&h(a.map.channel),aoMapUv:H&&h(a.aoMap.channel),lightMapUv:V&&h(a.lightMap.channel),bumpMapUv:j&&h(a.bumpMap.channel),normalMapUv:k&&h(a.normalMap.channel),displacementMapUv:W&&h(a.displacementMap.channel),emissiveMapUv:z&&h(a.emissiveMap.channel),metalnessMapUv:X&&h(a.metalnessMap.channel),roughnessMapUv:q&&h(a.roughnessMap.channel),anisotropyMapUv:ee&&h(a.anisotropyMap.channel),clearcoatMapUv:te&&h(a.clearcoatMap.channel),clearcoatNormalMapUv:ne&&h(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:re&&h(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ie&&h(a.iridescenceMap.channel),iridescenceThicknessMapUv:ae&&h(a.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&h(a.sheenColorMap.channel),sheenRoughnessMapUv:se&&h(a.sheenRoughnessMap.channel),specularMapUv:le&&h(a.specularMap.channel),specularColorMapUv:ce&&h(a.specularColorMap.channel),specularIntensityMapUv:ue&&h(a.specularIntensityMap.channel),transmissionMapUv:de&&h(a.transmissionMap.channel),thicknessMapUv:fe&&h(a.thicknessMap.channel),alphaMapUv:me&&h(a.alphaMap.channel),vertexTangents:!!T.attributes.tangent&&(k||K),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!T.attributes.color&&4===T.attributes.color.itemSize,pointsUvs:!0===S.isPoints&&!!T.attributes.uv&&(F||me),fog:!!E,useFog:!0===a.fog,fogExp2:!!E&&E.isFogExp2,flatShading:!0===a.flatShading&&!1===a.wireframe,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:p,reverseDepthBuffer:w,skinning:!0===S.isSkinnedMesh,morphTargets:void 0!==T.morphAttributes.position,morphNormals:void 0!==T.morphAttributes.normal,morphColors:void 0!==T.morphAttributes.color,morphTargetsCount:C,morphTextureStride:U,numDirLights:l.directional.length,numPointLights:l.point.length,numSpotLights:l.spot.length,numSpotLightMaps:l.spotLightMap.length,numRectAreaLights:l.rectArea.length,numHemiLights:l.hemi.length,numDirLightShadows:l.directionalShadowMap.length,numPointLightShadows:l.pointShadowMap.length,numSpotLightShadows:l.spotShadowMap.length,numSpotLightShadowsWithMaps:l.numSpotLightShadowsWithMaps,numLightProbes:l.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&d.length>0,shadowMapType:e.shadowMap.type,toneMapping:ve,decodeVideoTexture:F&&!0===a.map.isVideoTexture&&s.ColorManagement.getTransfer(a.map.colorSpace)===s.SRGBTransfer,decodeVideoTextureEmissive:z&&!0===a.emissiveMap.isVideoTexture&&s.ColorManagement.getTransfer(a.emissiveMap.colorSpace)===s.SRGBTransfer,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===s.DoubleSide,flipSided:a.side===s.BackSide,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionClipCullDistance:he&&!0===a.extensions.clipCullDistance&&r.has('WEBGL_clip_cull_distance'),extensionMultiDraw:(he&&!0===a.extensions.multiDraw||N)&&r.has('WEBGL_multi_draw'),rendererExtensionParallelShaderCompile:r.has('KHR_parallel_shader_compile'),customProgramCacheKey:a.customProgramCacheKey()};return Se.vertexUv1s=u.has(1),Se.vertexUv2s=u.has(2),Se.vertexUv3s=u.has(3),u.clear(),Se},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(v(n,t),S(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=_[e.type];let n;if(t){const e=f[t];n=s.UniformsUtils.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=d.length;e<t;e++){const t=d[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new Dt(e,n,t,a),d.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=d.indexOf(e);d[t]=d[d.length-1],d.pop(),e.destroy()}},releaseShaderCache:function(e){c.remove(e)},programs:d,dispose:function(){c.dispose()}}}function Nt(){let e=new WeakMap;return{has:function(t){return e.has(t)},get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ft(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Bt(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Gt(){const e=[];let t=0;const n=[],r=[],i=[];function a(n,r,i,a,o,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)},unshift:function(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ft),r.length>1&&r.sort(t||Bt),i.length>1&&i.sort(t||Bt)}}}function Ht(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new Gt,e.set(t,[i])):n>=r.length?(i=new Gt,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function Vt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case'DirectionalLight':n={direction:new s.Vector3,color:new s.Color};break;case'SpotLight':n={position:new s.Vector3,direction:new s.Vector3,color:new s.Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case'PointLight':n={position:new s.Vector3,color:new s.Color,distance:0,decay:0};break;case'HemisphereLight':n={direction:new s.Vector3,skyColor:new s.Color,groundColor:new s.Color};break;case'RectAreaLight':n={color:new s.Color,position:new s.Vector3,halfWidth:new s.Vector3,halfHeight:new s.Vector3}}return e[t.id]=n,n}}}function jt(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case'DirectionalLight':case'SpotLight':n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.Vector2};break;case'PointLight':n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new s.Vector2,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}let kt=0;function Wt(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function zt(e){const t=new Vt,n=jt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let e=0;e<9;e++)r.probe.push(new s.Vector3);const i=new s.Vector3,a=new s.Matrix4,o=new s.Matrix4;return{setup:function(i){let a=0,o=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,f=0,p=0,m=0,g=0,_=0,h=0,v=0,S=0;i.sort(Wt);for(let e=0,d=i.length;e<d;e++){const d=i[e],E=d.color,T=d.intensity,M=d.distance,b=d.shadow&&d.shadow.map?d.shadow.map.texture:null;if(d.isAmbientLight)a+=E.r*T,o+=E.g*T,s+=E.b*T;else if(d.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(d.sh.coefficients[e],T);S++}else if(d.isDirectionalLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=b,r.directionalShadowMatrix[l]=d.shadow.matrix,m++}r.directional[l]=e,l++}else if(d.isSpotLight){const e=t.get(d);e.position.setFromMatrixPosition(d.matrixWorld),e.color.copy(E).multiplyScalar(T),e.distance=M,e.coneCos=Math.cos(d.angle),e.penumbraCos=Math.cos(d.angle*(1-d.penumbra)),e.decay=d.decay,r.spot[u]=e;const i=d.shadow;if(d.map&&(r.spotLightMap[h]=d.map,h++,i.updateMatrices(d),d.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,d.castShadow){const e=n.get(d);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=b,_++}u++}else if(d.isRectAreaLight){const e=t.get(d);e.color.copy(E).multiplyScalar(T),e.halfWidth.set(.5*d.width,0,0),e.halfHeight.set(0,.5*d.height,0),r.rectArea[f]=e,f++}else if(d.isPointLight){const e=t.get(d);if(e.color.copy(d.color).multiplyScalar(d.intensity),e.distance=d.distance,e.decay=d.decay,d.castShadow){const e=d.shadow,t=n.get(d);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=b,r.pointShadowMatrix[c]=d.shadow.matrix,g++}r.point[c]=e,c++}else if(d.isHemisphereLight){const e=t.get(d);e.skyColor.copy(d.color).multiplyScalar(T),e.groundColor.copy(d.groundColor).multiplyScalar(T),r.hemi[p]=e,p++}}f>0&&(!0===e.has('OES_texture_float_linear')?(r.rectAreaLTC1=d.LTC_FLOAT_1,r.rectAreaLTC2=d.LTC_FLOAT_2):(r.rectAreaLTC1=d.LTC_HALF_1,r.rectAreaLTC2=d.LTC_HALF_2)),r.ambient[0]=a,r.ambient[1]=o,r.ambient[2]=s;const E=r.hash;E.directionalLength===l&&E.pointLength===c&&E.spotLength===u&&E.rectAreaLength===f&&E.hemiLength===p&&E.numDirectionalShadows===m&&E.numPointShadows===g&&E.numSpotShadows===_&&E.numSpotMaps===h&&E.numLightProbes===S||(r.directional.length=l,r.spot.length=u,r.rectArea.length=f,r.point.length=c,r.hemi.length=p,r.directionalShadow.length=m,r.directionalShadowMap.length=m,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=m,r.pointShadowMatrix.length=g,r.spotLightMatrix.length=_+h-v,r.spotLightMap.length=h,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=S,E.directionalLength=l,E.pointLength=c,E.spotLength=u,E.rectAreaLength=f,E.hemiLength=p,E.numDirectionalShadows=m,E.numPointShadows=g,E.numSpotShadows=_,E.numSpotMaps=h,E.numLightProbes=S,r.version=kt++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let t=0,f=e.length;t<f;t++){const f=e[t];if(f.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),n++}else if(f.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(f.matrixWorld),i.setFromMatrixPosition(f.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(d),l++}else if(f.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(f.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*f.width,0,0),e.halfHeight.set(0,.5*f.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(f.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(f.matrixWorld),e.position.applyMatrix4(d),s++}else if(f.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(f.matrixWorld),e.direction.transformDirection(d),u++}}},state:r}}function Xt(e){const t=new zt(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function qt(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let a;return void 0===i?(a=new Xt(e),t.set(n,[a])):r>=i.length?(a=new Xt(e),i.push(a)):a=i[r],a},dispose:function(){t=new WeakMap}}}function Kt(e,t,n){let r=new s.Frustum;const i=new s.Vector2,a=new s.Vector2,o=new s.Vector4,l=new s.MeshDepthMaterial({depthPacking:s.RGBADepthPacking}),c=new s.MeshDistanceMaterial,u={},d=n.maxTextureSize,f={[s.FrontSide]:s.BackSide,[s.BackSide]:s.FrontSide,[s.DoubleSide]:s.DoubleSide},p=new s.ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new s.Vector2},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new s.BufferGeometry;g.setAttribute('position',new s.BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new s.Mesh(g,p),h=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s.PCFShadowMap;let v=this.type;function S(n,r){const a=t.update(_);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,m.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new s.WebGLRenderTarget(i.x,i.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,p,_,null),m.uniforms.shadow_pass.value=n.mapPass.texture,m.uniforms.resolution.value=n.mapSize,m.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,m,_,null)}function E(t,n,r,i){let a=null;const o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?c:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0||!0===n.alphaToCoverage){const e=a.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=a.clone(),r[t]=i,n.addEventListener('dispose',M)),a=i}if(a.visible=n.visible,a.wireframe=n.wireframe,i===s.VSMShadowMap?a.side=null!==n.shadowSide?n.shadowSide:n.side:a.side=null!==n.shadowSide?n.shadowSide:f[n.side],a.alphaMap=n.alphaMap,a.alphaTest=!0===n.alphaToCoverage?.5:n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial){e.properties.get(a).light=r}return a}function T(n,i,a,o,l){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&l===s.VSMShadowMap)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);const r=t.update(n),s=n.material;if(Array.isArray(s)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],d=s[u.materialIndex];if(d&&d.visible){const t=E(n,d,o,l);n.onBeforeShadow(e,n,i,a,r,t,u),e.renderBufferDirect(a,null,r,t,n,u),n.onAfterShadow(e,n,i,a,r,t,u)}}}else if(s.visible){const t=E(n,s,o,l);n.onBeforeShadow(e,n,i,a,r,t,null),e.renderBufferDirect(a,null,r,t,n,null),n.onAfterShadow(e,n,i,a,r,t,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)T(c[e],i,a,o,l)}function M(e){e.target.removeEventListener('dispose',M);for(const t in u){const n=u[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,l){if(!1===h.enabled)return;if(!1===h.autoUpdate&&!1===h.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.state;p.setBlending(s.NoBlending),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);const m=v!==s.VSMShadowMap&&this.type===s.VSMShadowMap,g=v===s.VSMShadowMap&&this.type!==s.VSMShadowMap;for(let c=0,u=t.length;c<u;c++){const u=t[c],f=u.shadow;if(void 0===f){console.warn('THREE.WebGLShadowMap:',u,'has no shadow.');continue}if(!1===f.autoUpdate&&!1===f.needsUpdate)continue;i.copy(f.mapSize);const _=f.getFrameExtents();if(i.multiply(_),a.copy(f.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/_.x),i.x=a.x*_.x,f.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/_.y),i.y=a.y*_.y,f.mapSize.y=a.y)),null===f.map||!0===m||!0===g){const e=this.type!==s.VSMShadowMap?{minFilter:s.NearestFilter,magFilter:s.NearestFilter}:{};null!==f.map&&f.map.dispose(),f.map=new s.WebGLRenderTarget(i.x,i.y,e),f.map.texture.name=u.name+'.shadowMap',f.camera.updateProjectionMatrix()}e.setRenderTarget(f.map),e.clear();const h=f.getViewportCount();for(let e=0;e<h;e++){const t=f.getViewport(e);o.set(a.x*t.x,a.y*t.y,a.x*t.z,a.y*t.w),p.viewport(o),f.updateMatrices(u,e),r=f.getFrustum(),T(n,l,f.camera,u,this.type)}!0!==f.isPointLightShadow&&this.type===s.VSMShadowMap&&S(f,l),f.needsUpdate=!1}v=this.type,h.needsUpdate=!1,e.setRenderTarget(c,u,f)}}const Yt={[s.NeverDepth]:s.AlwaysDepth,[s.LessDepth]:s.GreaterDepth,[s.EqualDepth]:s.NotEqualDepth,[s.LessEqualDepth]:s.GreaterEqualDepth,[s.AlwaysDepth]:s.NeverDepth,[s.GreaterDepth]:s.LessDepth,[s.NotEqualDepth]:s.EqualDepth,[s.GreaterEqualDepth]:s.LessEqualDepth};function Zt(e,t){const n=new(function(){let t=!1;const n=new s.Vector4;let r=null;const i=new s.Vector4(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}),r=new(function(){let n=!1,r=!1,i=null,a=null,o=null;return{setReversed:function(e){if(r!==e){const n=t.get('EXT_clip_control');e?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),r=e;const i=o;o=null,this.setClear(i)}},getReversed:function(){return r},setTest:function(t){t?V(e.DEPTH_TEST):j(e.DEPTH_TEST)},setMask:function(t){i===t||n||(e.depthMask(t),i=t)},setFunc:function(t){if(r&&(t=Yt[t]),a!==t){switch(t){case s.NeverDepth:e.depthFunc(e.NEVER);break;case s.AlwaysDepth:e.depthFunc(e.ALWAYS);break;case s.LessDepth:e.depthFunc(e.LESS);break;case s.LessEqualDepth:e.depthFunc(e.LEQUAL);break;case s.EqualDepth:e.depthFunc(e.EQUAL);break;case s.GreaterEqualDepth:e.depthFunc(e.GEQUAL);break;case s.GreaterDepth:e.depthFunc(e.GREATER);break;case s.NotEqualDepth:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}a=t}},setLocked:function(e){n=e},setClear:function(t){o!==t&&(r&&(t=1-t),e.clearDepth(t),o=t)},reset:function(){n=!1,i=null,a=null,o=null,r=!1}}}),i=new(function(){let t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):j(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,c=null}}}),a=new WeakMap,o=new WeakMap;let l={},c={},u=new WeakMap,d=[],f=null,p=!1,m=null,g=null,_=null,h=null,v=null,S=null,E=null,T=new s.Color(0,0,0),M=0,b=!1,x=null,R=null,A=null,C=null,P=null;const y=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let L=!1,D=0;const U=e.getParameter(e.VERSION);-1!==U.indexOf('WebGL')?(D=parseFloat(/^WebGL (\d)/.exec(U)[1]),L=D>=1):-1!==U.indexOf('OpenGL ES')&&(D=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),L=D>=2);let O=null,w={};const I=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),F=(new s.Vector4).fromArray(I),B=(new s.Vector4).fromArray(N);function G(t,n,r,i){const a=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let o=0;o<r;o++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage2D(n+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a);return o}const H={};function V(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function j(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}H[e.TEXTURE_2D]=G(e.TEXTURE_2D,e.TEXTURE_2D,1),H[e.TEXTURE_CUBE_MAP]=G(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),H[e.TEXTURE_2D_ARRAY]=G(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),H[e.TEXTURE_3D]=G(e.TEXTURE_3D,e.TEXTURE_3D,1,1),n.setClear(0,0,0,1),r.setClear(1),i.setClear(0),V(e.DEPTH_TEST),r.setFunc(s.LessEqualDepth),X(!1),q(s.CullFaceBack),V(e.CULL_FACE),z(s.NoBlending);const k={[s.AddEquation]:e.FUNC_ADD,[s.SubtractEquation]:e.FUNC_SUBTRACT,[s.ReverseSubtractEquation]:e.FUNC_REVERSE_SUBTRACT};k[s.MinEquation]=e.MIN,k[s.MaxEquation]=e.MAX;const W={[s.ZeroFactor]:e.ZERO,[s.OneFactor]:e.ONE,[s.SrcColorFactor]:e.SRC_COLOR,[s.SrcAlphaFactor]:e.SRC_ALPHA,[s.SrcAlphaSaturateFactor]:e.SRC_ALPHA_SATURATE,[s.DstColorFactor]:e.DST_COLOR,[s.DstAlphaFactor]:e.DST_ALPHA,[s.OneMinusSrcColorFactor]:e.ONE_MINUS_SRC_COLOR,[s.OneMinusSrcAlphaFactor]:e.ONE_MINUS_SRC_ALPHA,[s.OneMinusDstColorFactor]:e.ONE_MINUS_DST_COLOR,[s.OneMinusDstAlphaFactor]:e.ONE_MINUS_DST_ALPHA,[s.ConstantColorFactor]:e.CONSTANT_COLOR,[s.OneMinusConstantColorFactor]:e.ONE_MINUS_CONSTANT_COLOR,[s.ConstantAlphaFactor]:e.CONSTANT_ALPHA,[s.OneMinusConstantAlphaFactor]:e.ONE_MINUS_CONSTANT_ALPHA};function z(t,n,r,i,a,o,l,c,u,d){if(t!==s.NoBlending){if(!1===p&&(V(e.BLEND),p=!0),t===s.CustomBlending)a=a||n,o=o||r,l=l||i,n===g&&a===v||(e.blendEquationSeparate(k[n],k[a]),g=n,v=a),r===_&&i===h&&o===S&&l===E||(e.blendFuncSeparate(W[r],W[i],W[o],W[l]),_=r,h=i,S=o,E=l),!1!==c.equals(T)&&u===M||(e.blendColor(c.r,c.g,c.b,u),T.copy(c),M=u),m=t,b=!1;else if(t!==m||d!==b){if(g===s.AddEquation&&v===s.AddEquation||(e.blendEquation(e.FUNC_ADD),g=s.AddEquation,v=s.AddEquation),d)switch(t){case s.NormalBlending:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.AdditiveBlending:e.blendFunc(e.ONE,e.ONE);break;case s.SubtractiveBlending:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case s.MultiplyBlending:e.blendFuncSeparate(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ZERO,e.ONE);break;default:console.error('THREE.WebGLState: Invalid blending: ',t)}else switch(t){case s.NormalBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case s.AdditiveBlending:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case s.SubtractiveBlending:console.error('THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true');break;case s.MultiplyBlending:console.error('THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true');break;default:console.error('THREE.WebGLState: Invalid blending: ',t)}_=null,h=null,S=null,E=null,T.set(0,0,0),M=0,m=t,b=d}}else!0===p&&(j(e.BLEND),p=!1)}function X(t){x!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),x=t)}function q(t){t!==s.CullFaceNone?(V(e.CULL_FACE),t!==R&&(t===s.CullFaceBack?e.cullFace(e.BACK):t===s.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):j(e.CULL_FACE),R=t}function K(t,n,r){t?(V(e.POLYGON_OFFSET_FILL),C===n&&P===r||(e.polygonOffset(n,r),C=n,P=r)):j(e.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:r,stencil:i},enable:V,disable:j,bindFramebuffer:function(t,n){return c[t]!==n&&(e.bindFramebuffer(t,n),c[t]=n,t===e.DRAW_FRAMEBUFFER&&(c[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(c[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=d,i=!1;if(t){r=u.get(n),void 0===r&&(r=[],u.set(n,r));const a=t.textures;if(r.length!==a.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=a.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=a.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:z,setMaterial:function(t,a){t.side===s.DoubleSide?j(e.CULL_FACE):V(e.CULL_FACE);let o=t.side===s.BackSide;a&&(o=!o),X(o),t.blending===s.NormalBlending&&!1===t.transparent?z(s.NoBlending):z(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),r.setFunc(t.depthFunc),r.setTest(t.depthTest),r.setMask(t.depthWrite),n.setMask(t.colorWrite);const l=t.stencilWrite;i.setTest(l),l&&(i.setMask(t.stencilWriteMask),i.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),i.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),K(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):j(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:X,setCullFace:q,setLineWidth:function(t){t!==A&&(L&&e.lineWidth(t),A=t)},setPolygonOffset:K,setScissorTest:function(t){t?V(e.SCISSOR_TEST):j(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+y-1),O!==t&&(e.activeTexture(t),O=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===O?e.TEXTURE0+y-1:O);let i=w[r];void 0===i&&(i={type:void 0,texture:void 0},w[r]=i),i.type===t&&i.texture===n||(O!==r&&(e.activeTexture(r),O=r),e.bindTexture(t,n||H[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=w[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},compressedTexImage3D:function(){try{e.compressedTexImage3D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texImage2D:function(){try{e.texImage2D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texImage3D:function(){try{e.texImage3D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);a.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),a.set(n,r))},texStorage2D:function(){try{e.texStorage2D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texStorage3D:function(){try{e.texStorage3D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texSubImage2D:function(){try{e.texSubImage2D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},texSubImage3D:function(){try{e.texSubImage3D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D(...arguments)}catch(e){console.error('THREE.WebGLState:',e)}},scissor:function(t){!1===F.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),F.copy(t))},viewport:function(t){!1===B.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),B.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),r.setReversed(!1),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),l={},O=null,w={},c={},u=new WeakMap,d=[],f=null,p=!1,m=null,g=null,_=null,h=null,v=null,S=null,E=null,T=new s.Color(0,0,0),M=0,b=!1,x=null,R=null,A=null,C=null,P=null,F.set(0,0,e.canvas.width,e.canvas.height),B.set(0,0,e.canvas.width,e.canvas.height),n.reset(),r.reset(),i.reset()}}}function $t(e,t,n,r,i,a,o){const l=t.has('WEBGL_multisampled_render_to_texture')?t.get('WEBGL_multisampled_render_to_texture'):null,c='undefined'!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),u=new s.Vector2,d=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m='undefined'!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext('2d')}catch(e){}function g(e,t){return m?new OffscreenCanvas(e,t):(0,s.createElementNS)('canvas')}function _(e,t,n){let r=1;const i=Z(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if('undefined'!=typeof HTMLImageElement&&e instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&e instanceof ImageBitmap||'undefined'!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),a=Math.floor(r*i.height);void 0===f&&(f=g(n,a));const o=t?g(n,a):f;o.width=n,o.height=a;return o.getContext('2d').drawImage(e,0,0,n,a),console.warn('THREE.WebGLRenderer: Texture has been resized from ('+i.width+'x'+i.height+') to ('+n+'x'+a+').'),o}return'data'in e&&console.warn('THREE.WebGLRenderer: Image in DataTexture is too big ('+i.width+'x'+i.height+').'),e}return e}function h(e){return e.generateMipmaps}function v(t){e.generateMipmap(t)}function S(t){return t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:t.isWebGL3DRenderTarget?e.TEXTURE_3D:t.isWebGLArrayRenderTarget||t.isCompressedArrayTexture?e.TEXTURE_2D_ARRAY:e.TEXTURE_2D}function E(n,r,i,a,o=!1){if(null!==n){if(void 0!==e[n])return e[n];console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \''+n+'\'')}let l=r;if(r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.R8UI),i===e.UNSIGNED_SHORT&&(l=e.R16UI),i===e.UNSIGNED_INT&&(l=e.R32UI),i===e.BYTE&&(l=e.R8I),i===e.SHORT&&(l=e.R16I),i===e.INT&&(l=e.R32I)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RG8UI),i===e.UNSIGNED_SHORT&&(l=e.RG16UI),i===e.UNSIGNED_INT&&(l=e.RG32UI),i===e.BYTE&&(l=e.RG8I),i===e.SHORT&&(l=e.RG16I),i===e.INT&&(l=e.RG32I)),r===e.RGB_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGB8UI),i===e.UNSIGNED_SHORT&&(l=e.RGB16UI),i===e.UNSIGNED_INT&&(l=e.RGB32UI),i===e.BYTE&&(l=e.RGB8I),i===e.SHORT&&(l=e.RGB16I),i===e.INT&&(l=e.RGB32I)),r===e.RGBA_INTEGER&&(i===e.UNSIGNED_BYTE&&(l=e.RGBA8UI),i===e.UNSIGNED_SHORT&&(l=e.RGBA16UI),i===e.UNSIGNED_INT&&(l=e.RGBA32UI),i===e.BYTE&&(l=e.RGBA8I),i===e.SHORT&&(l=e.RGBA16I),i===e.INT&&(l=e.RGBA32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(l=e.RGB9_E5),r===e.RGBA){const t=o?s.LinearTransfer:s.ColorManagement.getTransfer(a);i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=t===s.SRGBTransfer?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)}return l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get('EXT_color_buffer_float'),l}function T(t,n){let r;return t?null===n||n===s.UnsignedIntType||n===s.UnsignedInt248Type?r=e.DEPTH24_STENCIL8:n===s.FloatType?r=e.DEPTH32F_STENCIL8:n===s.UnsignedShortType&&(r=e.DEPTH24_STENCIL8,console.warn('DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.')):null===n||n===s.UnsignedIntType||n===s.UnsignedInt248Type?r=e.DEPTH_COMPONENT24:n===s.FloatType?r=e.DEPTH_COMPONENT32F:n===s.UnsignedShortType&&(r=e.DEPTH_COMPONENT16),r}function M(e,t){return!0===h(e)||e.isFramebufferTexture&&e.minFilter!==s.NearestFilter&&e.minFilter!==s.LinearFilter?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function b(e){const t=e.target;t.removeEventListener('dispose',b),R(t),t.isVideoTexture&&d.delete(t)}function x(e){const t=e.target;t.removeEventListener('dispose',x),C(t)}function R(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=p.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&A(e),0===Object.keys(i).length&&p.delete(n)}r.remove(e)}function A(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete p.get(i)[n.__cacheKey],o.memory.textures--}function C(t){const n=r.get(t);if(t.depthTexture&&(t.depthTexture.dispose(),r.remove(t.depthTexture)),t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++){if(Array.isArray(n.__webglFramebuffer[t]))for(let r=0;r<n.__webglFramebuffer[t].length;r++)e.deleteFramebuffer(n.__webglFramebuffer[t][r]);else e.deleteFramebuffer(n.__webglFramebuffer[t]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let t=0,n=i.length;t<n;t++){const n=r.get(i[t]);n.__webglTexture&&(e.deleteTexture(n.__webglTexture),o.memory.textures--),r.remove(i[t])}r.remove(t)}let P=0;function y(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}function L(t,i){const a=r.get(t);if(t.isVideoTexture&&K(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){const e=t.image;if(null===e)console.warn('THREE.WebGLRenderer: Texture marked for update but no image data found.');else{if(!1!==e.complete)return void B(a,t,i);console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete')}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}const D={[s.RepeatWrapping]:e.REPEAT,[s.ClampToEdgeWrapping]:e.CLAMP_TO_EDGE,[s.MirroredRepeatWrapping]:e.MIRRORED_REPEAT},U={[s.NearestFilter]:e.NEAREST,[s.NearestMipmapNearestFilter]:e.NEAREST_MIPMAP_NEAREST,[s.NearestMipmapLinearFilter]:e.NEAREST_MIPMAP_LINEAR,[s.LinearFilter]:e.LINEAR,[s.LinearMipmapNearestFilter]:e.LINEAR_MIPMAP_NEAREST,[s.LinearMipmapLinearFilter]:e.LINEAR_MIPMAP_LINEAR},O={[s.NeverCompare]:e.NEVER,[s.AlwaysCompare]:e.ALWAYS,[s.LessCompare]:e.LESS,[s.LessEqualCompare]:e.LEQUAL,[s.EqualCompare]:e.EQUAL,[s.GreaterEqualCompare]:e.GEQUAL,[s.GreaterCompare]:e.GREATER,[s.NotEqualCompare]:e.NOTEQUAL};function w(n,a){if(a.type!==s.FloatType||!1!==t.has('OES_texture_float_linear')||a.magFilter!==s.LinearFilter&&a.magFilter!==s.LinearMipmapNearestFilter&&a.magFilter!==s.NearestMipmapLinearFilter&&a.magFilter!==s.LinearMipmapLinearFilter&&a.minFilter!==s.LinearFilter&&a.minFilter!==s.LinearMipmapNearestFilter&&a.minFilter!==s.NearestMipmapLinearFilter&&a.minFilter!==s.LinearMipmapLinearFilter||console.warn('THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device.'),e.texParameteri(n,e.TEXTURE_WRAP_S,D[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,D[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,D[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,U[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,U[a.minFilter]),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,O[a.compareFunction])),!0===t.has('EXT_texture_filter_anisotropic')){if(a.magFilter===s.NearestFilter)return;if(a.minFilter!==s.NearestMipmapLinearFilter&&a.minFilter!==s.LinearMipmapLinearFilter)return;if(a.type===s.FloatType&&!1===t.has('OES_texture_float_linear'))return;if(a.anisotropy>1||r.get(a).__currentAnisotropy){const o=t.get('EXT_texture_filter_anisotropic');e.texParameterf(n,o.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy}}}function I(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener('dispose',b));const i=n.source;let a=p.get(i);void 0===a&&(a={},p.set(i,a));const s=y(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;const i=a[t.__cacheKey];void 0!==i&&(a[t.__cacheKey].usedTimes--,0===i.usedTimes&&A(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function N(e,t,n){return Math.floor(Math.floor(e/n)/t)}function F(t,r,i,a){const o=t.updateRanges;if(0===o.length)n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,i,a,r.data);else{o.sort((e,t)=>e.start-t.start);let s=0;for(let e=1;e<o.length;e++){const t=o[s],n=o[e],i=t.start+t.count,a=N(n.start,r.width,4),l=N(t.start,r.width,4);n.start<=i+1&&a===l&&N(n.start+n.count-1,r.width,4)===a?t.count=Math.max(t.count,n.start+n.count-t.start):(++s,o[s]=n)}o.length=s+1;const l=e.getParameter(e.UNPACK_ROW_LENGTH),c=e.getParameter(e.UNPACK_SKIP_PIXELS),u=e.getParameter(e.UNPACK_SKIP_ROWS);e.pixelStorei(e.UNPACK_ROW_LENGTH,r.width);for(let t=0,s=o.length;t<s;t++){const s=o[t],l=Math.floor(s.start/4),c=Math.ceil(s.count/4),u=l%r.width,d=Math.floor(l/r.width),f=c,p=1;e.pixelStorei(e.UNPACK_SKIP_PIXELS,u),e.pixelStorei(e.UNPACK_SKIP_ROWS,d),n.texSubImage2D(e.TEXTURE_2D,0,u,d,f,p,i,a,r.data)}t.clearUpdateRanges(),e.pixelStorei(e.UNPACK_ROW_LENGTH,l),e.pixelStorei(e.UNPACK_SKIP_PIXELS,c),e.pixelStorei(e.UNPACK_SKIP_ROWS,u)}}function B(t,o,l){let c=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(c=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(c=e.TEXTURE_3D);const u=I(t,o),d=o.source;n.bindTexture(c,t.__webglTexture,e.TEXTURE0+l);const f=r.get(d);if(d.version!==f.__version||!0===u){n.activeTexture(e.TEXTURE0+l);const t=s.ColorManagement.getPrimaries(s.ColorManagement.workingColorSpace),r=o.colorSpace===s.NoColorSpace?null:s.ColorManagement.getPrimaries(o.colorSpace),p=o.colorSpace===s.NoColorSpace||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);let m=_(o.image,!1,i.maxTextureSize);m=Y(o,m);const g=a.convert(o.format,o.colorSpace),S=a.convert(o.type);let b,x=E(o.internalFormat,g,S,o.colorSpace,o.isVideoTexture);w(c,o);const R=o.mipmaps,A=!0!==o.isVideoTexture,C=void 0===f.__version||!0===u,P=d.dataReady,y=M(o,m);if(o.isDepthTexture)x=T(o.format===s.DepthStencilFormat,o.type),C&&(A?n.texStorage2D(e.TEXTURE_2D,1,x,m.width,m.height):n.texImage2D(e.TEXTURE_2D,0,x,m.width,m.height,0,g,S,null));else if(o.isDataTexture)if(R.length>0){A&&C&&n.texStorage2D(e.TEXTURE_2D,y,x,R[0].width,R[0].height);for(let t=0,r=R.length;t<r;t++)b=R[t],A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,S,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,g,S,b.data);o.generateMipmaps=!1}else A?(C&&n.texStorage2D(e.TEXTURE_2D,y,x,m.width,m.height),P&&F(o,m,g,S)):n.texImage2D(e.TEXTURE_2D,0,x,m.width,m.height,0,g,S,m.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){A&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,y,x,R[0].width,R[0].height,m.depth);for(let t=0,r=R.length;t<r;t++)if(b=R[t],o.format!==s.RGBAFormat)if(null!==g)if(A){if(P)if(o.layerUpdates.size>0){const r=(0,s.getByteLength)(b.width,b.height,o.format,o.type);for(const i of o.layerUpdates){const a=b.data.subarray(i*r/b.data.BYTES_PER_ELEMENT,(i+1)*r/b.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,b.width,b.height,1,g,a)}o.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,m.depth,g,b.data)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,m.depth,0,b.data,0,0);else console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');else A?P&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,b.width,b.height,m.depth,g,S,b.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,x,b.width,b.height,m.depth,0,g,S,b.data)}else{A&&C&&n.texStorage2D(e.TEXTURE_2D,y,x,R[0].width,R[0].height);for(let t=0,r=R.length;t<r;t++)b=R[t],o.format!==s.RGBAFormat?null!==g?A?P&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,b.data):n.compressedTexImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,b.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()'):A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,b.width,b.height,g,S,b.data):n.texImage2D(e.TEXTURE_2D,t,x,b.width,b.height,0,g,S,b.data)}else if(o.isDataArrayTexture)if(A){if(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,y,x,m.width,m.height,m.depth),P)if(o.layerUpdates.size>0){const t=(0,s.getByteLength)(m.width,m.height,o.format,o.type);for(const r of o.layerUpdates){const i=m.data.subarray(r*t/m.data.BYTES_PER_ELEMENT,(r+1)*t/m.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,m.width,m.height,1,g,S,i)}o.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,m.width,m.height,m.depth,g,S,m.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,x,m.width,m.height,m.depth,0,g,S,m.data);else if(o.isData3DTexture)A?(C&&n.texStorage3D(e.TEXTURE_3D,y,x,m.width,m.height,m.depth),P&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,m.width,m.height,m.depth,g,S,m.data)):n.texImage3D(e.TEXTURE_3D,0,x,m.width,m.height,m.depth,0,g,S,m.data);else if(o.isFramebufferTexture){if(C)if(A)n.texStorage2D(e.TEXTURE_2D,y,x,m.width,m.height);else{let t=m.width,r=m.height;for(let i=0;i<y;i++)n.texImage2D(e.TEXTURE_2D,i,x,t,r,0,g,S,null),t>>=1,r>>=1}}else if(R.length>0){if(A&&C){const t=Z(R[0]);n.texStorage2D(e.TEXTURE_2D,y,x,t.width,t.height)}for(let t=0,r=R.length;t<r;t++)b=R[t],A?P&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,g,S,b):n.texImage2D(e.TEXTURE_2D,t,x,g,S,b);o.generateMipmaps=!1}else if(A){if(C){const t=Z(m);n.texStorage2D(e.TEXTURE_2D,y,x,t.width,t.height)}P&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,g,S,m)}else n.texImage2D(e.TEXTURE_2D,0,x,g,S,m);h(o)&&v(c),f.__version=d.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function G(t,o,l){if(6!==o.image.length)return;const c=I(t,o),u=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+l);const d=r.get(u);if(u.version!==d.__version||!0===c){n.activeTexture(e.TEXTURE0+l);const t=s.ColorManagement.getPrimaries(s.ColorManagement.workingColorSpace),r=o.colorSpace===s.NoColorSpace?null:s.ColorManagement.getPrimaries(o.colorSpace),f=o.colorSpace===s.NoColorSpace||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);const p=o.isCompressedTexture||o.image[0].isCompressedTexture,m=o.image[0]&&o.image[0].isDataTexture,g=[];for(let e=0;e<6;e++)g[e]=p||m?m?o.image[e].image:o.image[e]:_(o.image[e],!0,i.maxCubemapSize),g[e]=Y(o,g[e]);const S=g[0],T=a.convert(o.format,o.colorSpace),b=a.convert(o.type),x=E(o.internalFormat,T,b,o.colorSpace),R=!0!==o.isVideoTexture,A=void 0===d.__version||!0===c,C=u.dataReady;let P,y=M(o,S);if(w(e.TEXTURE_CUBE_MAP,o),p){R&&A&&n.texStorage2D(e.TEXTURE_CUBE_MAP,y,x,S.width,S.height);for(let t=0;t<6;t++){P=g[t].mipmaps;for(let r=0;r<P.length;r++){const i=P[r];o.format!==s.RGBAFormat?null!==T?R?C&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,T,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,i.width,i.height,0,i.data):console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()'):R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,T,b,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,x,i.width,i.height,0,T,b,i.data)}}}else{if(P=o.mipmaps,R&&A){P.length>0&&y++;const t=Z(g[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,y,x,t.width,t.height)}for(let t=0;t<6;t++)if(m){R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,g[t].width,g[t].height,T,b,g[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,g[t].width,g[t].height,0,T,b,g[t].data);for(let r=0;r<P.length;r++){const i=P[r].image[t].image;R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,T,b,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,i.width,i.height,0,T,b,i.data)}}else{R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,T,b,g[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,x,T,b,g[t]);for(let r=0;r<P.length;r++){const i=P[r];R?C&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,T,b,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,x,T,b,i.image[t])}}}h(o)&&v(e.TEXTURE_CUBE_MAP),d.__version=u.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function H(t,i,o,s,c,u){const d=a.convert(o.format,o.colorSpace),f=a.convert(o.type),p=E(o.internalFormat,d,f,o.colorSpace),m=r.get(i),g=r.get(o);if(g.__renderTarget=i,!m.__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,p,t,r,i.depth,0,d,f,null):n.texImage2D(c,u,p,t,r,0,d,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,c,g.__webglTexture,0,X(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,c,g.__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function V(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,a=i&&i.isDepthTexture?i.type:null,o=T(n.stencilBuffer,a),s=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=X(n);q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,o,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,o,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,o,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,s,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const o=t[i],s=a.convert(o.format,o.colorSpace),c=a.convert(o.type),u=E(o.internalFormat,s,c,o.colorSpace),d=X(n);r&&!1===q(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,d,u,n.width,n.height):q(n)?l.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,d,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function j(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error('Depth Texture with cube render targets is not supported');if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');const a=r.get(i.depthTexture);a.__renderTarget=i,a.__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),L(i.depthTexture,0);const o=a.__webglTexture,c=X(i);if(i.depthTexture.format===s.DepthFormat)q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==s.DepthStencilFormat)throw new Error('Unknown depthTexture format');q(i)?l.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,c):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}function k(t){const i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(i.__boundDepthTexture!==t.depthTexture){const e=t.depthTexture;if(i.__depthDisposeCallback&&i.__depthDisposeCallback(),e){const t=()=>{delete i.__boundDepthTexture,delete i.__depthDisposeCallback,e.removeEventListener('dispose',t)};e.addEventListener('dispose',t),i.__depthDisposeCallback=t}i.__boundDepthTexture=e}if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error('target.depthTexture not supported in Cube render targets');const e=t.texture.mipmaps;e&&e.length>0?j(i.__webglFramebuffer[0],t):j(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)if(n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),void 0===i.__webglDepthbuffer[r])i.__webglDepthbuffer[r]=e.createRenderbuffer(),V(i.__webglDepthbuffer[r],t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,a=i.__webglDepthbuffer[r];e.bindRenderbuffer(e.RENDERBUFFER,a),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,a)}}else{const r=t.texture.mipmaps;if(r&&r.length>0?n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[0]):n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),void 0===i.__webglDepthbuffer)i.__webglDepthbuffer=e.createRenderbuffer(),V(i.__webglDepthbuffer,t,!1);else{const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,r=i.__webglDepthbuffer;e.bindRenderbuffer(e.RENDERBUFFER,r),e.framebufferRenderbuffer(e.FRAMEBUFFER,n,e.RENDERBUFFER,r)}}n.bindFramebuffer(e.FRAMEBUFFER,null)}const W=[],z=[];function X(e){return Math.min(i.maxSamples,e.samples)}function q(e){const n=r.get(e);return e.samples>0&&!0===t.has('WEBGL_multisampled_render_to_texture')&&!1!==n.__useRenderToTexture}function K(e){const t=o.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}function Y(e,t){const n=e.colorSpace,r=e.format,i=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==s.LinearSRGBColorSpace&&n!==s.NoColorSpace&&(s.ColorManagement.getTransfer(n)===s.SRGBTransfer?r===s.RGBAFormat&&i===s.UnsignedByteType||console.warn('THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.'):console.error('THREE.WebGLTextures: Unsupported texture color space:',n)),t}function Z(e){return'undefined'!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(u.width=e.naturalWidth||e.width,u.height=e.naturalHeight||e.height):'undefined'!=typeof VideoFrame&&e instanceof VideoFrame?(u.width=e.displayWidth,u.height=e.displayHeight):(u.width=e.width,u.height=e.height),u}this.allocateTextureUnit=function(){const e=P;return e>=i.maxTextures&&console.warn('THREE.WebGLTextures: Trying to use '+e+' texture units while this GPU supports only '+i.maxTextures),P+=1,e},this.resetTextureUnits=function(){P=0},this.setTexture2D=L,this.setTexture2DArray=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?B(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?G(a,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+i)},this.rebindTextures=function(t,n,i){const a=r.get(t);void 0!==n&&H(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&k(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener('dispose',x);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,o.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(d)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),o.memory.textures++)}if(t.samples>0&&!1===q(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=a.convert(r.format,r.colorSpace),o=a.convert(r.type),l=E(r.internalFormat,i,o,r.colorSpace,!0===t.isXRRenderTarget),u=X(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),V(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),w(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)H(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else H(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);h(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let i=0,a=c.length;i<a;i++){const a=c[i],o=r.get(a);n.bindTexture(e.TEXTURE_2D,o.__webglTexture),w(e.TEXTURE_2D,a),H(s.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),h(a)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),w(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)H(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else H(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);h(i)&&v(r),n.unbindTexture()}t.depthBuffer&&k(t)},this.updateRenderTargetMipmap=function(e){const t=e.textures;for(let i=0,a=t.length;i<a;i++){const a=t[i];if(h(a)){const t=S(e),i=r.get(a).__webglTexture;n.bindTexture(t,i),v(t),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===q(t)){const i=t.textures,a=t.width,o=t.height;let s=e.COLOR_BUFFER_BIT;const l=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=i.length>1;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer);const f=t.texture.mipmaps;f&&f.length>0?n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer[0]):n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),!0===c&&(W.length=0,z.length=0,W.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(W.push(l),z.push(l),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,z)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,W))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const a=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,a,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&c){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=k,this.setupFrameBufferTexture=H,this.useMultisampledRTT=q}function Qt(e,t){return{convert:function(n,r=s.NoColorSpace){let i;const a=s.ColorManagement.getTransfer(r);if(n===s.UnsignedByteType)return e.UNSIGNED_BYTE;if(n===s.UnsignedShort4444Type)return e.UNSIGNED_SHORT_4_4_4_4;if(n===s.UnsignedShort5551Type)return e.UNSIGNED_SHORT_5_5_5_1;if(n===s.UnsignedInt5999Type)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===s.ByteType)return e.BYTE;if(n===s.ShortType)return e.SHORT;if(n===s.UnsignedShortType)return e.UNSIGNED_SHORT;if(n===s.IntType)return e.INT;if(n===s.UnsignedIntType)return e.UNSIGNED_INT;if(n===s.FloatType)return e.FLOAT;if(n===s.HalfFloatType)return e.HALF_FLOAT;if(n===s.AlphaFormat)return e.ALPHA;if(n===s.RGBFormat)return e.RGB;if(n===s.RGBAFormat)return e.RGBA;if(n===s.DepthFormat)return e.DEPTH_COMPONENT;if(n===s.DepthStencilFormat)return e.DEPTH_STENCIL;if(n===s.RedFormat)return e.RED;if(n===s.RedIntegerFormat)return e.RED_INTEGER;if(n===s.RGFormat)return e.RG;if(n===s.RGIntegerFormat)return e.RG_INTEGER;if(n===s.RGBAIntegerFormat)return e.RGBA_INTEGER;if(n===s.RGB_S3TC_DXT1_Format||n===s.RGBA_S3TC_DXT1_Format||n===s.RGBA_S3TC_DXT3_Format||n===s.RGBA_S3TC_DXT5_Format)if(a===s.SRGBTransfer){if(i=t.get('WEBGL_compressed_texture_s3tc_srgb'),null===i)return null;if(n===s.RGB_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===s.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get('WEBGL_compressed_texture_s3tc'),null===i)return null;if(n===s.RGB_S3TC_DXT1_Format)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT1_Format)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===s.RGBA_S3TC_DXT3_Format)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===s.RGBA_S3TC_DXT5_Format)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===s.RGB_PVRTC_4BPPV1_Format||n===s.RGB_PVRTC_2BPPV1_Format||n===s.RGBA_PVRTC_4BPPV1_Format||n===s.RGBA_PVRTC_2BPPV1_Format){if(i=t.get('WEBGL_compressed_texture_pvrtc'),null===i)return null;if(n===s.RGB_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===s.RGB_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===s.RGBA_PVRTC_4BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===s.RGBA_PVRTC_2BPPV1_Format)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===s.RGB_ETC1_Format||n===s.RGB_ETC2_Format||n===s.RGBA_ETC2_EAC_Format){if(i=t.get('WEBGL_compressed_texture_etc'),null===i)return null;if(n===s.RGB_ETC1_Format||n===s.RGB_ETC2_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===s.RGBA_ETC2_EAC_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===s.RGBA_ASTC_4x4_Format||n===s.RGBA_ASTC_5x4_Format||n===s.RGBA_ASTC_5x5_Format||n===s.RGBA_ASTC_6x5_Format||n===s.RGBA_ASTC_6x6_Format||n===s.RGBA_ASTC_8x5_Format||n===s.RGBA_ASTC_8x6_Format||n===s.RGBA_ASTC_8x8_Format||n===s.RGBA_ASTC_10x5_Format||n===s.RGBA_ASTC_10x6_Format||n===s.RGBA_ASTC_10x8_Format||n===s.RGBA_ASTC_10x10_Format||n===s.RGBA_ASTC_12x10_Format||n===s.RGBA_ASTC_12x12_Format){if(i=t.get('WEBGL_compressed_texture_astc'),null===i)return null;if(n===s.RGBA_ASTC_4x4_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===s.RGBA_ASTC_5x4_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===s.RGBA_ASTC_5x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===s.RGBA_ASTC_6x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===s.RGBA_ASTC_6x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===s.RGBA_ASTC_8x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===s.RGBA_ASTC_8x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===s.RGBA_ASTC_8x8_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===s.RGBA_ASTC_10x5_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===s.RGBA_ASTC_10x6_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===s.RGBA_ASTC_10x8_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===s.RGBA_ASTC_10x10_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===s.RGBA_ASTC_12x10_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===s.RGBA_ASTC_12x12_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===s.RGBA_BPTC_Format||n===s.RGB_BPTC_SIGNED_Format||n===s.RGB_BPTC_UNSIGNED_Format){if(i=t.get('EXT_texture_compression_bptc'),null===i)return null;if(n===s.RGBA_BPTC_Format)return a===s.SRGBTransfer?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===s.RGB_BPTC_SIGNED_Format)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===s.RGB_BPTC_UNSIGNED_Format)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===s.RED_RGTC1_Format||n===s.SIGNED_RED_RGTC1_Format||n===s.RED_GREEN_RGTC2_Format||n===s.SIGNED_RED_GREEN_RGTC2_Format){if(i=t.get('EXT_texture_compression_rgtc'),null===i)return null;if(n===s.RGBA_BPTC_Format)return i.COMPRESSED_RED_RGTC1_EXT;if(n===s.SIGNED_RED_RGTC1_Format)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===s.RED_GREEN_RGTC2_Format)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===s.SIGNED_RED_GREEN_RGTC2_Format)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===s.UnsignedInt248Type?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Jt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new s.Texture;e.properties.get(r).__webglTexture=t.texture,t.depthNear===n.depthNear&&t.depthFar===n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new s.ShaderMaterial({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new s.Mesh(new s.PlaneGeometry(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class en extends s.EventDispatcher{constructor(e,t){super();const n=this;let r=null,i=1,a=null,o='local-floor',c=1,u=null,d=null,f=null,p=null,m=null,g=null;const _=new Jt,h=t.getContextAttributes();let v=null,S=null;const E=[],T=[],M=new s.Vector2;let b=null;const x=new s.PerspectiveCamera;x.viewport=new s.Vector4;const R=new s.PerspectiveCamera;R.viewport=new s.Vector4;const A=[x,R],C=new s.ArrayCamera;let P=null,y=null;function L(e){const t=T.indexOf(e.inputSource);if(-1===t)return;const n=E[t];void 0!==n&&(n.update(e.inputSource,e.frame,u||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function D(){r.removeEventListener('select',L),r.removeEventListener('selectstart',L),r.removeEventListener('selectend',L),r.removeEventListener('squeeze',L),r.removeEventListener('squeezestart',L),r.removeEventListener('squeezeend',L),r.removeEventListener('end',D),r.removeEventListener('inputsourceschange',U);for(let e=0;e<E.length;e++){const t=T[e];null!==t&&(T[e]=null,E[e].disconnect(t))}P=null,y=null,_.reset(),e.setRenderTarget(v),m=null,p=null,f=null,r=null,S=null,G.stop(),n.isPresenting=!1,e.setPixelRatio(b),e.setSize(M.width,M.height,!1),n.dispatchEvent({type:'sessionend'})}function U(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=T.indexOf(n);r>=0&&(T[r]=null,E[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=T.indexOf(n);if(-1===r){for(let e=0;e<E.length;e++){if(e>=T.length){T.push(n),r=e;break}if(null===T[e]){T[e]=n,r=e;break}}if(-1===r)break}const i=E[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=E[e];return void 0===t&&(t=new s.WebXRController,E[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=E[e];return void 0===t&&(t=new s.WebXRController,E[e]=t),t.getGripSpace()},this.getHand=function(e){let t=E[e];return void 0===t&&(t=new s.WebXRController,E[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.')},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn('THREE.WebXRManager: Cannot change reference space type while presenting.')},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(e){u=e},this.getBaseLayer=function(){return null!==p?p:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=async function(l){if(r=l,null!==r){v=e.getRenderTarget(),r.addEventListener('select',L),r.addEventListener('selectstart',L),r.addEventListener('selectend',L),r.addEventListener('squeeze',L),r.addEventListener('squeezestart',L),r.addEventListener('squeezeend',L),r.addEventListener('end',D),r.addEventListener('inputsourceschange',U),!0!==h.xrCompatible&&await t.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(M);if('undefined'!=typeof XRWebGLBinding&&'createProjectionLayer'in XRWebGLBinding.prototype){let n=null,a=null,o=null;h.depth&&(o=h.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=h.stencil?s.DepthStencilFormat:s.DepthFormat,a=h.stencil?s.UnsignedInt248Type:s.UnsignedIntType);const l={colorFormat:t.RGBA8,depthFormat:o,scaleFactor:i};f=new XRWebGLBinding(r,t),p=f.createProjectionLayer(l),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),S=new s.WebGLRenderTarget(p.textureWidth,p.textureHeight,{format:s.RGBAFormat,type:s.UnsignedByteType,depthTexture:new s.DepthTexture(p.textureWidth,p.textureHeight,a,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:h.stencil,colorSpace:e.outputColorSpace,samples:h.antialias?4:0,resolveDepthBuffer:!1===p.ignoreDepthValues,resolveStencilBuffer:!1===p.ignoreDepthValues})}else{const n={antialias:h.antialias,alpha:!0,depth:h.depth,stencil:h.stencil,framebufferScaleFactor:i};m=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new s.WebGLRenderTarget(m.framebufferWidth,m.framebufferHeight,{format:s.RGBAFormat,type:s.UnsignedByteType,colorSpace:e.outputColorSpace,stencilBuffer:h.stencil,resolveDepthBuffer:!1===m.ignoreDepthValues,resolveStencilBuffer:!1===m.ignoreDepthValues})}S.isXRRenderTarget=!0,this.setFoveation(c),u=null,a=await r.requestReferenceSpace(o),G.setContext(r),G.start(),n.isPresenting=!0,n.dispatchEvent({type:'sessionstart'})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return _.getDepthTexture()};const O=new s.Vector3,w=new s.Vector3;function I(e,t,n){O.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);const r=O.distanceTo(w),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(a[8]+1)/a[0],f=o*u,p=o*d,m=r/(-u+d),g=m*-u;if(t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(g),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),-1===i[10])e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse);else{const t=o+m,n=s+m,i=f-g,a=p+(r-g),u=l*s/n*t,d=c*s/n*t;e.projectionMatrix.makePerspective(i,a,u,d,t,n),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}}function N(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}function F(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*s.RAD2DEG*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}this.updateCamera=function(e){if(null===r)return;let t=e.near,n=e.far;null!==_.texture&&(_.depthNear>0&&(t=_.depthNear),_.depthFar>0&&(n=_.depthFar)),C.near=R.near=x.near=t,C.far=R.far=x.far=n,P===C.near&&y===C.far||(r.updateRenderState({depthNear:C.near,depthFar:C.far}),P=C.near,y=C.far),x.layers.mask=2|e.layers.mask,R.layers.mask=4|e.layers.mask,C.layers.mask=x.layers.mask|R.layers.mask;const i=e.parent,a=C.cameras;N(C,i);for(let e=0;e<a.length;e++)N(a[e],i);2===a.length?I(C,x,R):C.projectionMatrix.copy(x.projectionMatrix),F(e,C,i)},this.getCamera=function(){return C},this.getFoveation=function(){if(null!==p||null!==m)return c},this.setFoveation=function(e){c=e,null!==p&&(p.fixedFoveation=e),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==_.texture},this.getDepthSensingMesh=function(){return _.getMesh(C)};let B=null;const G=new l;G.setAnimationLoop(function(t,i){if(d=i.getViewerPose(u||a),g=i,null!==d){const t=d.views;null!==m&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let n=!1;t.length!==C.cameras.length&&(C.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let a=null;if(null!==m)a=m.getViewport(i);else{const t=f.getViewSubImage(p,i);a=t.viewport,0===r&&(e.setRenderTargetTextures(S,t.colorTexture,t.depthStencilTexture),e.setRenderTarget(S))}let o=A[r];void 0===o&&(o=new s.PerspectiveCamera,o.layers.enable(r),o.viewport=new s.Vector4,A[r]=o),o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.quaternion,o.scale),o.projectionMatrix.fromArray(i.projectionMatrix),o.projectionMatrixInverse.copy(o.projectionMatrix).invert(),o.viewport.set(a.x,a.y,a.width,a.height),0===r&&(C.matrix.copy(o.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===n&&C.cameras.push(o)}const i=r.enabledFeatures;if(i&&i.includes('depth-sensing')&&'gpu-optimized'==r.depthUsage&&f){const n=f.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&_.init(e,n,r.renderState)}}for(let e=0;e<E.length;e++){const t=T[e],n=E[e];null!==t&&void 0!==n&&n.update(t,i,u||a)}B&&B(t,i),i.detectedPlanes&&n.dispatchEvent({type:'planesdetected',data:i}),g=null}),this.setAnimationLoop=function(e){B=e},this.dispose=function(){}}}const tn=new s.Euler,nn=new s.Matrix4;function rn(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,r.side===s.BackSide&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),r.side===s.BackSide&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),a=i.envMap,o=i.envMapRotation;a&&(e.envMap.value=a,tn.copy(o),tn.x*=-1,tn.y*=-1,tn.z*=-1,a.isCubeTexture&&!1===a.isRenderTargetTexture&&(tn.y*=-1,tn.z*=-1),e.envMapRotation.value.setFromMatrix4(nn.makeRotationFromEuler(tn)),e.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}function i(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}function a(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function o(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function l(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function c(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function u(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function d(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform)),e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform)),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function f(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===s.BackSide&&e.clearcoatNormalScale.value.negate())),t.dispersion>0&&(e.dispersion.value=t.dispersion),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}function p(e,t){t.matcap&&(e.matcap.value=t.matcap)}function m(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,(0,s.getUnlitUniformColorSpace)(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,t,n,s,g){t.isMeshBasicMaterial||t.isMeshLambertMaterial?r(e,t):t.isMeshToonMaterial?(r(e,t),u(e,t)):t.isMeshPhongMaterial?(r(e,t),c(e,t)):t.isMeshStandardMaterial?(r(e,t),d(e,t),t.isMeshPhysicalMaterial&&f(e,t,g)):t.isMeshMatcapMaterial?(r(e,t),p(e,t)):t.isMeshDepthMaterial?r(e,t):t.isMeshDistanceMaterial?(r(e,t),m(e,t)):t.isMeshNormalMaterial?r(e,t):t.isLineBasicMaterial?(i(e,t),t.isLineDashedMaterial&&a(e,t)):t.isPointsMaterial?o(e,t,n,s):t.isSpriteMaterial?l(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}}}function an(e,t,n,r){let i={},a={},o=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(t){const n=c();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}function c(){for(let e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error('THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached.'),0}function u(t){const n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let t=0,n=r.length;t<n;t++){const n=Array.isArray(r[t])?r[t]:[r[t]];for(let r=0,i=n.length;r<i;r++){const i=n[r];if(!0===d(i,t,r,a)){const t=i.__offset,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let a=0;a<n.length;a++){const o=n[a],s=p(o);'number'==typeof o||'boolean'==typeof o?(i.__data[0]=o,e.bufferSubData(e.UNIFORM_BUFFER,t+r,i.__data)):o.isMatrix3?(i.__data[0]=o.elements[0],i.__data[1]=o.elements[1],i.__data[2]=o.elements[2],i.__data[3]=0,i.__data[4]=o.elements[3],i.__data[5]=o.elements[4],i.__data[6]=o.elements[5],i.__data[7]=0,i.__data[8]=o.elements[6],i.__data[9]=o.elements[7],i.__data[10]=o.elements[8],i.__data[11]=0):(o.toArray(i.__data,r),r+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,i.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function d(e,t,n,r){const i=e.value,a=t+'_'+n;if(void 0===r[a])return r[a]='number'==typeof i||'boolean'==typeof i?i:i.clone(),!0;{const e=r[a];if('number'==typeof i||'boolean'==typeof i){if(e!==i)return r[a]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function f(e){const t=e.uniforms;let n=0;for(let e=0,r=t.length;e<r;e++){const r=Array.isArray(t[e])?t[e]:[t[e]];for(let e=0,t=r.length;e<t;e++){const t=r[e],i=Array.isArray(t.value)?t.value:[t.value];for(let e=0,r=i.length;e<r;e++){const r=p(i[e]),a=n%16,o=a%r.boundary,s=a+o;n+=o,0!==s&&16-s<r.storage&&(n+=16-s),t.__data=new Float32Array(r.storage/Float32Array.BYTES_PER_ELEMENT),t.__offset=n,n+=r.storage}}}const r=n%16;return r>0&&(n+=16-r),e.__size=n,e.__cache={},this}function p(e){const t={boundary:0,storage:0};return'number'==typeof e||'boolean'==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn('THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.'):console.warn('THREE.WebGLRenderer: Unsupported uniform value type.',e),t}function m(t){const n=t.target;n.removeEventListener('dispose',m);const r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(e,n){let o=i[e.id];void 0===o&&(f(e),o=l(e),i[e.id]=o,e.addEventListener('dispose',m));const s=n.program;r.updateUBOMapping(e,s);const c=t.render.frame;a[e.id]!==c&&(u(e),a[e.id]=c)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}a.WebGLRenderer=class{constructor(e={}){const{canvas:t=(0,s.createCanvasElement)(),context:n=null,depth:r=!0,stencil:i=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1,reverseDepthBuffer:m=!1}=e;let g;if(this.isWebGLRenderer=!0,null!==n){if('undefined'!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error('THREE.WebGLRenderer: WebGL 1 is not supported since r163.');g=n.getContextAttributes().alpha}else g=a;const M=new Uint32Array(4),b=new Int32Array(4);let x=null,R=null;const A=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=s.NoToneMapping,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let y=!1;this._outputColorSpace=s.SRGBColorSpace;let L=0,D=0,U=null,O=-1,w=null;const I=new s.Vector4,N=new s.Vector4;let F=null;const B=new s.Color(0);let G=0,H=t.width,V=t.height,Y=1,Z=null,$=null;const Q=new s.Vector4(0,0,H,V),J=new s.Vector4(0,0,H,V);let ee=!1;const te=new s.Frustum;let ne=!1,re=!1;const ie=new s.Matrix4,ae=new s.Matrix4,oe=new s.Vector3,se=new s.Vector4,le={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ce=!1;function ue(){return null===U?Y:1}let de,fe,pe,me,ge,_e,he,ve,Se,Ee,Te,Me,be,xe,Re,Ae,Ce,Pe,ye,Le,De,Ue,Oe,we,Ie=n;function Ne(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:p};if('setAttribute'in t&&t.setAttribute('data-engine',`three.js r${s.REVISION}`),t.addEventListener('webglcontextlost',Ge,!1),t.addEventListener('webglcontextrestored',He,!1),t.addEventListener('webglcontextcreationerror',Ve,!1),null===Ie){const t='webgl2';if(Ie=Ne(t,e),null===Ie)throw Ne(t)?new Error('Error creating WebGL context with your selected attributes.'):new Error('Error creating WebGL context.')}}catch(e){throw console.error('THREE.WebGLRenderer: '+e.message),e}function Fe(){de=new k(Ie),de.init(),Ue=new Qt(Ie,de),fe=new S(Ie,de,e,Ue),pe=new Zt(Ie,de),fe.reverseDepthBuffer&&m&&pe.buffers.depth.setReversed(!0),me=new X(Ie),ge=new Nt,_e=new $t(Ie,de,pe,ge,fe,Ue,me),he=new T(P),ve=new j(P),Se=new c(Ie),Oe=new h(Ie,Se),Ee=new W(Ie,Se,me,Oe),Te=new K(Ie,Ee,Se,me),ye=new q(Ie,fe,_e),Ae=new E(ge),Me=new It(P,he,ve,de,fe,Oe,Ae),be=new rn(P,ge),xe=new Ht,Re=new qt(de),Pe=new _(P,he,ve,pe,Te,g,u),Ce=new Kt(P,Te,fe),we=new an(Ie,me,fe,pe),Le=new v(Ie,de,me),De=new z(Ie,de,me),me.programs=Me.programs,P.capabilities=fe,P.extensions=de,P.properties=ge,P.renderLists=xe,P.shadowMap=Ce,P.state=pe,P.info=me}Fe();const Be=new en(P,Ie);function Ge(e){e.preventDefault(),console.log('THREE.WebGLRenderer: Context Lost.'),y=!0}function He(){console.log('THREE.WebGLRenderer: Context Restored.'),y=!1;const e=me.autoReset,t=Ce.enabled,n=Ce.autoUpdate,r=Ce.needsUpdate,i=Ce.type;Fe(),me.autoReset=e,Ce.enabled=t,Ce.autoUpdate=n,Ce.needsUpdate=r,Ce.type=i}function Ve(e){console.error('THREE.WebGLRenderer: A WebGL context could not be created. Reason: ',e.statusMessage)}function je(e){const t=e.target;t.removeEventListener('dispose',je),ke(t)}function ke(e){We(e),ge.remove(e)}function We(e){const t=ge.get(e).programs;void 0!==t&&(t.forEach(function(e){Me.releaseProgram(e)}),e.isShaderMaterial&&Me.releaseShaderCache(e))}function ze(e,t,n){!0===e.transparent&&e.side===s.DoubleSide&&!1===e.forceSinglePass?(e.side=s.BackSide,e.needsUpdate=!0,nt(e,t,n),e.side=s.FrontSide,e.needsUpdate=!0,nt(e,t,n),e.side=s.DoubleSide):nt(e,t,n)}this.xr=Be,this.getContext=function(){return Ie},this.getContextAttributes=function(){return Ie.getContextAttributes()},this.forceContextLoss=function(){const e=de.get('WEBGL_lose_context');e&&e.loseContext()},this.forceContextRestore=function(){const e=de.get('WEBGL_lose_context');e&&e.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(e){void 0!==e&&(Y=e,this.setSize(H,V,!1))},this.getSize=function(e){return e.set(H,V)},this.setSize=function(e,n,r=!0){Be.isPresenting?console.warn('THREE.WebGLRenderer: Can\'t change size while VR device is presenting.'):(H=e,V=n,t.width=Math.floor(e*Y),t.height=Math.floor(n*Y),!0===r&&(t.style.width=e+'px',t.style.height=n+'px'),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(H*Y,V*Y).floor()},this.setDrawingBufferSize=function(e,n,r){H=e,V=n,Y=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(I)},this.getViewport=function(e){return e.copy(Q)},this.setViewport=function(e,t,n,r){e.isVector4?Q.set(e.x,e.y,e.z,e.w):Q.set(e,t,n,r),pe.viewport(I.copy(Q).multiplyScalar(Y).round())},this.getScissor=function(e){return e.copy(J)},this.setScissor=function(e,t,n,r){e.isVector4?J.set(e.x,e.y,e.z,e.w):J.set(e,t,n,r),pe.scissor(N.copy(J).multiplyScalar(Y).round())},this.getScissorTest=function(){return ee},this.setScissorTest=function(e){pe.setScissorTest(ee=e)},this.setOpaqueSort=function(e){Z=e},this.setTransparentSort=function(e){$=e},this.getClearColor=function(e){return e.copy(Pe.getClearColor())},this.setClearColor=function(){Pe.setClearColor(...arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha(...arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==U){const t=U.texture.format;e=t===s.RGBAIntegerFormat||t===s.RGIntegerFormat||t===s.RedIntegerFormat}if(e){const e=U.texture.type,t=e===s.UnsignedByteType||e===s.UnsignedIntType||e===s.UnsignedShortType||e===s.UnsignedInt248Type||e===s.UnsignedShort4444Type||e===s.UnsignedShort5551Type,n=Pe.getClearColor(),r=Pe.getClearAlpha(),i=n.r,a=n.g,o=n.b;t?(M[0]=i,M[1]=a,M[2]=o,M[3]=r,Ie.clearBufferuiv(Ie.COLOR,0,M)):(b[0]=i,b[1]=a,b[2]=o,b[3]=r,Ie.clearBufferiv(Ie.COLOR,0,b))}else r|=Ie.COLOR_BUFFER_BIT}t&&(r|=Ie.DEPTH_BUFFER_BIT),n&&(r|=Ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ie.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener('webglcontextlost',Ge,!1),t.removeEventListener('webglcontextrestored',He,!1),t.removeEventListener('webglcontextcreationerror',Ve,!1),Pe.dispose(),xe.dispose(),Re.dispose(),ge.dispose(),he.dispose(),ve.dispose(),Te.dispose(),Oe.dispose(),we.dispose(),Me.dispose(),Be.dispose(),Be.removeEventListener('sessionstart',qe),Be.removeEventListener('sessionend',Ke),Ye.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=le);const o=i.isMesh&&i.matrixWorld.determinant()<0,l=at(e,t,n,r,i);pe.setMaterial(r,o);let c=n.index,u=1;if(!0===r.wireframe){if(c=Ee.getWireframeAttribute(n),void 0===c)return;u=2}const d=n.drawRange,f=n.attributes.position;let p=d.start*u,m=(d.start+d.count)*u;null!==a&&(p=Math.max(p,a.start*u),m=Math.min(m,(a.start+a.count)*u)),null!==c?(p=Math.max(p,0),m=Math.min(m,c.count)):null!=f&&(p=Math.max(p,0),m=Math.min(m,f.count));const g=m-p;if(g<0||g===1/0)return;let _;Oe.setup(i,r,l,n,c);let h=Le;if(null!==c&&(_=Se.get(c),h=De,h.setIndex(_)),i.isMesh)!0===r.wireframe?(pe.setLineWidth(r.wireframeLinewidth*ue()),h.setMode(Ie.LINES)):h.setMode(Ie.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),pe.setLineWidth(e*ue()),i.isLineSegments?h.setMode(Ie.LINES):i.isLineLoop?h.setMode(Ie.LINE_LOOP):h.setMode(Ie.LINE_STRIP)}else i.isPoints?h.setMode(Ie.POINTS):i.isSprite&&h.setMode(Ie.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)(0,s.warnOnce)('THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.'),h.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(de.get('WEBGL_multi_draw'))h.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,a=c?Se.get(c).bytesPerElement:1,o=ge.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)o.setValue(Ie,'_gl_DrawID',r),h.render(e[r]/a,t[r])}else if(i.isInstancedMesh)h.renderInstances(p,g,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);h.renderInstances(p,g,t)}else h.render(p,g)},this.compile=function(e,t,n=null){null===n&&(n=e),R=Re.get(n),R.init(t),C.push(R),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(R.pushLight(e),e.castShadow&&R.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(R.pushLight(e),e.castShadow&&R.pushShadow(e))}),R.setupLights();const r=new Set;return e.traverse(function(e){if(!(e.isMesh||e.isPoints||e.isLine||e.isSprite))return;const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const a=t[i];ze(a,n,e),r.add(a)}else ze(t,n,e),r.add(t)}),R=C.pop(),r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){ge.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==de.get('KHR_parallel_shader_compile')?n():setTimeout(n,10)})};let Xe=null;function qe(){Ye.stop()}function Ke(){Ye.start()}const Ye=new l;function Ze(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)R.pushLight(e),e.castShadow&&R.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||te.intersectsSprite(e)){r&&se.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ae);const t=Te.update(e),i=e.material;i.visible&&x.push(e,t,i,n,se.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||te.intersectsObject(e))){const t=Te.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),se.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),se.copy(t.boundingSphere.center)),se.applyMatrix4(e.matrixWorld).applyMatrix4(ae)),Array.isArray(i)){const r=t.groups;for(let a=0,o=r.length;a<o;a++){const o=r[a],s=i[o.materialIndex];s&&s.visible&&x.push(e,t,s,n,se.z,o)}}else i.visible&&x.push(e,t,i,n,se.z,null)}const i=e.children;for(let e=0,a=i.length;e<a;e++)Ze(i[e],t,n,r)}function $e(e,t,n,r){const i=e.opaque,a=e.transmissive,o=e.transparent;R.setupLightsView(n),!0===ne&&Ae.setGlobalState(P.clippingPlanes,n),r&&pe.viewport(I.copy(r)),i.length>0&&Je(i,t,n),a.length>0&&Je(a,t,n),o.length>0&&Je(o,t,n),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Qe(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===R.state.transmissionRenderTarget[r.id]&&(R.state.transmissionRenderTarget[r.id]=new s.WebGLRenderTarget(1,1,{generateMipmaps:!0,type:de.has('EXT_color_buffer_half_float')||de.has('EXT_color_buffer_float')?s.HalfFloatType:s.UnsignedByteType,minFilter:s.LinearMipmapLinearFilter,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:s.ColorManagement.workingColorSpace}));const a=R.state.transmissionRenderTarget[r.id],o=r.viewport||I;a.setSize(o.z*P.transmissionResolutionScale,o.w*P.transmissionResolutionScale);const l=P.getRenderTarget(),c=P.getActiveCubeFace(),u=P.getActiveMipmapLevel();P.setRenderTarget(a),P.getClearColor(B),G=P.getClearAlpha(),G<1&&P.setClearColor(16777215,.5),P.clear(),ce&&Pe.render(n);const d=P.toneMapping;P.toneMapping=s.NoToneMapping;const f=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),R.setupLightsView(r),!0===ne&&Ae.setGlobalState(P.clippingPlanes,r),Je(e,n,r),_e.updateMultisampleRenderTarget(a),_e.updateRenderTargetMipmap(a),!1===de.has('WEBGL_multisampled_render_to_texture')){let e=!1;for(let i=0,a=t.length;i<a;i++){const a=t[i],o=a.object,l=a.geometry,c=a.material,u=a.group;if(c.side===s.DoubleSide&&o.layers.test(r.layers)){const t=c.side;c.side=s.BackSide,c.needsUpdate=!0,et(o,n,r,l,c,u),c.side=t,c.needsUpdate=!0,e=!0}}!0===e&&(_e.updateMultisampleRenderTarget(a),_e.updateRenderTargetMipmap(a))}P.setRenderTarget(l,c,u),P.setClearColor(B,G),void 0!==f&&(r.viewport=f),P.toneMapping=d}function Je(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,a=e.length;i<a;i++){const a=e[i],o=a.object,s=a.geometry,l=a.group;let c=a.material;!0===c.allowOverride&&null!==r&&(c=r),o.layers.test(n.layers)&&et(o,t,n,s,c,l)}}function et(e,t,n,r,i,a){e.onBeforeRender(P,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(P,t,n,r,e,a),!0===i.transparent&&i.side===s.DoubleSide&&!1===i.forceSinglePass?(i.side=s.BackSide,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=s.FrontSide,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=s.DoubleSide):P.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(P,t,n,r,i,a)}function nt(e,t,n){!0!==t.isScene&&(t=le);const r=ge.get(e),i=R.state.lights,a=R.state.shadowsArray,o=i.state.version,s=Me.getParameters(e,i.state,a,t,n),l=Me.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ve:he).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener('dispose',je),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===o)return it(e,s),u}else s.uniforms=Me.getUniforms(e),e.onBeforeCompile(s,P),u=Me.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=Ae.uniform),it(e,s),r.needsLights=st(e),r.lightsStateVersion=o,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function rt(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=tt.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function it(e,t){const n=ge.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function at(e,t,n,r,i){!0!==t.isScene&&(t=le),_e.resetTextureUnits();const a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,l=null===U?P.outputColorSpace:!0===U.isXRRenderTarget?U.texture.colorSpace:s.LinearSRGBColorSpace,c=(r.isMeshStandardMaterial?ve:he).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,d=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),f=!!n.morphAttributes.position,p=!!n.morphAttributes.normal,m=!!n.morphAttributes.color;let g=s.NoToneMapping;r.toneMapped&&(null!==U&&!0!==U.isXRRenderTarget||(g=P.toneMapping));const _=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,h=void 0!==_?_.length:0,v=ge.get(r),S=R.state.lights;if(!0===ne&&(!0===re||e!==w)){const t=e===w&&r.id===O;Ae.setState(r,e,t)}let E=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==S.state.version||v.outputColorSpace!==l||i.isBatchedMesh&&!1===v.batching?E=!0:i.isBatchedMesh||!0!==v.batching?i.isBatchedMesh&&!0===v.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===v.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===v.instancing?E=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?E=!0:i.isSkinnedMesh||!0!==v.skinning?i.isInstancedMesh&&!0===v.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===v.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===v.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===v.instancingMorph&&null!==i.morphTexture||v.envMap!==c||!0===r.fog&&v.fog!==a?E=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===Ae.numPlanes&&v.numIntersection===Ae.numIntersection?(v.vertexAlphas!==u||v.vertexTangents!==d||v.morphTargets!==f||v.morphNormals!==p||v.morphColors!==m||v.toneMapping!==g||v.morphTargetsCount!==h)&&(E=!0):E=!0:E=!0:E=!0:E=!0:(E=!0,v.__version=r.version);let T=v.currentProgram;!0===E&&(T=nt(r,t,i));let M=!1,b=!1,x=!1;const A=T.getUniforms(),C=v.uniforms;if(pe.useProgram(T.program)&&(M=!0,b=!0,x=!0),r.id!==O&&(O=r.id,b=!0),M||w!==e){pe.buffers.depth.getReversed()?(ie.copy(e.projectionMatrix),(0,s.toNormalizedProjectionMatrix)(ie),(0,s.toReversedProjectionMatrix)(ie),A.setValue(Ie,'projectionMatrix',ie)):A.setValue(Ie,'projectionMatrix',e.projectionMatrix),A.setValue(Ie,'viewMatrix',e.matrixWorldInverse);const t=A.map.cameraPosition;void 0!==t&&t.setValue(Ie,oe.setFromMatrixPosition(e.matrixWorld)),fe.logarithmicDepthBuffer&&A.setValue(Ie,'logDepthBufFC',2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&A.setValue(Ie,'isOrthographic',!0===e.isOrthographicCamera),w!==e&&(w=e,b=!0,x=!0)}if(i.isSkinnedMesh){A.setOptional(Ie,i,'bindMatrix'),A.setOptional(Ie,i,'bindMatrixInverse');const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),A.setValue(Ie,'boneTexture',e.boneTexture,_e))}i.isBatchedMesh&&(A.setOptional(Ie,i,'batchingTexture'),A.setValue(Ie,'batchingTexture',i._matricesTexture,_e),A.setOptional(Ie,i,'batchingIdTexture'),A.setValue(Ie,'batchingIdTexture',i._indirectTexture,_e),A.setOptional(Ie,i,'batchingColorTexture'),null!==i._colorsTexture&&A.setValue(Ie,'batchingColorTexture',i._colorsTexture,_e));const y=n.morphAttributes;if(void 0===y.position&&void 0===y.normal&&void 0===y.color||ye.update(i,n,T),(b||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,A.setValue(Ie,'receiveShadow',i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(C.envMap.value=c,C.flipEnvMap.value=c.isCubeTexture&&!1===c.isRenderTargetTexture?-1:1),r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(C.envMapIntensity.value=t.environmentIntensity),b&&(A.setValue(Ie,'toneMappingExposure',P.toneMappingExposure),v.needsLights&&ot(C,x),a&&!0===r.fog&&be.refreshFogUniforms(C,a),be.refreshMaterialUniforms(C,r,Y,V,R.state.transmissionRenderTarget[e.id]),tt.upload(Ie,rt(v),C,_e)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(tt.upload(Ie,rt(v),C,_e),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&A.setValue(Ie,'center',i.center),A.setValue(Ie,'modelViewMatrix',i.modelViewMatrix),A.setValue(Ie,'normalMatrix',i.normalMatrix),A.setValue(Ie,'modelMatrix',i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];we.update(n,T),we.bind(n,T)}}return T}function ot(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function st(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ye.setAnimationLoop(function(e){Xe&&Xe(e)}),'undefined'!=typeof self&&Ye.setContext(self),this.setAnimationLoop=function(e){Xe=e,Be.setAnimationLoop(e),null===e?Ye.stop():Ye.start()},Be.addEventListener('sessionstart',qe),Be.addEventListener('sessionend',Ke),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');if(!0===y)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Be.enabled&&!0===Be.isPresenting&&(!0===Be.cameraAutoUpdate&&Be.updateCamera(t),t=Be.getCamera()),!0===e.isScene&&e.onBeforeRender(P,e,t,U),R=Re.get(e,C.length),R.init(t),C.push(R),ae.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),te.setFromProjectionMatrix(ae),re=this.localClippingEnabled,ne=Ae.init(this.clippingPlanes,re),x=xe.get(e,A.length),x.init(),A.push(x),!0===Be.enabled&&!0===Be.isPresenting){const e=P.xr.getDepthSensingMesh();null!==e&&Ze(e,t,-1/0,P.sortObjects)}Ze(e,t,0,P.sortObjects),x.finish(),!0===P.sortObjects&&x.sort(Z,$),ce=!1===Be.enabled||!1===Be.isPresenting||!1===Be.hasDepthSensing(),ce&&Pe.addToRenderList(x,e),this.info.render.frame++,!0===ne&&Ae.beginShadows();const n=R.state.shadowsArray;Ce.render(n,e,t),!0===ne&&Ae.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=x.opaque,i=x.transmissive;if(R.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,a=n.length;t<a;t++){Qe(r,i,e,n[t])}ce&&Pe.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];$e(x,e,r,r.viewport)}}else i.length>0&&Qe(r,i,e,t),ce&&Pe.render(e),$e(x,e,t);null!==U&&0===D&&(_e.updateMultisampleRenderTarget(U),_e.updateRenderTargetMipmap(U)),!0===e.isScene&&e.onAfterRender(P,e,t),Oe.resetDefaultState(),O=-1,w=null,C.pop(),C.length>0?(R=C[C.length-1],!0===ne&&Ae.setGlobalState(P.clippingPlanes,R.state.camera)):R=null,A.pop(),x=A.length>0?A[A.length-1]:null},this.getActiveCubeFace=function(){return L},this.getActiveMipmapLevel=function(){return D},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(e,t,n){const r=ge.get(e);r.__autoAllocateDepthBuffer=!1===e.resolveDepthBuffer,!1===r.__autoAllocateDepthBuffer&&(r.__useRenderToTexture=!1),ge.get(e.texture).__webglTexture=t,ge.get(e.depthTexture).__webglTexture=r.__autoAllocateDepthBuffer?void 0:n,r.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(e,t){const n=ge.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t};const lt=Ie.createFramebuffer();this.setRenderTarget=function(e,t=0,n=0){U=e,L=t,D=n;let r=!0,i=null,a=!1,o=!1;if(e){const s=ge.get(e);if(void 0!==s.__useDefaultFramebuffer)pe.bindFramebuffer(Ie.FRAMEBUFFER,null),r=!1;else if(void 0===s.__webglFramebuffer)_e.setupRenderTarget(e);else if(s.__hasExternalTextures)_e.rebindTextures(e,ge.get(e.texture).__webglTexture,ge.get(e.depthTexture).__webglTexture);else if(e.depthBuffer){const t=e.depthTexture;if(s.__boundDepthTexture!==t){if(null!==t&&ge.has(t)&&(e.width!==t.image.width||e.height!==t.image.height))throw new Error('WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.');_e.setupDepthRenderbuffer(e)}}const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);const c=ge.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],a=!0):i=e.samples>0&&!1===_e.useMultisampledRTT(e)?ge.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,I.copy(e.viewport),N.copy(e.scissor),F=e.scissorTest}else I.copy(Q).multiplyScalar(Y).floor(),N.copy(J).multiplyScalar(Y).floor(),F=ee;0!==n&&(i=lt);if(pe.bindFramebuffer(Ie.FRAMEBUFFER,i)&&r&&pe.drawBuffers(e,i),pe.viewport(I),pe.scissor(N),pe.setScissorTest(F),a){const r=ge.get(e.texture);Ie.framebufferTexture2D(Ie.FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,Ie.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(o){const r=ge.get(e.texture),i=t;Ie.framebufferTextureLayer(Ie.FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,r.__webglTexture,n,i)}else if(null!==e&&0!==n){const t=ge.get(e.texture);Ie.framebufferTexture2D(Ie.FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,Ie.TEXTURE_2D,t.__webglTexture,n)}O=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o,s=0){if(!e||!e.isWebGLRenderTarget)return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');let l=ge.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){pe.bindFramebuffer(Ie.FRAMEBUFFER,l);try{const o=e.textures[s],l=o.format,c=o.type;if(!fe.textureFormatReadable(l))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');if(!fe.textureTypeReadable(c))return void console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&(e.textures.length>1&&Ie.readBuffer(Ie.COLOR_ATTACHMENT0+s),Ie.readPixels(t,n,r,i,Ue.convert(l),Ue.convert(c),a))}finally{const e=null!==U?ge.get(U).__webglFramebuffer:null;pe.bindFramebuffer(Ie.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,a,o,l=0){if(!e||!e.isWebGLRenderTarget)throw new Error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');let c=ge.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(c=c[o]),c){if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){pe.bindFramebuffer(Ie.FRAMEBUFFER,c);const o=e.textures[l],u=o.format,d=o.type;if(!fe.textureFormatReadable(u))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.');if(!fe.textureTypeReadable(d))throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.');const f=Ie.createBuffer();Ie.bindBuffer(Ie.PIXEL_PACK_BUFFER,f),Ie.bufferData(Ie.PIXEL_PACK_BUFFER,a.byteLength,Ie.STREAM_READ),e.textures.length>1&&Ie.readBuffer(Ie.COLOR_ATTACHMENT0+l),Ie.readPixels(t,n,r,i,Ue.convert(u),Ue.convert(d),0);const p=null!==U?ge.get(U).__webglFramebuffer:null;pe.bindFramebuffer(Ie.FRAMEBUFFER,p);const m=Ie.fenceSync(Ie.SYNC_GPU_COMMANDS_COMPLETE,0);return Ie.flush(),await(0,s.probeAsync)(Ie,m,4),Ie.bindBuffer(Ie.PIXEL_PACK_BUFFER,f),Ie.getBufferSubData(Ie.PIXEL_PACK_BUFFER,0,a),Ie.deleteBuffer(f),Ie.deleteSync(m),a}throw new Error('THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.')}},this.copyFramebufferToTexture=function(e,t=null,n=0){const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),a=Math.floor(e.image.height*r),o=null!==t?t.x:0,s=null!==t?t.y:0;_e.setTexture2D(e,0),Ie.copyTexSubImage2D(Ie.TEXTURE_2D,n,0,0,o,s,i,a),pe.unbindTexture()};const ct=Ie.createFramebuffer(),ut=Ie.createFramebuffer();this.copyTextureToTexture=function(e,t,n=null,r=null,i=0,a=null){let o,l,c,u,d,f,p,m,g;null===a&&(0!==i?((0,s.warnOnce)('WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels.'),a=i,i=0):a=0);const _=e.isCompressedTexture?e.mipmaps[a]:e.image;if(null!==n)o=n.max.x-n.min.x,l=n.max.y-n.min.y,c=n.isBox3?n.max.z-n.min.z:1,u=n.min.x,d=n.min.y,f=n.isBox3?n.min.z:0;else{const t=Math.pow(2,-i);o=Math.floor(_.width*t),l=Math.floor(_.height*t),c=e.isDataArrayTexture?_.depth:e.isData3DTexture?Math.floor(_.depth*t):1,u=0,d=0,f=0}null!==r?(p=r.x,m=r.y,g=r.z):(p=0,m=0,g=0);const h=Ue.convert(t.format),v=Ue.convert(t.type);let S;t.isData3DTexture?(_e.setTexture3D(t,0),S=Ie.TEXTURE_3D):t.isDataArrayTexture||t.isCompressedArrayTexture?(_e.setTexture2DArray(t,0),S=Ie.TEXTURE_2D_ARRAY):(_e.setTexture2D(t,0),S=Ie.TEXTURE_2D),Ie.pixelStorei(Ie.UNPACK_FLIP_Y_WEBGL,t.flipY),Ie.pixelStorei(Ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),Ie.pixelStorei(Ie.UNPACK_ALIGNMENT,t.unpackAlignment);const E=Ie.getParameter(Ie.UNPACK_ROW_LENGTH),T=Ie.getParameter(Ie.UNPACK_IMAGE_HEIGHT),M=Ie.getParameter(Ie.UNPACK_SKIP_PIXELS),b=Ie.getParameter(Ie.UNPACK_SKIP_ROWS),x=Ie.getParameter(Ie.UNPACK_SKIP_IMAGES);Ie.pixelStorei(Ie.UNPACK_ROW_LENGTH,_.width),Ie.pixelStorei(Ie.UNPACK_IMAGE_HEIGHT,_.height),Ie.pixelStorei(Ie.UNPACK_SKIP_PIXELS,u),Ie.pixelStorei(Ie.UNPACK_SKIP_ROWS,d),Ie.pixelStorei(Ie.UNPACK_SKIP_IMAGES,f);const R=e.isDataArrayTexture||e.isData3DTexture,A=t.isDataArrayTexture||t.isData3DTexture;if(e.isDepthTexture){const n=ge.get(e),r=ge.get(t),s=ge.get(n.__renderTarget),_=ge.get(r.__renderTarget);pe.bindFramebuffer(Ie.READ_FRAMEBUFFER,s.__webglFramebuffer),pe.bindFramebuffer(Ie.DRAW_FRAMEBUFFER,_.__webglFramebuffer);for(let n=0;n<c;n++)R&&(Ie.framebufferTextureLayer(Ie.READ_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,ge.get(e).__webglTexture,i,f+n),Ie.framebufferTextureLayer(Ie.DRAW_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,ge.get(t).__webglTexture,a,g+n)),Ie.blitFramebuffer(u,d,o,l,p,m,o,l,Ie.DEPTH_BUFFER_BIT,Ie.NEAREST);pe.bindFramebuffer(Ie.READ_FRAMEBUFFER,null),pe.bindFramebuffer(Ie.DRAW_FRAMEBUFFER,null)}else if(0!==i||e.isRenderTargetTexture||ge.has(e)){const n=ge.get(e),r=ge.get(t);pe.bindFramebuffer(Ie.READ_FRAMEBUFFER,ct),pe.bindFramebuffer(Ie.DRAW_FRAMEBUFFER,ut);for(let e=0;e<c;e++)R?Ie.framebufferTextureLayer(Ie.READ_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,n.__webglTexture,i,f+e):Ie.framebufferTexture2D(Ie.READ_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,Ie.TEXTURE_2D,n.__webglTexture,i),A?Ie.framebufferTextureLayer(Ie.DRAW_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,r.__webglTexture,a,g+e):Ie.framebufferTexture2D(Ie.DRAW_FRAMEBUFFER,Ie.COLOR_ATTACHMENT0,Ie.TEXTURE_2D,r.__webglTexture,a),0!==i?Ie.blitFramebuffer(u,d,o,l,p,m,o,l,Ie.COLOR_BUFFER_BIT,Ie.NEAREST):A?Ie.copyTexSubImage3D(S,a,p,m,g+e,u,d,o,l):Ie.copyTexSubImage2D(S,a,p,m,u,d,o,l);pe.bindFramebuffer(Ie.READ_FRAMEBUFFER,null),pe.bindFramebuffer(Ie.DRAW_FRAMEBUFFER,null)}else A?e.isDataTexture||e.isData3DTexture?Ie.texSubImage3D(S,a,p,m,g,o,l,c,h,v,_.data):t.isCompressedArrayTexture?Ie.compressedTexSubImage3D(S,a,p,m,g,o,l,c,h,_.data):Ie.texSubImage3D(S,a,p,m,g,o,l,c,h,v,_):e.isDataTexture?Ie.texSubImage2D(Ie.TEXTURE_2D,a,p,m,o,l,h,v,_.data):e.isCompressedTexture?Ie.compressedTexSubImage2D(Ie.TEXTURE_2D,a,p,m,_.width,_.height,h,_.data):Ie.texSubImage2D(Ie.TEXTURE_2D,a,p,m,o,l,h,v,_);Ie.pixelStorei(Ie.UNPACK_ROW_LENGTH,E),Ie.pixelStorei(Ie.UNPACK_IMAGE_HEIGHT,T),Ie.pixelStorei(Ie.UNPACK_SKIP_PIXELS,M),Ie.pixelStorei(Ie.UNPACK_SKIP_ROWS,b),Ie.pixelStorei(Ie.UNPACK_SKIP_IMAGES,x),0===a&&t.generateMipmaps&&Ie.generateMipmap(S),pe.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,i=0){return(0,s.warnOnce)('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(e,t,n,r,i)},this.initRenderTarget=function(e){void 0===ge.get(e).__webglFramebuffer&&_e.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?_e.setTextureCube(e,0):e.isData3DTexture?_e.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?_e.setTexture2DArray(e,0):_e.setTexture2D(e,0),pe.unbindTexture()},this.resetState=function(){L=0,D=0,U=null,pe.reset(),Oe.reset()},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}get coordinateSystem(){return s.WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=s.ColorManagement._getDrawingBufferColorSpace(e),t.unpackColorSpace=s.ColorManagement._getUnpackColorSpace()}}},128,[129]);
__d(function(t,e,i,s,r,n,a){Object.defineProperty(n,"__esModule",{value:!0}),n.DstAlphaFactor=n.DoubleSide=n.DodecahedronGeometry=n.DiscreteInterpolant=n.DirectionalLightHelper=n.DirectionalLight=n.DetachedBindMode=n.DepthTexture=n.DepthStencilFormat=n.DepthFormat=n.DefaultLoadingManager=n.DecrementWrapStencilOp=n.DecrementStencilOp=n.DataUtils=n.DataTextureLoader=n.DataTexture=n.DataArrayTexture=n.Data3DTexture=n.Cylindrical=n.CylinderGeometry=n.CustomToneMapping=n.CustomBlending=n.CurvePath=n.Curve=n.CullFaceNone=n.CullFaceFrontBack=n.CullFaceFront=n.CullFaceBack=n.CubicInterpolant=n.CubicBezierCurve3=n.CubicBezierCurve=n.CubeUVReflectionMapping=n.CubeTextureLoader=n.CubeTexture=n.CubeRefractionMapping=n.CubeReflectionMapping=n.CubeCamera=n.Controls=n.ConstantColorFactor=n.ConstantAlphaFactor=n.ConeGeometry=n.CompressedTextureLoader=n.CompressedTexture=n.CompressedCubeTexture=n.CompressedArrayTexture=n.ColorManagement=n.ColorKeyframeTrack=n.Color=n.Clock=n.ClampToEdgeWrapping=n.CircleGeometry=n.CineonToneMapping=n.CatmullRomCurve3=n.CapsuleGeometry=n.CanvasTexture=n.CameraHelper=n.Camera=n.Cache=n.ByteType=n.BufferGeometryLoader=n.BufferGeometry=n.BufferAttribute=n.BoxHelper=n.BoxGeometry=n.Box3Helper=n.Box3=n.Box2=n.BooleanKeyframeTrack=n.Bone=n.BatchedMesh=n.BasicShadowMap=n.BasicDepthPacking=n.BackSide=n.AxesHelper=n.AudioLoader=n.AudioListener=n.AudioContext=n.AudioAnalyser=n.Audio=n.AttachedBindMode=n.ArrowHelper=n.ArrayCamera=n.ArcCurve=n.AnimationUtils=n.AnimationObjectGroup=n.AnimationMixer=n.AnimationLoader=n.AnimationClip=n.AnimationAction=n.AmbientLight=n.AlwaysStencilFunc=n.AlwaysDepth=n.AlwaysCompare=n.AlphaFormat=n.AgXToneMapping=n.AdditiveBlending=n.AdditiveAnimationBlendMode=n.AddOperation=n.AddEquation=n.ACESFilmicToneMapping=void 0,n.MaterialLoader=n.Material=n.MOUSE=n.LoopRepeat=n.LoopPingPong=n.LoopOnce=n.LoadingManager=n.LoaderUtils=n.Loader=n.LinearTransfer=n.LinearToneMapping=n.LinearSRGBColorSpace=n.LinearMipmapNearestFilter=n.LinearMipmapLinearFilter=n.LinearMipMapNearestFilter=n.LinearMipMapLinearFilter=n.LinearInterpolant=n.LinearFilter=n.LineSegments=n.LineLoop=n.LineDashedMaterial=n.LineCurve3=n.LineCurve=n.LineBasicMaterial=n.Line3=n.Line=n.LightProbe=n.Light=n.LessStencilFunc=n.LessEqualStencilFunc=n.LessEqualDepth=n.LessEqualCompare=n.LessDepth=n.LessCompare=n.Layers=n.LatheGeometry=n.LOD=n.KeyframeTrack=n.KeepStencilOp=n.InvertStencilOp=n.InterpolationSamplingType=n.InterpolationSamplingMode=n.InterpolateSmooth=n.InterpolateLinear=n.InterpolateDiscrete=n.Interpolant=n.InterleavedBufferAttribute=n.InterleavedBuffer=n.IntType=n.Int8BufferAttribute=n.Int32BufferAttribute=n.Int16BufferAttribute=n.InstancedMesh=n.InstancedInterleavedBuffer=n.InstancedBufferGeometry=n.InstancedBufferAttribute=n.IncrementWrapStencilOp=n.IncrementStencilOp=n.ImageUtils=n.ImageLoader=n.ImageBitmapLoader=n.IcosahedronGeometry=n.HemisphereLightHelper=n.HemisphereLight=n.HalfFloatType=n.Group=n.GridHelper=n.GreaterStencilFunc=n.GreaterEqualStencilFunc=n.GreaterEqualDepth=n.GreaterEqualCompare=n.GreaterDepth=n.GreaterCompare=n.GLSL3=n.GLSL1=n.GLBufferAttribute=n.FrustumArray=n.Frustum=n.FrontSide=n.FramebufferTexture=n.FogExp2=n.Fog=n.FloatType=n.Float32BufferAttribute=n.Float16BufferAttribute=n.FileLoader=n.ExtrudeGeometry=n.EventDispatcher=n.Euler=n.EquirectangularRefractionMapping=n.EquirectangularReflectionMapping=n.EqualStencilFunc=n.EqualDepth=n.EqualCompare=n.EllipseCurve=n.EdgesGeometry=n.DynamicReadUsage=n.DynamicDrawUsage=n.DynamicCopyUsage=n.DstColorFactor=void 0,n.RGBA_S3TC_DXT5_Format=n.RGBA_S3TC_DXT3_Format=n.RGBA_S3TC_DXT1_Format=n.RGBA_PVRTC_4BPPV1_Format=n.RGBA_PVRTC_2BPPV1_Format=n.RGBA_ETC2_EAC_Format=n.RGBA_BPTC_Format=n.RGBA_ASTC_8x8_Format=n.RGBA_ASTC_8x6_Format=n.RGBA_ASTC_8x5_Format=n.RGBA_ASTC_6x6_Format=n.RGBA_ASTC_6x5_Format=n.RGBA_ASTC_5x5_Format=n.RGBA_ASTC_5x4_Format=n.RGBA_ASTC_4x4_Format=n.RGBA_ASTC_12x12_Format=n.RGBA_ASTC_12x10_Format=n.RGBA_ASTC_10x8_Format=n.RGBA_ASTC_10x6_Format=n.RGBA_ASTC_10x5_Format=n.RGBA_ASTC_10x10_Format=n.RGBAIntegerFormat=n.RGBAFormat=n.RGBADepthPacking=n.REVISION=n.RED_RGTC1_Format=n.RED_GREEN_RGTC2_Format=n.RAD2DEG=n.QuaternionLinearInterpolant=n.QuaternionKeyframeTrack=n.Quaternion=n.QuadraticBezierCurve3=n.QuadraticBezierCurve=n.PropertyMixer=n.PropertyBinding=n.PositionalAudio=n.PolyhedronGeometry=n.PolarGridHelper=n.PointsMaterial=n.Points=n.PointLightHelper=n.PointLight=n.PlaneHelper=n.PlaneGeometry=n.Plane=n.PerspectiveCamera=n.Path=n.PCFSoftShadowMap=n.PCFShadowMap=n.OrthographicCamera=n.OneMinusSrcColorFactor=n.OneMinusSrcAlphaFactor=n.OneMinusDstColorFactor=n.OneMinusDstAlphaFactor=n.OneMinusConstantColorFactor=n.OneMinusConstantAlphaFactor=n.OneFactor=n.OctahedronGeometry=n.ObjectSpaceNormalMap=n.ObjectLoader=n.Object3D=n.NumberKeyframeTrack=n.NotEqualStencilFunc=n.NotEqualDepth=n.NotEqualCompare=n.NormalBlending=n.NormalAnimationBlendMode=n.NoToneMapping=n.NoColorSpace=n.NoBlending=n.NeverStencilFunc=n.NeverDepth=n.NeverCompare=n.NeutralToneMapping=n.NearestMipmapNearestFilter=n.NearestMipmapLinearFilter=n.NearestMipMapNearestFilter=n.NearestMipMapLinearFilter=n.NearestFilter=n.MultiplyOperation=n.MultiplyBlending=n.MixOperation=n.MirroredRepeatWrapping=n.MinEquation=n.MeshToonMaterial=n.MeshStandardMaterial=n.MeshPhysicalMaterial=n.MeshPhongMaterial=n.MeshNormalMaterial=n.MeshMatcapMaterial=n.MeshLambertMaterial=n.MeshDistanceMaterial=n.MeshDepthMaterial=n.MeshBasicMaterial=n.Mesh=n.MaxEquation=n.Matrix4=n.Matrix3=n.Matrix2=n.MathUtils=void 0,n.VideoTexture=n.VideoFrameTexture=n.VectorKeyframeTrack=n.Vector4=n.Vector3=n.Vector2=n.VSMShadowMap=n.UnsignedShortType=n.UnsignedShort5551Type=n.UnsignedShort4444Type=n.UnsignedIntType=n.UnsignedInt5999Type=n.UnsignedInt248Type=n.UnsignedByteType=n.UniformsUtils=n.UniformsGroup=n.Uniform=n.Uint8ClampedBufferAttribute=n.Uint8BufferAttribute=n.Uint32BufferAttribute=n.Uint16BufferAttribute=n.UVMapping=n.TubeGeometry=n.TrianglesDrawMode=n.TriangleStripDrawMode=n.TriangleFanDrawMode=n.Triangle=n.TorusKnotGeometry=n.TorusGeometry=n.TimestampQuery=n.TextureUtils=n.TextureLoader=n.Texture=n.TetrahedronGeometry=n.TangentSpaceNormalMap=n.TOUCH=n.SubtractiveBlending=n.SubtractEquation=n.StringKeyframeTrack=n.StreamReadUsage=n.StreamDrawUsage=n.StreamCopyUsage=n.StereoCamera=n.StaticReadUsage=n.StaticDrawUsage=n.StaticCopyUsage=n.SrcColorFactor=n.SrcAlphaSaturateFactor=n.SrcAlphaFactor=n.SpriteMaterial=n.Sprite=n.SpotLightHelper=n.SpotLight=n.SplineCurve=n.SphericalHarmonics3=n.Spherical=n.SphereGeometry=n.Sphere=n.Source=n.SkinnedMesh=n.SkeletonHelper=n.Skeleton=n.ShortType=n.ShapeUtils=n.ShapePath=n.ShapeGeometry=n.Shape=n.ShadowMaterial=n.ShaderMaterial=n.Scene=n.SRGBTransfer=n.SRGBColorSpace=n.SIGNED_RED_RGTC1_Format=n.SIGNED_RED_GREEN_RGTC2_Format=n.RingGeometry=n.ReverseSubtractEquation=n.ReplaceStencilOp=n.RepeatWrapping=n.RenderTarget3D=n.RenderTarget=n.ReinhardToneMapping=n.RedIntegerFormat=n.RedFormat=n.RectAreaLight=n.Raycaster=n.Ray=n.RawShaderMaterial=n.RGIntegerFormat=n.RGFormat=n.RGDepthPacking=n.RGB_S3TC_DXT1_Format=n.RGB_PVRTC_4BPPV1_Format=n.RGB_PVRTC_2BPPV1_Format=n.RGB_ETC2_Format=n.RGB_ETC1_Format=n.RGB_BPTC_UNSIGNED_Format=n.RGB_BPTC_SIGNED_Format=n.RGBIntegerFormat=n.RGBFormat=n.RGBDepthPacking=void 0,n.ZeroStencilOp=n.ZeroSlopeEnding=n.ZeroFactor=n.ZeroCurvatureEnding=n.WrapAroundEnding=n.WireframeGeometry=n.WebXRController=n.WebGPUCoordinateSystem=n.WebGLRenderTarget=n.WebGLCubeRenderTarget=n.WebGLCoordinateSystem=n.WebGLArrayRenderTarget=n.WebGL3DRenderTarget=void 0,n.arrayNeedsUint32=ve,n.cloneUniforms=Zs,n.createCanvasElement=function(){const t=Se('canvas');return t.style.display='block',t},n.createElementNS=Se,n.getByteLength=uc,n.getUnlitUniformColorSpace=function(t){const e=t.getRenderTarget();if(null===e)return t.outputColorSpace;if(!0===e.isXRRenderTarget)return e.texture.colorSpace;return ze.workingColorSpace},n.mergeUniforms=Ys,n.probeAsync=function(t,e,i){return new Promise(function(s,r){setTimeout(function n(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(n,i);break;default:s()}},i)})},n.toNormalizedProjectionMatrix=function(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]},n.toReversedProjectionMatrix=function(t){const e=t.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])},n.warnOnce=Ae;
/**
   * @license
   * Copyright 2010-2025 Three.js Authors
   * SPDX-License-Identifier: MIT
   */
const o=n.REVISION='178',h=(n.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},n.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},n.CullFaceNone=0,n.CullFaceBack=1,n.CullFaceFront=2,n.CullFaceFrontBack=3,n.BasicShadowMap=0,n.PCFShadowMap=1,n.PCFSoftShadowMap=2,n.VSMShadowMap=3,n.FrontSide=0),l=n.BackSide=1,c=(n.DoubleSide=2,n.NoBlending=0),u=n.NormalBlending=1,p=(n.AdditiveBlending=2,n.SubtractiveBlending=3,n.MultiplyBlending=4,n.CustomBlending=5,n.AddEquation=100),d=(n.SubtractEquation=101,n.ReverseSubtractEquation=102,n.MinEquation=103,n.MaxEquation=104,n.ZeroFactor=200,n.OneFactor=201,n.SrcColorFactor=202,n.OneMinusSrcColorFactor=203,n.SrcAlphaFactor=204),m=n.OneMinusSrcAlphaFactor=205,y=(n.DstAlphaFactor=206,n.OneMinusDstAlphaFactor=207,n.DstColorFactor=208,n.OneMinusDstColorFactor=209,n.SrcAlphaSaturateFactor=210,n.ConstantColorFactor=211,n.OneMinusConstantColorFactor=212,n.ConstantAlphaFactor=213,n.OneMinusConstantAlphaFactor=214,n.NeverDepth=0,n.AlwaysDepth=1,n.LessDepth=2,n.LessEqualDepth=3),g=(n.EqualDepth=4,n.GreaterEqualDepth=5,n.GreaterDepth=6,n.NotEqualDepth=7,n.MultiplyOperation=0),f=(n.MixOperation=1,n.AddOperation=2,n.NoToneMapping=0,n.LinearToneMapping=1,n.ReinhardToneMapping=2,n.CineonToneMapping=3,n.ACESFilmicToneMapping=4,n.CustomToneMapping=5,n.AgXToneMapping=6,n.NeutralToneMapping=7,n.AttachedBindMode='attached'),x=n.DetachedBindMode='detached',b=n.UVMapping=300,v=n.CubeReflectionMapping=301,M=n.CubeRefractionMapping=302,w=n.EquirectangularReflectionMapping=303,S=n.EquirectangularRefractionMapping=304,_=n.CubeUVReflectionMapping=306,A=n.RepeatWrapping=1e3,T=n.ClampToEdgeWrapping=1001,C=n.MirroredRepeatWrapping=1002,I=n.NearestFilter=1003,z=n.NearestMipmapNearestFilter=1004,B=(n.NearestMipMapNearestFilter=1004,n.NearestMipmapLinearFilter=1005),R=(n.NearestMipMapLinearFilter=1005,n.LinearFilter=1006),E=n.LinearMipmapNearestFilter=1007,P=(n.LinearMipMapNearestFilter=1007,n.LinearMipmapLinearFilter=1008),F=(n.LinearMipMapLinearFilter=1008,n.UnsignedByteType=1009),k=n.ByteType=1010,O=n.ShortType=1011,L=n.UnsignedShortType=1012,N=n.IntType=1013,V=n.UnsignedIntType=1014,D=n.FloatType=1015,U=n.HalfFloatType=1016,G=n.UnsignedShort4444Type=1017,W=n.UnsignedShort5551Type=1018,j=(n.UnsignedInt248Type=1020,n.UnsignedInt5999Type=35902),H=n.AlphaFormat=1021,q=n.RGBFormat=1022,J=n.RGBAFormat=1023,X=n.DepthFormat=1026,Z=n.DepthStencilFormat=1027,Y=n.RedFormat=1028,$=n.RedIntegerFormat=1029,Q=n.RGFormat=1030,K=n.RGIntegerFormat=1031,tt=(n.RGBIntegerFormat=1032,n.RGBAIntegerFormat=1033),et=n.RGB_S3TC_DXT1_Format=33776,it=n.RGBA_S3TC_DXT1_Format=33777,st=n.RGBA_S3TC_DXT3_Format=33778,rt=n.RGBA_S3TC_DXT5_Format=33779,nt=n.RGB_PVRTC_4BPPV1_Format=35840,at=n.RGB_PVRTC_2BPPV1_Format=35841,ot=n.RGBA_PVRTC_4BPPV1_Format=35842,ht=n.RGBA_PVRTC_2BPPV1_Format=35843,lt=n.RGB_ETC1_Format=36196,ct=n.RGB_ETC2_Format=37492,ut=n.RGBA_ETC2_EAC_Format=37496,pt=n.RGBA_ASTC_4x4_Format=37808,dt=n.RGBA_ASTC_5x4_Format=37809,mt=n.RGBA_ASTC_5x5_Format=37810,yt=n.RGBA_ASTC_6x5_Format=37811,gt=n.RGBA_ASTC_6x6_Format=37812,ft=n.RGBA_ASTC_8x5_Format=37813,xt=n.RGBA_ASTC_8x6_Format=37814,bt=n.RGBA_ASTC_8x8_Format=37815,vt=n.RGBA_ASTC_10x5_Format=37816,Mt=n.RGBA_ASTC_10x6_Format=37817,wt=n.RGBA_ASTC_10x8_Format=37818,St=n.RGBA_ASTC_10x10_Format=37819,_t=n.RGBA_ASTC_12x10_Format=37820,At=n.RGBA_ASTC_12x12_Format=37821,Tt=n.RGBA_BPTC_Format=36492,Ct=n.RGB_BPTC_SIGNED_Format=36494,It=n.RGB_BPTC_UNSIGNED_Format=36495,zt=n.RED_RGTC1_Format=36283,Bt=n.SIGNED_RED_RGTC1_Format=36284,Rt=n.RED_GREEN_RGTC2_Format=36285,Et=n.SIGNED_RED_GREEN_RGTC2_Format=36286,Pt=n.LoopOnce=2200,Ft=n.LoopRepeat=2201,kt=n.LoopPingPong=2202,Ot=n.InterpolateDiscrete=2300,Lt=n.InterpolateLinear=2301,Nt=n.InterpolateSmooth=2302,Vt=n.ZeroCurvatureEnding=2400,Dt=n.ZeroSlopeEnding=2401,Ut=n.WrapAroundEnding=2402,Gt=n.NormalAnimationBlendMode=2500,Wt=n.AdditiveAnimationBlendMode=2501,jt=(n.TrianglesDrawMode=0,n.TriangleStripDrawMode=1,n.TriangleFanDrawMode=2,n.BasicDepthPacking=3200),Ht=(n.RGBADepthPacking=3201,n.RGBDepthPacking=3202,n.RGDepthPacking=3203,n.TangentSpaceNormalMap=0),qt=(n.ObjectSpaceNormalMap=1,n.NoColorSpace=''),Jt=n.SRGBColorSpace='srgb',Xt=n.LinearSRGBColorSpace='srgb-linear',Zt=n.LinearTransfer='linear',Yt=n.SRGBTransfer='srgb',$t=(n.ZeroStencilOp=0,n.KeepStencilOp=7680),Qt=(n.ReplaceStencilOp=7681,n.IncrementStencilOp=7682,n.DecrementStencilOp=7683,n.IncrementWrapStencilOp=34055,n.DecrementWrapStencilOp=34056,n.InvertStencilOp=5386,n.NeverStencilFunc=512,n.LessStencilFunc=513,n.EqualStencilFunc=514,n.LessEqualStencilFunc=515,n.GreaterStencilFunc=516,n.NotEqualStencilFunc=517,n.GreaterEqualStencilFunc=518,n.AlwaysStencilFunc=519),Kt=(n.NeverCompare=512,n.LessCompare=513,n.EqualCompare=514,n.LessEqualCompare=515,n.GreaterCompare=516,n.NotEqualCompare=517,n.GreaterEqualCompare=518,n.AlwaysCompare=519,n.StaticDrawUsage=35044),te=(n.DynamicDrawUsage=35048,n.StreamDrawUsage=35040,n.StaticReadUsage=35045,n.DynamicReadUsage=35049,n.StreamReadUsage=35041,n.StaticCopyUsage=35046,n.DynamicCopyUsage=35050,n.StreamCopyUsage=35042,n.GLSL1='100',n.GLSL3='300 es',n.WebGLCoordinateSystem=2e3),ee=n.WebGPUCoordinateSystem=2001;n.TimestampQuery={COMPUTE:'compute',RENDER:'render'},n.InterpolationSamplingType={PERSPECTIVE:'perspective',LINEAR:'linear',FLAT:'flat'},n.InterpolationSamplingMode={NORMAL:'normal',CENTROID:'centroid',SAMPLE:'sample',FIRST:'first',EITHER:'either'};class ie{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return void 0!==i&&(void 0!==i[t]&&-1!==i[t].indexOf(e))}removeEventListener(t,e){const i=this._listeners;if(void 0===i)return;const s=i[t];if(void 0!==s){const t=s.indexOf(e);-1!==t&&s.splice(t,1)}}dispatchEvent(t){const e=this._listeners;if(void 0===e)return;const i=e[t.type];if(void 0!==i){t.target=this;const e=i.slice(0);for(let i=0,s=e.length;i<s;i++)e[i].call(this,t);t.target=null}}}n.EventDispatcher=ie;const se=['00','01','02','03','04','05','06','07','08','09','0a','0b','0c','0d','0e','0f','10','11','12','13','14','15','16','17','18','19','1a','1b','1c','1d','1e','1f','20','21','22','23','24','25','26','27','28','29','2a','2b','2c','2d','2e','2f','30','31','32','33','34','35','36','37','38','39','3a','3b','3c','3d','3e','3f','40','41','42','43','44','45','46','47','48','49','4a','4b','4c','4d','4e','4f','50','51','52','53','54','55','56','57','58','59','5a','5b','5c','5d','5e','5f','60','61','62','63','64','65','66','67','68','69','6a','6b','6c','6d','6e','6f','70','71','72','73','74','75','76','77','78','79','7a','7b','7c','7d','7e','7f','80','81','82','83','84','85','86','87','88','89','8a','8b','8c','8d','8e','8f','90','91','92','93','94','95','96','97','98','99','9a','9b','9c','9d','9e','9f','a0','a1','a2','a3','a4','a5','a6','a7','a8','a9','aa','ab','ac','ad','ae','af','b0','b1','b2','b3','b4','b5','b6','b7','b8','b9','ba','bb','bc','bd','be','bf','c0','c1','c2','c3','c4','c5','c6','c7','c8','c9','ca','cb','cc','cd','ce','cf','d0','d1','d2','d3','d4','d5','d6','d7','d8','d9','da','db','dc','dd','de','df','e0','e1','e2','e3','e4','e5','e6','e7','e8','e9','ea','eb','ec','ed','ee','ef','f0','f1','f2','f3','f4','f5','f6','f7','f8','f9','fa','fb','fc','fd','fe','ff'];let re=1234567;const ne=Math.PI/180,ae=n.RAD2DEG=180/Math.PI;function oe(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(se[255&t]+se[t>>8&255]+se[t>>16&255]+se[t>>24&255]+'-'+se[255&e]+se[e>>8&255]+'-'+se[e>>16&15|64]+se[e>>24&255]+'-'+se[63&i|128]+se[i>>8&255]+'-'+se[i>>16&255]+se[i>>24&255]+se[255&s]+se[s>>8&255]+se[s>>16&255]+se[s>>24&255]).toLowerCase()}function he(t,e,i){return Math.max(e,Math.min(i,t))}function le(t,e){return(t%e+e)%e}function ce(t,e,i){return(1-i)*t+i*e}function ue(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error('Invalid component type.')}}function pe(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error('Invalid component type.')}}n.MathUtils={DEG2RAD:ne,RAD2DEG:ae,generateUUID:oe,clamp:he,euclideanModulo:le,mapLinear:function(t,e,i,s,r){return s+(t-e)*(r-s)/(i-e)},inverseLerp:function(t,e,i){return t!==e?(i-t)/(e-t):0},lerp:ce,damp:function(t,e,i,s){return ce(t,e,1-Math.exp(-i*s))},pingpong:function(t,e=1){return e-Math.abs(le(t,2*e)-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(re=t);let e=re+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*ne},radToDeg:function(t){return t*ae},isPowerOfTwo:function(t){return!(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,s,r){const n=Math.cos,a=Math.sin,o=n(i/2),h=a(i/2),l=n((e+s)/2),c=a((e+s)/2),u=n((e-s)/2),p=a((e-s)/2),d=n((s-e)/2),m=a((s-e)/2);switch(r){case'XYX':t.set(o*c,h*u,h*p,o*l);break;case'YZY':t.set(h*p,o*c,h*u,o*l);break;case'ZXZ':t.set(h*u,h*p,o*c,o*l);break;case'XZX':t.set(o*c,h*m,h*d,o*l);break;case'YXY':t.set(h*d,o*c,h*m,o*l);break;case'ZYZ':t.set(h*m,h*d,o*c,o*l);break;default:console.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: '+r)}},normalize:pe,denormalize:ue};class de{constructor(t=0,e=0){de.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=he(this.x,t.x,e.x),this.y=he(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=he(this.x,t,e),this.y=he(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(he(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(he(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,n=this.y-t.y;return this.x=r*i-n*s+t.x,this.y=r*s+n*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}n.Vector2=de;class me{constructor(t=0,e=0,i=0,s=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=s}static slerpFlat(t,e,i,s,r,n,a){let o=i[s+0],h=i[s+1],l=i[s+2],c=i[s+3];const u=r[n+0],p=r[n+1],d=r[n+2],m=r[n+3];if(0===a)return t[e+0]=o,t[e+1]=h,t[e+2]=l,void(t[e+3]=c);if(1===a)return t[e+0]=u,t[e+1]=p,t[e+2]=d,void(t[e+3]=m);if(c!==m||o!==u||h!==p||l!==d){let t=1-a;const e=o*u+h*p+l*d+c*m,i=e>=0?1:-1,s=1-e*e;if(s>Number.EPSILON){const r=Math.sqrt(s),n=Math.atan2(r,e*i);t=Math.sin(t*n)/r,a=Math.sin(a*n)/r}const r=a*i;if(o=o*t+u*r,h=h*t+p*r,l=l*t+d*r,c=c*t+m*r,t===1-a){const t=1/Math.sqrt(o*o+h*h+l*l+c*c);o*=t,h*=t,l*=t,c*=t}}t[e]=o,t[e+1]=h,t[e+2]=l,t[e+3]=c}static multiplyQuaternionsFlat(t,e,i,s,r,n){const a=i[s],o=i[s+1],h=i[s+2],l=i[s+3],c=r[n],u=r[n+1],p=r[n+2],d=r[n+3];return t[e]=a*d+l*c+o*p-h*u,t[e+1]=o*d+l*u+h*c-a*p,t[e+2]=h*d+l*p+a*u-o*c,t[e+3]=l*d-a*c-o*u-h*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,s=t._y,r=t._z,n=t._order,a=Math.cos,o=Math.sin,h=a(i/2),l=a(s/2),c=a(r/2),u=o(i/2),p=o(s/2),d=o(r/2);switch(n){case'XYZ':this._x=u*l*c+h*p*d,this._y=h*p*c-u*l*d,this._z=h*l*d+u*p*c,this._w=h*l*c-u*p*d;break;case'YXZ':this._x=u*l*c+h*p*d,this._y=h*p*c-u*l*d,this._z=h*l*d-u*p*c,this._w=h*l*c+u*p*d;break;case'ZXY':this._x=u*l*c-h*p*d,this._y=h*p*c+u*l*d,this._z=h*l*d+u*p*c,this._w=h*l*c-u*p*d;break;case'ZYX':this._x=u*l*c-h*p*d,this._y=h*p*c+u*l*d,this._z=h*l*d-u*p*c,this._w=h*l*c+u*p*d;break;case'YZX':this._x=u*l*c+h*p*d,this._y=h*p*c+u*l*d,this._z=h*l*d-u*p*c,this._w=h*l*c-u*p*d;break;case'XZY':this._x=u*l*c-h*p*d,this._y=h*p*c-u*l*d,this._z=h*l*d+u*p*c,this._w=h*l*c+u*p*d;break;default:console.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: '+n)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],n=e[1],a=e[5],o=e[9],h=e[2],l=e[6],c=e[10],u=i+a+c;if(u>0){const t=.5/Math.sqrt(u+1);this._w=.25/t,this._x=(l-o)*t,this._y=(r-h)*t,this._z=(n-s)*t}else if(i>a&&i>c){const t=2*Math.sqrt(1+i-a-c);this._w=(l-o)/t,this._x=.25*t,this._y=(s+n)/t,this._z=(r+h)/t}else if(a>c){const t=2*Math.sqrt(1+a-i-c);this._w=(r-h)/t,this._x=(s+n)/t,this._y=.25*t,this._z=(o+l)/t}else{const t=2*Math.sqrt(1+c-i-a);this._w=(n-s)/t,this._x=(r+h)/t,this._y=(o+l)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-8?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(he(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,n=t._w,a=e._x,o=e._y,h=e._z,l=e._w;return this._x=i*l+n*a+s*h-r*o,this._y=s*l+n*o+r*a-i*h,this._z=r*l+n*h+i*o-s*a,this._w=n*l-i*a-s*o-r*h,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,r=this._z,n=this._w;let a=n*t._w+i*t._x+s*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=n,this._x=i,this._y=s,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const t=1-e;return this._w=t*n+e*this._w,this._x=t*i+e*this._x,this._y=t*s+e*this._y,this._z=t*r+e*this._z,this.normalize(),this}const h=Math.sqrt(o),l=Math.atan2(h,a),c=Math.sin((1-e)*l)/h,u=Math.sin(e*l)/h;return this._w=n*c+this._w*u,this._x=i*c+this._x*u,this._y=s*c+this._y*u,this._z=r*c+this._z*u,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),s=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(s*Math.sin(t),s*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}n.Quaternion=me;class ye{constructor(t=0,e=0,i=0){ye.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(fe.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(fe.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,n=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*n,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*n,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*n,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,n=t.y,a=t.z,o=t.w,h=2*(n*s-a*i),l=2*(a*e-r*s),c=2*(r*i-n*e);return this.x=e+o*h+n*c-a*l,this.y=i+o*l+a*h-r*c,this.z=s+o*c+r*l-n*h,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=he(this.x,t.x,e.x),this.y=he(this.y,t.y,e.y),this.z=he(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=he(this.x,t,e),this.y=he(this.y,t,e),this.z=he(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(he(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,n=e.x,a=e.y,o=e.z;return this.x=s*o-r*a,this.y=r*n-i*o,this.z=i*a-s*n,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return ge.copy(this).projectOnVector(t),this.sub(ge)}reflect(t){return this.sub(ge.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(he(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}n.Vector3=ye;const ge=new ye,fe=new me;class xe{constructor(t,e,i,s,r,n,a,o,h){xe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,s,r,n,a,o,h)}set(t,e,i,s,r,n,a,o,h){const l=this.elements;return l[0]=t,l[1]=s,l[2]=a,l[3]=e,l[4]=r,l[5]=o,l[6]=i,l[7]=n,l[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,n=i[0],a=i[3],o=i[6],h=i[1],l=i[4],c=i[7],u=i[2],p=i[5],d=i[8],m=s[0],y=s[3],g=s[6],f=s[1],x=s[4],b=s[7],v=s[2],M=s[5],w=s[8];return r[0]=n*m+a*f+o*v,r[3]=n*y+a*x+o*M,r[6]=n*g+a*b+o*w,r[1]=h*m+l*f+c*v,r[4]=h*y+l*x+c*M,r[7]=h*g+l*b+c*w,r[2]=u*m+p*f+d*v,r[5]=u*y+p*x+d*M,r[8]=u*g+p*b+d*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],a=t[5],o=t[6],h=t[7],l=t[8];return e*n*l-e*a*h-i*r*l+i*a*o+s*r*h-s*n*o}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=l*n-a*h,u=a*o-l*r,p=h*r-n*o,d=e*c+i*u+s*p;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const m=1/d;return t[0]=c*m,t[1]=(s*h-l*i)*m,t[2]=(a*i-s*n)*m,t[3]=u*m,t[4]=(l*e-s*o)*m,t[5]=(s*r-a*e)*m,t[6]=p*m,t[7]=(i*o-h*e)*m,t[8]=(n*e-i*r)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,n,a){const o=Math.cos(r),h=Math.sin(r);return this.set(i*o,i*h,-i*(o*n+h*a)+n+t,-s*h,s*o,-s*(-h*n+o*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(be.makeScale(t,e)),this}rotate(t){return this.premultiply(be.makeRotation(-t)),this}translate(t,e){return this.premultiply(be.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<9;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}n.Matrix3=xe;const be=new xe;function ve(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Me={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function we(t,e){return new Me[t](e)}function Se(t){return document.createElementNS('http://www.w3.org/1999/xhtml',t)}const _e={};function Ae(t){t in _e||(_e[t]=!0,console.warn(t))}const Te=(new xe).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Ce=(new xe).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Ie(){const t={enabled:!0,workingColorSpace:Xt,spaces:{},convert:function(t,e,i){return!1!==this.enabled&&e!==i&&e&&i?(this.spaces[e].transfer===Yt&&(t.r=Be(t.r),t.g=Be(t.g),t.b=Be(t.b)),this.spaces[e].primaries!==this.spaces[i].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===Yt&&(t.r=Re(t.r),t.g=Re(t.g),t.b=Re(t.b)),t):t},workingToColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},colorSpaceToWorking:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===qt?Zt:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,i){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(e,i){return Ae('THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace().'),t.workingToColorSpace(e,i)},toWorkingColorSpace:function(e,i){return Ae('THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking().'),t.colorSpaceToWorking(e,i)}},e=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],s=[.3127,.329];return t.define({[Xt]:{primaries:e,whitePoint:s,transfer:Zt,toXYZ:Te,fromXYZ:Ce,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:Jt},outputColorSpaceConfig:{drawingBufferColorSpace:Jt}},[Jt]:{primaries:e,whitePoint:s,transfer:Yt,toXYZ:Te,fromXYZ:Ce,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:Jt}}}),t}const ze=n.ColorManagement=Ie();function Be(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function Re(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let Ee;class Pe{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src))return t.src;if('undefined'==typeof HTMLCanvasElement)return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{void 0===Ee&&(Ee=Se('canvas')),Ee.width=t.width,Ee.height=t.height;const e=Ee.getContext('2d');t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),i=Ee}return i.toDataURL(e)}static sRGBToLinear(t){if('undefined'!=typeof HTMLImageElement&&t instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=Se('canvas');e.width=t.width,e.height=t.height;const i=e.getContext('2d');i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let t=0;t<r.length;t++)r[t]=255*Be(r[t]/255);return i.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*Be(e[t]/255)):e[t]=Be(e[t]);return{data:e,width:t.width,height:t.height}}return console.warn('THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied.'),t}}n.ImageUtils=Pe;let Fe=0;class ke{constructor(t=null){this.isSource=!0,Object.defineProperty(this,'id',{value:Fe++}),this.uuid=oe(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight):null!==e?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||'string'==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:''},s=this.data;if(null!==s){let t;if(Array.isArray(s)){t=[];for(let e=0,i=s.length;e<i;e++)s[e].isDataTexture?t.push(Oe(s[e].image)):t.push(Oe(s[e]))}else t=Oe(s);i.url=t}return e||(t.images[this.uuid]=i),i}}function Oe(t){return'undefined'!=typeof HTMLImageElement&&t instanceof HTMLImageElement||'undefined'!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||'undefined'!=typeof ImageBitmap&&t instanceof ImageBitmap?Pe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn('THREE.Texture: Unable to serialize Texture.'),{})}n.Source=ke;let Le=0;const Ne=new ye;class Ve extends ie{constructor(t=Ve.DEFAULT_IMAGE,e=Ve.DEFAULT_MAPPING,i=T,s=T,r=R,n=P,a=J,o=F,h=Ve.DEFAULT_ANISOTROPY,l=qt){super(),this.isTexture=!0,Object.defineProperty(this,'id',{value:Le++}),this.uuid=oe(),this.name='',this.source=new ke(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=s,this.magFilter=r,this.minFilter=n,this.anisotropy=h,this.format=a,this.internalFormat=null,this.type=o,this.offset=new de(0,0),this.repeat=new de(1,1),this.center=new de(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=l,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&&t.depth&&t.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(Ne).x}get height(){return this.source.getSize(Ne).y}get depth(){return this.source.getSize(Ne).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const s=this[e];void 0!==s?s&&i&&s.isVector2&&i.isVector2||s&&i&&s.isVector3&&i.isVector3||s&&i&&s.isMatrix3&&i.isMatrix3?s.copy(i):this[e]=i:console.warn(`THREE.Texture.setValues(): property '${e}' does not exist.`)}}toJSON(t){const e=void 0===t||'string'==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.7,type:'Texture',generator:'Texture.toJSON'},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:'dispose'})}transformUv(t){if(this.mapping!==b)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case A:t.x=t.x-Math.floor(t.x);break;case T:t.x=t.x<0?0:1;break;case C:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case A:t.y=t.y-Math.floor(t.y);break;case T:t.y=t.y<0?0:1;break;case C:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}n.Texture=Ve,Ve.DEFAULT_IMAGE=null,Ve.DEFAULT_MAPPING=b,Ve.DEFAULT_ANISOTROPY=1;class De{constructor(t=0,e=0,i=0,s=1){De.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error('index is out of range: '+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error('index is out of range: '+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*s+n[12]*r,this.y=n[1]*e+n[5]*i+n[9]*s+n[13]*r,this.z=n[2]*e+n[6]*i+n[10]*s+n[14]*r,this.w=n[3]*e+n[7]*i+n[11]*s+n[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const n=.01,a=.1,o=t.elements,h=o[0],l=o[4],c=o[8],u=o[1],p=o[5],d=o[9],m=o[2],y=o[6],g=o[10];if(Math.abs(l-u)<n&&Math.abs(c-m)<n&&Math.abs(d-y)<n){if(Math.abs(l+u)<a&&Math.abs(c+m)<a&&Math.abs(d+y)<a&&Math.abs(h+p+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const t=(h+1)/2,o=(p+1)/2,f=(g+1)/2,x=(l+u)/4,b=(c+m)/4,v=(d+y)/4;return t>o&&t>f?t<n?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(t),s=x/i,r=b/i):o>f?o<n?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(o),i=x/s,r=v/s):f<n?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(f),i=b/r,s=v/r),this.set(i,s,r,e),this}let f=Math.sqrt((y-d)*(y-d)+(c-m)*(c-m)+(u-l)*(u-l));return Math.abs(f)<.001&&(f=1),this.x=(y-d)/f,this.y=(c-m)/f,this.z=(u-l)/f,this.w=Math.acos((h+p+g-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=he(this.x,t.x,e.x),this.y=he(this.y,t.y,e.y),this.z=he(this.z,t.z,e.z),this.w=he(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=he(this.x,t,e),this.y=he(this.y,t,e),this.z=he(this.z,t,e),this.w=he(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(he(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}n.Vector4=De;class Ue extends ie{constructor(t=1,e=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:R,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth,this.scissor=new De(0,0,t,e),this.scissorTest=!1,this.viewport=new De(0,0,t,e);const s={width:t,height:e,depth:i.depth},r=new Ve(s);this.textures=[];const n=i.count;for(let t=0;t<n;t++)this.textures[t]=r.clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(t={}){const e={minFilter:R,generateMipmaps:!1,flipY:!1,internalFormat:null};void 0!==t.mapping&&(e.mapping=t.mapping),void 0!==t.wrapS&&(e.wrapS=t.wrapS),void 0!==t.wrapT&&(e.wrapT=t.wrapT),void 0!==t.wrapR&&(e.wrapR=t.wrapR),void 0!==t.magFilter&&(e.magFilter=t.magFilter),void 0!==t.minFilter&&(e.minFilter=t.minFilter),void 0!==t.format&&(e.format=t.format),void 0!==t.type&&(e.type=t.type),void 0!==t.anisotropy&&(e.anisotropy=t.anisotropy),void 0!==t.colorSpace&&(e.colorSpace=t.colorSpace),void 0!==t.flipY&&(e.flipY=t.flipY),void 0!==t.generateMipmaps&&(e.generateMipmaps=t.generateMipmaps),void 0!==t.internalFormat&&(e.internalFormat=t.internalFormat);for(let t=0;t<this.textures.length;t++){this.textures[t].setValues(e)}}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==t&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=t,this.textures[s].image.height=e,this.textures[s].image.depth=i,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const i=Object.assign({},t.textures[e].image);this.textures[e].source=new ke(i)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:'dispose'})}}n.RenderTarget=Ue;class Ge extends Ue{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}n.WebGLRenderTarget=Ge;class We extends Ve{constructor(t=null,e=1,i=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=I,this.minFilter=I,this.wrapR=T,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}n.DataArrayTexture=We;n.WebGLArrayRenderTarget=class extends Ge{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new We(null,t,e,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}};class je extends Ve{constructor(t=null,e=1,i=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:s},this.magFilter=I,this.minFilter=I,this.wrapR=T,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}n.Data3DTexture=je;n.WebGL3DRenderTarget=class extends Ge{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new je(null,t,e,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}};class He{constructor(t=new ye(1/0,1/0,1/0),e=new ye(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Je.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Je.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Je.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i){const s=i.getAttribute('position');if(!0===e&&void 0!==s&&!0!==t.isInstancedMesh)for(let e=0,i=s.count;e<i;e++)!0===t.isMesh?t.getVertexPosition(e,Je):Je.fromBufferAttribute(s,e),Je.applyMatrix4(t.matrixWorld),this.expandByPoint(Je);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),Xe.copy(t.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),Xe.copy(i.boundingBox)),Xe.applyMatrix4(t.matrixWorld),this.union(Xe)}const s=t.children;for(let t=0,i=s.length;t<i;t++)this.expandByObject(s[t],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Je),Je.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(ei),ii.subVectors(this.max,ei),Ze.subVectors(t.a,ei),Ye.subVectors(t.b,ei),$e.subVectors(t.c,ei),Qe.subVectors(Ye,Ze),Ke.subVectors($e,Ye),ti.subVectors(Ze,$e);let e=[0,-Qe.z,Qe.y,0,-Ke.z,Ke.y,0,-ti.z,ti.y,Qe.z,0,-Qe.x,Ke.z,0,-Ke.x,ti.z,0,-ti.x,-Qe.y,Qe.x,0,-Ke.y,Ke.x,0,-ti.y,ti.x,0];return!!ni(e,Ze,Ye,$e,ii)&&(e=[1,0,0,0,1,0,0,0,1],!!ni(e,Ze,Ye,$e,ii)&&(si.crossVectors(Qe,Ke),e=[si.x,si.y,si.z],ni(e,Ze,Ye,$e,ii)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Je).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Je).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(qe[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),qe[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),qe[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),qe[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),qe[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),qe[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),qe[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),qe[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(qe)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}n.Box3=He;const qe=[new ye,new ye,new ye,new ye,new ye,new ye,new ye,new ye],Je=new ye,Xe=new He,Ze=new ye,Ye=new ye,$e=new ye,Qe=new ye,Ke=new ye,ti=new ye,ei=new ye,ii=new ye,si=new ye,ri=new ye;function ni(t,e,i,s,r){for(let n=0,a=t.length-3;n<=a;n+=3){ri.fromArray(t,n);const a=r.x*Math.abs(ri.x)+r.y*Math.abs(ri.y)+r.z*Math.abs(ri.z),o=e.dot(ri),h=i.dot(ri),l=s.dot(ri);if(Math.max(-Math.max(o,h,l),Math.min(o,h,l))>a)return!1}return!0}const ai=new He,oi=new ye,hi=new ye;class li{constructor(t=new ye,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):ai.setFromPoints(t).getCenter(i);let s=0;for(let e=0,r=t.length;e<r;e++)s=Math.max(s,i.distanceToSquared(t[e]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;oi.subVectors(t,this.center);const e=oi.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),i=.5*(t-this.radius);this.center.addScaledVector(oi,i/t),this.radius+=i}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(hi.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(oi.copy(t.center).add(hi)),this.expandByPoint(oi.copy(t.center).sub(hi))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}n.Sphere=li;const ci=new ye,ui=new ye,pi=new ye,di=new ye,mi=new ye,yi=new ye,gi=new ye;class fi{constructor(t=new ye,e=new ye(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ci)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=ci.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(ci.copy(this.origin).addScaledVector(this.direction,e),ci.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){ui.copy(t).add(e).multiplyScalar(.5),pi.copy(e).sub(t).normalize(),di.copy(this.origin).sub(ui);const r=.5*t.distanceTo(e),n=-this.direction.dot(pi),a=di.dot(this.direction),o=-di.dot(pi),h=di.lengthSq(),l=Math.abs(1-n*n);let c,u,p,d;if(l>0)if(c=n*o-a,u=n*a-o,d=r*l,c>=0)if(u>=-d)if(u<=d){const t=1/l;c*=t,u*=t,p=c*(c+n*u+2*a)+u*(n*c+u+2*o)+h}else u=r,c=Math.max(0,-(n*u+a)),p=-c*c+u*(u+2*o)+h;else u=-r,c=Math.max(0,-(n*u+a)),p=-c*c+u*(u+2*o)+h;else u<=-d?(c=Math.max(0,-(-n*r+a)),u=c>0?-r:Math.min(Math.max(-r,-o),r),p=-c*c+u*(u+2*o)+h):u<=d?(c=0,u=Math.min(Math.max(-r,-o),r),p=u*(u+2*o)+h):(c=Math.max(0,-(n*r+a)),u=c>0?r:Math.min(Math.max(-r,-o),r),p=-c*c+u*(u+2*o)+h);else u=n>0?-r:r,c=Math.max(0,-(n*u+a)),p=-c*c+u*(u+2*o)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,c),s&&s.copy(ui).addScaledVector(pi,u),p}intersectSphere(t,e){ci.subVectors(t.center,this.origin);const i=ci.dot(this.direction),s=ci.dot(ci)-i*i,r=t.radius*t.radius;if(s>r)return null;const n=Math.sqrt(r-s),a=i-n,o=i+n;return o<0?null:a<0?this.at(o,e):this.at(a,e)}intersectsSphere(t){return!(t.radius<0)&&this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,n,a,o;const h=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,u=this.origin;return h>=0?(i=(t.min.x-u.x)*h,s=(t.max.x-u.x)*h):(i=(t.max.x-u.x)*h,s=(t.min.x-u.x)*h),l>=0?(r=(t.min.y-u.y)*l,n=(t.max.y-u.y)*l):(r=(t.max.y-u.y)*l,n=(t.min.y-u.y)*l),i>n||r>s?null:((r>i||isNaN(i))&&(i=r),(n<s||isNaN(s))&&(s=n),c>=0?(a=(t.min.z-u.z)*c,o=(t.max.z-u.z)*c):(a=(t.max.z-u.z)*c,o=(t.min.z-u.z)*c),i>o||a>s?null:((a>i||i!=i)&&(i=a),(o<s||s!=s)&&(s=o),s<0?null:this.at(i>=0?i:s,e)))}intersectsBox(t){return null!==this.intersectBox(t,ci)}intersectTriangle(t,e,i,s,r){mi.subVectors(e,t),yi.subVectors(i,t),gi.crossVectors(mi,yi);let n,a=this.direction.dot(gi);if(a>0){if(s)return null;n=1}else{if(!(a<0))return null;n=-1,a=-a}di.subVectors(this.origin,t);const o=n*this.direction.dot(yi.crossVectors(di,yi));if(o<0)return null;const h=n*this.direction.dot(mi.cross(di));if(h<0)return null;if(o+h>a)return null;const l=-n*di.dot(gi);return l<0?null:this.at(l/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}n.Ray=fi;class xi{constructor(t,e,i,s,r,n,a,o,h,l,c,u,p,d,m,y){xi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,s,r,n,a,o,h,l,c,u,p,d,m,y)}set(t,e,i,s,r,n,a,o,h,l,c,u,p,d,m,y){const g=this.elements;return g[0]=t,g[4]=e,g[8]=i,g[12]=s,g[1]=r,g[5]=n,g[9]=a,g[13]=o,g[2]=h,g[6]=l,g[10]=c,g[14]=u,g[3]=p,g[7]=d,g[11]=m,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new xi).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/bi.setFromMatrixColumn(t,0).length(),r=1/bi.setFromMatrixColumn(t,1).length(),n=1/bi.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*n,e[9]=i[9]*n,e[10]=i[10]*n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,s=t.y,r=t.z,n=Math.cos(i),a=Math.sin(i),o=Math.cos(s),h=Math.sin(s),l=Math.cos(r),c=Math.sin(r);if('XYZ'===t.order){const t=n*l,i=n*c,s=a*l,r=a*c;e[0]=o*l,e[4]=-o*c,e[8]=h,e[1]=i+s*h,e[5]=t-r*h,e[9]=-a*o,e[2]=r-t*h,e[6]=s+i*h,e[10]=n*o}else if('YXZ'===t.order){const t=o*l,i=o*c,s=h*l,r=h*c;e[0]=t+r*a,e[4]=s*a-i,e[8]=n*h,e[1]=n*c,e[5]=n*l,e[9]=-a,e[2]=i*a-s,e[6]=r+t*a,e[10]=n*o}else if('ZXY'===t.order){const t=o*l,i=o*c,s=h*l,r=h*c;e[0]=t-r*a,e[4]=-n*c,e[8]=s+i*a,e[1]=i+s*a,e[5]=n*l,e[9]=r-t*a,e[2]=-n*h,e[6]=a,e[10]=n*o}else if('ZYX'===t.order){const t=n*l,i=n*c,s=a*l,r=a*c;e[0]=o*l,e[4]=s*h-i,e[8]=t*h+r,e[1]=o*c,e[5]=r*h+t,e[9]=i*h-s,e[2]=-h,e[6]=a*o,e[10]=n*o}else if('YZX'===t.order){const t=n*o,i=n*h,s=a*o,r=a*h;e[0]=o*l,e[4]=r-t*c,e[8]=s*c+i,e[1]=c,e[5]=n*l,e[9]=-a*l,e[2]=-h*l,e[6]=i*c+s,e[10]=t-r*c}else if('XZY'===t.order){const t=n*o,i=n*h,s=a*o,r=a*h;e[0]=o*l,e[4]=-c,e[8]=h*l,e[1]=t*c+r,e[5]=n*l,e[9]=i*c-s,e[2]=s*c-i,e[6]=a*l,e[10]=r*c+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Mi,t,wi)}lookAt(t,e,i){const s=this.elements;return Ai.subVectors(t,e),0===Ai.lengthSq()&&(Ai.z=1),Ai.normalize(),Si.crossVectors(i,Ai),0===Si.lengthSq()&&(1===Math.abs(i.z)?Ai.x+=1e-4:Ai.z+=1e-4,Ai.normalize(),Si.crossVectors(i,Ai)),Si.normalize(),_i.crossVectors(Ai,Si),s[0]=Si.x,s[4]=_i.x,s[8]=Ai.x,s[1]=Si.y,s[5]=_i.y,s[9]=Ai.y,s[2]=Si.z,s[6]=_i.z,s[10]=Ai.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,n=i[0],a=i[4],o=i[8],h=i[12],l=i[1],c=i[5],u=i[9],p=i[13],d=i[2],m=i[6],y=i[10],g=i[14],f=i[3],x=i[7],b=i[11],v=i[15],M=s[0],w=s[4],S=s[8],_=s[12],A=s[1],T=s[5],C=s[9],I=s[13],z=s[2],B=s[6],R=s[10],E=s[14],P=s[3],F=s[7],k=s[11],O=s[15];return r[0]=n*M+a*A+o*z+h*P,r[4]=n*w+a*T+o*B+h*F,r[8]=n*S+a*C+o*R+h*k,r[12]=n*_+a*I+o*E+h*O,r[1]=l*M+c*A+u*z+p*P,r[5]=l*w+c*T+u*B+p*F,r[9]=l*S+c*C+u*R+p*k,r[13]=l*_+c*I+u*E+p*O,r[2]=d*M+m*A+y*z+g*P,r[6]=d*w+m*T+y*B+g*F,r[10]=d*S+m*C+y*R+g*k,r[14]=d*_+m*I+y*E+g*O,r[3]=f*M+x*A+b*z+v*P,r[7]=f*w+x*T+b*B+v*F,r[11]=f*S+x*C+b*R+v*k,r[15]=f*_+x*I+b*E+v*O,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],n=t[1],a=t[5],o=t[9],h=t[13],l=t[2],c=t[6],u=t[10],p=t[14];return t[3]*(+r*o*c-s*h*c-r*a*u+i*h*u+s*a*p-i*o*p)+t[7]*(+e*o*p-e*h*u+r*n*u-s*n*p+s*h*l-r*o*l)+t[11]*(+e*h*c-e*a*p-r*n*c+i*n*p+r*a*l-i*h*l)+t[15]*(-s*a*l-e*o*c+e*a*u+s*n*c-i*n*u+i*o*l)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],a=t[5],o=t[6],h=t[7],l=t[8],c=t[9],u=t[10],p=t[11],d=t[12],m=t[13],y=t[14],g=t[15],f=c*y*h-m*u*h+m*o*p-a*y*p-c*o*g+a*u*g,x=d*u*h-l*y*h-d*o*p+n*y*p+l*o*g-n*u*g,b=l*m*h-d*c*h+d*a*p-n*m*p-l*a*g+n*c*g,v=d*c*o-l*m*o-d*a*u+n*m*u+l*a*y-n*c*y,M=e*f+i*x+s*b+r*v;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/M;return t[0]=f*w,t[1]=(m*u*r-c*y*r-m*s*p+i*y*p+c*s*g-i*u*g)*w,t[2]=(a*y*r-m*o*r+m*s*h-i*y*h-a*s*g+i*o*g)*w,t[3]=(c*o*r-a*u*r-c*s*h+i*u*h+a*s*p-i*o*p)*w,t[4]=x*w,t[5]=(l*y*r-d*u*r+d*s*p-e*y*p-l*s*g+e*u*g)*w,t[6]=(d*o*r-n*y*r-d*s*h+e*y*h+n*s*g-e*o*g)*w,t[7]=(n*u*r-l*o*r+l*s*h-e*u*h-n*s*p+e*o*p)*w,t[8]=b*w,t[9]=(d*c*r-l*m*r-d*i*p+e*m*p+l*i*g-e*c*g)*w,t[10]=(n*m*r-d*a*r+d*i*h-e*m*h-n*i*g+e*a*g)*w,t[11]=(l*a*r-n*c*r-l*i*h+e*c*h+n*i*p-e*a*p)*w,t[12]=v*w,t[13]=(l*m*s-d*c*s+d*i*u-e*m*u-l*i*y+e*c*y)*w,t[14]=(d*a*s-n*m*s-d*i*o+e*m*o+n*i*y-e*a*y)*w,t[15]=(n*c*s-l*a*s+l*i*o-e*c*o-n*i*u+e*a*u)*w,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],s=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,s))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,n=t.x,a=t.y,o=t.z,h=r*n,l=r*a;return this.set(h*n+i,h*a-s*o,h*o+s*a,0,h*a+s*o,l*a+i,l*o-s*n,0,h*o-s*a,l*o+s*n,r*o*o+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,n){return this.set(1,i,r,0,t,1,n,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,n=e._y,a=e._z,o=e._w,h=r+r,l=n+n,c=a+a,u=r*h,p=r*l,d=r*c,m=n*l,y=n*c,g=a*c,f=o*h,x=o*l,b=o*c,v=i.x,M=i.y,w=i.z;return s[0]=(1-(m+g))*v,s[1]=(p+b)*v,s[2]=(d-x)*v,s[3]=0,s[4]=(p-b)*M,s[5]=(1-(u+g))*M,s[6]=(y+f)*M,s[7]=0,s[8]=(d+x)*w,s[9]=(y-f)*w,s[10]=(1-(u+m))*w,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=bi.set(s[0],s[1],s[2]).length();const n=bi.set(s[4],s[5],s[6]).length(),a=bi.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],vi.copy(this);const o=1/r,h=1/n,l=1/a;return vi.elements[0]*=o,vi.elements[1]*=o,vi.elements[2]*=o,vi.elements[4]*=h,vi.elements[5]*=h,vi.elements[6]*=h,vi.elements[8]*=l,vi.elements[9]*=l,vi.elements[10]*=l,e.setFromRotationMatrix(vi),i.x=r,i.y=n,i.z=a,this}makePerspective(t,e,i,s,r,n,a=te){const o=this.elements,h=2*r/(e-t),l=2*r/(i-s),c=(e+t)/(e-t),u=(i+s)/(i-s);let p,d;if(a===te)p=-(n+r)/(n-r),d=-2*n*r/(n-r);else{if(a!==ee)throw new Error('THREE.Matrix4.makePerspective(): Invalid coordinate system: '+a);p=-n/(n-r),d=-n*r/(n-r)}return o[0]=h,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=p,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,i,s,r,n,a=te){const o=this.elements,h=1/(e-t),l=1/(i-s),c=1/(n-r),u=(e+t)*h,p=(i+s)*l;let d,m;if(a===te)d=(n+r)*c,m=-2*c;else{if(a!==ee)throw new Error('THREE.Matrix4.makeOrthographic(): Invalid coordinate system: '+a);d=r*c,m=-1*c}return o[0]=2*h,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-p,o[2]=0,o[6]=0,o[10]=m,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let t=0;t<16;t++)if(e[t]!==i[t])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}n.Matrix4=xi;const bi=new ye,vi=new xi,Mi=new ye(0,0,0),wi=new ye(1,1,1),Si=new ye,_i=new ye,Ai=new ye,Ti=new xi,Ci=new me;class Ii{constructor(t=0,e=0,i=0,s=Ii.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],n=s[4],a=s[8],o=s[1],h=s[5],l=s[9],c=s[2],u=s[6],p=s[10];switch(e){case'XYZ':this._y=Math.asin(he(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-n,r)):(this._x=Math.atan2(u,h),this._z=0);break;case'YXZ':this._x=Math.asin(-he(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(o,h)):(this._y=Math.atan2(-c,r),this._z=0);break;case'ZXY':this._x=Math.asin(he(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(-c,p),this._z=Math.atan2(-n,h)):(this._y=0,this._z=Math.atan2(o,r));break;case'ZYX':this._y=Math.asin(-he(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(u,p),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-n,h));break;case'YZX':this._z=Math.asin(he(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(a,p));break;case'XZY':this._z=Math.asin(-he(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(u,h),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-l,p),this._y=0);break;default:console.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: '+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return Ti.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ti,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Ci.setFromEuler(this),this.setFromQuaternion(Ci,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}n.Euler=Ii,Ii.DEFAULT_ORDER='XYZ';class zi{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return 0!==(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}n.Layers=zi;let Bi=0;const Ri=new ye,Ei=new me,Pi=new xi,Fi=new ye,ki=new ye,Oi=new ye,Li=new me,Ni=new ye(1,0,0),Vi=new ye(0,1,0),Di=new ye(0,0,1),Ui={type:'added'},Gi={type:'removed'},Wi={type:'childadded',child:null},ji={type:'childremoved',child:null};class Hi extends ie{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,'id',{value:Bi++}),this.uuid=oe(),this.name='',this.type='Object3D',this.parent=null,this.children=[],this.up=Hi.DEFAULT_UP.clone();const t=new ye,e=new Ii,i=new me,s=new ye(1,1,1);e._onChange(function(){i.setFromEuler(e,!1)}),i._onChange(function(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new xi},normalMatrix:{value:new xe}}),this.matrix=new xi,this.matrixWorld=new xi,this.matrixAutoUpdate=Hi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new zi,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Ei.setFromAxisAngle(t,e),this.quaternion.multiply(Ei),this}rotateOnWorldAxis(t,e){return Ei.setFromAxisAngle(t,e),this.quaternion.premultiply(Ei),this}rotateX(t){return this.rotateOnAxis(Ni,t)}rotateY(t){return this.rotateOnAxis(Vi,t)}rotateZ(t){return this.rotateOnAxis(Di,t)}translateOnAxis(t,e){return Ri.copy(t).applyQuaternion(this.quaternion),this.position.add(Ri.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Ni,t)}translateY(t){return this.translateOnAxis(Vi,t)}translateZ(t){return this.translateOnAxis(Di,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Pi.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Fi.copy(t):Fi.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),ki.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pi.lookAt(ki,Fi,this.up):Pi.lookAt(Fi,ki,this.up),this.quaternion.setFromRotationMatrix(Pi),s&&(Pi.extractRotation(s.matrixWorld),Ei.setFromRotationMatrix(Pi),this.quaternion.premultiply(Ei.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error('THREE.Object3D.add: object can\'t be added as a child of itself.',t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Ui),Wi.child=t,this.dispatchEvent(Wi),Wi.child=null):console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.',t),this)}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Gi),ji.child=t,this.dispatchEvent(ji),ji.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Pi.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Pi.multiply(t.parent.matrixWorld)),t.applyMatrix4(Pi),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Ui),Wi.child=t,this.dispatchEvent(Wi),Wi.child=null,this}getObjectById(t){return this.getObjectByProperty('id',t)}getObjectByName(t){return this.getObjectByProperty('name',t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const s=this.children[i].getObjectByProperty(t,e);if(void 0!==s)return s}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const s=this.children;for(let r=0,n=s.length;r<n;r++)s[r].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ki,t,Oi),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ki,Li,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++){e[i].updateMatrixWorld(t)}}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++){t[e].updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||'string'==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:'Object',generator:'Object3D.toJSON'});const s={};function r(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(s.uuid=this.uuid,s.type=this.type,''!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type='InstancedMesh',s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type='BatchedMesh',s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(t=>Object.assign({},t,{boundingBox:t.boundingBox?t.boundingBox.toJSON():void 0,boundingSphere:t.boundingSphere?t.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(t=>Object.assign({},t)),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(t),s.indirectTexture=this._indirectTexture.toJSON(t),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(t)),null!==this.boundingSphere&&(s.boundingSphere=this.boundingSphere.toJSON()),null!==this.boundingBox&&(s.boundingBox=this.boundingBox.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,s=i.length;e<s;e++){const s=i[e];r(t.shapes,s)}else r(t.shapes,i)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,s=this.material.length;i<s;i++)e.push(r(t.materials,this.material[i]));s.material=e}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let e=0;e<this.children.length;e++)s.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let e=0;e<this.animations.length;e++){const i=this.animations[e];s.animations.push(r(t.animations,i))}}if(e){const e=n(t.geometries),s=n(t.materials),r=n(t.textures),a=n(t.images),o=n(t.shapes),h=n(t.skeletons),l=n(t.animations),c=n(t.nodes);e.length>0&&(i.geometries=e),s.length>0&&(i.materials=s),r.length>0&&(i.textures=r),a.length>0&&(i.images=a),o.length>0&&(i.shapes=o),h.length>0&&(i.skeletons=h),l.length>0&&(i.animations=l),c.length>0&&(i.nodes=c)}return i.object=s,i;function n(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){const i=t.children[e];this.add(i.clone())}return this}}n.Object3D=Hi,Hi.DEFAULT_UP=new ye(0,1,0),Hi.DEFAULT_MATRIX_AUTO_UPDATE=!0,Hi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qi=new ye,Ji=new ye,Xi=new ye,Zi=new ye,Yi=new ye,$i=new ye,Qi=new ye,Ki=new ye,ts=new ye,es=new ye,is=new De,ss=new De,rs=new De;class ns{constructor(t=new ye,e=new ye,i=new ye){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),qi.subVectors(t,e),s.cross(qi);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){qi.subVectors(s,e),Ji.subVectors(i,e),Xi.subVectors(t,e);const n=qi.dot(qi),a=qi.dot(Ji),o=qi.dot(Xi),h=Ji.dot(Ji),l=Ji.dot(Xi),c=n*h-a*a;if(0===c)return r.set(0,0,0),null;const u=1/c,p=(h*o-a*l)*u,d=(n*l-a*o)*u;return r.set(1-p-d,d,p)}static containsPoint(t,e,i,s){return null!==this.getBarycoord(t,e,i,s,Zi)&&(Zi.x>=0&&Zi.y>=0&&Zi.x+Zi.y<=1)}static getInterpolation(t,e,i,s,r,n,a,o){return null===this.getBarycoord(t,e,i,s,Zi)?(o.x=0,o.y=0,'z'in o&&(o.z=0),'w'in o&&(o.w=0),null):(o.setScalar(0),o.addScaledVector(r,Zi.x),o.addScaledVector(n,Zi.y),o.addScaledVector(a,Zi.z),o)}static getInterpolatedAttribute(t,e,i,s,r,n){return is.setScalar(0),ss.setScalar(0),rs.setScalar(0),is.fromBufferAttribute(t,e),ss.fromBufferAttribute(t,i),rs.fromBufferAttribute(t,s),n.setScalar(0),n.addScaledVector(is,r.x),n.addScaledVector(ss,r.y),n.addScaledVector(rs,r.z),n}static isFrontFacing(t,e,i,s){return qi.subVectors(i,e),Ji.subVectors(t,e),qi.cross(Ji).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return qi.subVectors(this.c,this.b),Ji.subVectors(this.a,this.b),.5*qi.cross(Ji).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(t){return ns.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return ns.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,s,r){return ns.getInterpolation(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return ns.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return ns.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let n,a;Yi.subVectors(s,i),$i.subVectors(r,i),Ki.subVectors(t,i);const o=Yi.dot(Ki),h=$i.dot(Ki);if(o<=0&&h<=0)return e.copy(i);ts.subVectors(t,s);const l=Yi.dot(ts),c=$i.dot(ts);if(l>=0&&c<=l)return e.copy(s);const u=o*c-l*h;if(u<=0&&o>=0&&l<=0)return n=o/(o-l),e.copy(i).addScaledVector(Yi,n);es.subVectors(t,r);const p=Yi.dot(es),d=$i.dot(es);if(d>=0&&p<=d)return e.copy(r);const m=p*h-o*d;if(m<=0&&h>=0&&d<=0)return a=h/(h-d),e.copy(i).addScaledVector($i,a);const y=l*d-p*c;if(y<=0&&c-l>=0&&p-d>=0)return Qi.subVectors(r,s),a=(c-l)/(c-l+(p-d)),e.copy(s).addScaledVector(Qi,a);const g=1/(y+m+u);return n=m*g,a=u*g,e.copy(i).addScaledVector(Yi,n).addScaledVector($i,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}n.Triangle=ns;const as={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},os={h:0,s:0,l:0},hs={h:0,s:0,l:0};function ls(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<.16666666666666666?t+6*(e-t)*i:i<.5?e:i<.6666666666666666?t+6*(e-t)*(.6666666666666666-i):t}class cs{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const e=t;e&&e.isColor?this.copy(e):'number'==typeof e?this.setHex(e):'string'==typeof e&&this.setStyle(e)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Jt){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,ze.colorSpaceToWorking(this,e),this}setRGB(t,e,i,s=ze.workingColorSpace){return this.r=t,this.g=e,this.b=i,ze.colorSpaceToWorking(this,s),this}setHSL(t,e,i,s=ze.workingColorSpace){if(t=le(t,1),e=he(e,0,1),i=he(i,0,1),0===e)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,r=2*i-s;this.r=ls(r,s,t+.3333333333333333),this.g=ls(r,s,t),this.b=ls(r,s,t-.3333333333333333)}return ze.colorSpaceToWorking(this,s),this}setStyle(t,e=Jt){function i(e){void 0!==e&&parseFloat(e)<1&&console.warn('THREE.Color: Alpha component of '+t+' will be ignored.')}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(t)){let r;const n=s[1],a=s[2];switch(n){case'rgb':case'rgba':if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,e);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,e);break;case'hsl':case'hsla':if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,e);break;default:console.warn('THREE.Color: Unknown color model '+t)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(t)){const i=s[1],r=i.length;if(3===r)return this.setRGB(parseInt(i.charAt(0),16)/15,parseInt(i.charAt(1),16)/15,parseInt(i.charAt(2),16)/15,e);if(6===r)return this.setHex(parseInt(i,16),e);console.warn('THREE.Color: Invalid hex color '+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Jt){const i=as[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn('THREE.Color: Unknown color '+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Be(t.r),this.g=Be(t.g),this.b=Be(t.b),this}copyLinearToSRGB(t){return this.r=Re(t.r),this.g=Re(t.g),this.b=Re(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Jt){return ze.workingToColorSpace(us.copy(this),t),65536*Math.round(he(255*us.r,0,255))+256*Math.round(he(255*us.g,0,255))+Math.round(he(255*us.b,0,255))}getHexString(t=Jt){return('000000'+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=ze.workingColorSpace){ze.workingToColorSpace(us.copy(this),e);const i=us.r,s=us.g,r=us.b,n=Math.max(i,s,r),a=Math.min(i,s,r);let o,h;const l=(a+n)/2;if(a===n)o=0,h=0;else{const t=n-a;switch(h=l<=.5?t/(n+a):t/(2-n-a),n){case i:o=(s-r)/t+(s<r?6:0);break;case s:o=(r-i)/t+2;break;case r:o=(i-s)/t+4}o/=6}return t.h=o,t.s=h,t.l=l,t}getRGB(t,e=ze.workingColorSpace){return ze.workingToColorSpace(us.copy(this),e),t.r=us.r,t.g=us.g,t.b=us.b,t}getStyle(t=Jt){ze.workingToColorSpace(us.copy(this),t);const e=us.r,i=us.g,s=us.b;return t!==Jt?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*s)})`}offsetHSL(t,e,i){return this.getHSL(os),this.setHSL(os.h+t,os.s+e,os.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(os),t.getHSL(hs);const i=ce(os.h,hs.h,e),s=ce(os.s,hs.s,e),r=ce(os.l,hs.l,e);return this.setHSL(i,s,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,s=this.b,r=t.elements;return this.r=r[0]*e+r[3]*i+r[6]*s,this.g=r[1]*e+r[4]*i+r[7]*s,this.b=r[2]*e+r[5]*i+r[8]*s,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}n.Color=cs;const us=new cs;cs.NAMES=as;let ps=0;class ds extends ie{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,'id',{value:ps++}),this.uuid=oe(),this.name='',this.type='Material',this.blending=u,this.side=h,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=d,this.blendDst=m,this.blendEquation=p,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new cs(0,0,0),this.blendAlpha=0,this.depthFunc=y,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Qt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$t,this.stencilZFail=$t,this.stencilZPass=$t,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||'string'==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.7,type:'Material',generator:'Material.toJSON'}};function s(t){const e=[];for(const i in t){const s=t[i];delete s.metadata,e.push(s)}return e}if(i.uuid=this.uuid,i.type=this.type,''!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==u&&(i.blending=this.blending),this.side!==h&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),this.blendSrc!==d&&(i.blendSrc=this.blendSrc),this.blendDst!==m&&(i.blendDst=this.blendDst),this.blendEquation!==p&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==y&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Qt&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==$t&&(i.stencilFail=this.stencilFail),this.stencilZFail!==$t&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==$t&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),'round'!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),'round'!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const e=s(t.textures),r=s(t.images);e.length>0&&(i.textures=e),r.length>0&&(i.images=r)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const t=e.length;i=new Array(t);for(let s=0;s!==t;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:'dispose'})}set needsUpdate(t){!0===t&&this.version++}}n.Material=ds;class ms extends ds{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type='MeshBasicMaterial',this.color=new cs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ii,this.combine=g,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}n.MeshBasicMaterial=ms;const ys=gs();function gs(){const t=new ArrayBuffer(4),e=new Float32Array(t),i=new Uint32Array(t),s=new Uint32Array(512),r=new Uint32Array(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(s[t]=0,s[256|t]=32768,r[t]=24,r[256|t]=24):e<-14?(s[t]=1024>>-e-14,s[256|t]=1024>>-e-14|32768,r[t]=-e-1,r[256|t]=-e-1):e<=15?(s[t]=e+15<<10,s[256|t]=e+15<<10|32768,r[t]=13,r[256|t]=13):e<128?(s[t]=31744,s[256|t]=64512,r[t]=24,r[256|t]=24):(s[t]=31744,s[256|t]=64512,r[t]=13,r[256|t]=13)}const n=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let t=1;t<1024;++t){let e=t<<13,i=0;for(;!(8388608&e);)e<<=1,i-=8388608;e&=-8388609,i+=947912704,n[t]=e|i}for(let t=1024;t<2048;++t)n[t]=939524096+(t-1024<<13);for(let t=1;t<31;++t)a[t]=t<<23;a[31]=1199570944,a[32]=2147483648;for(let t=33;t<63;++t)a[t]=2147483648+(t-32<<23);a[63]=3347054592;for(let t=1;t<64;++t)32!==t&&(o[t]=1024);return{floatView:e,uint32View:i,baseTable:s,shiftTable:r,mantissaTable:n,exponentTable:a,offsetTable:o}}function fs(t){Math.abs(t)>65504&&console.warn('THREE.DataUtils.toHalfFloat(): Value out of range.'),t=he(t,-65504,65504),ys.floatView[0]=t;const e=ys.uint32View[0],i=e>>23&511;return ys.baseTable[i]+((8388607&e)>>ys.shiftTable[i])}function xs(t){const e=t>>10;return ys.uint32View[0]=ys.mantissaTable[ys.offsetTable[e]+(1023&t)]+ys.exponentTable[e],ys.floatView[0]}n.DataUtils=class{static toHalfFloat(t){return fs(t)}static fromHalfFloat(t){return xs(t)}};const bs=new ye,vs=new de;let Ms=0;class ws{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');this.isBufferAttribute=!0,Object.defineProperty(this,'id',{value:Ms++}),this.name='',this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=Kt,this.updateRanges=[],this.gpuType=D,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)vs.fromBufferAttribute(this,e),vs.applyMatrix3(t),this.setXY(e,vs.x,vs.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)bs.fromBufferAttribute(this,e),bs.applyMatrix3(t),this.setXYZ(e,bs.x,bs.y,bs.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)bs.fromBufferAttribute(this,e),bs.applyMatrix4(t),this.setXYZ(e,bs.x,bs.y,bs.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)bs.fromBufferAttribute(this,e),bs.applyNormalMatrix(t),this.setXYZ(e,bs.x,bs.y,bs.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)bs.fromBufferAttribute(this,e),bs.transformDirection(t),this.setXYZ(e,bs.x,bs.y,bs.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=ue(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=pe(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=ue(e,this.array)),e}setX(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=ue(e,this.array)),e}setY(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=ue(e,this.array)),e}setZ(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=ue(e,this.array)),e}setW(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array),r=pe(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return''!==this.name&&(t.name=this.name),this.usage!==Kt&&(t.usage=this.usage),t}}n.BufferAttribute=ws;n.Int8BufferAttribute=class extends ws{constructor(t,e,i){super(new Int8Array(t),e,i)}};n.Uint8BufferAttribute=class extends ws{constructor(t,e,i){super(new Uint8Array(t),e,i)}};n.Uint8ClampedBufferAttribute=class extends ws{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}};n.Int16BufferAttribute=class extends ws{constructor(t,e,i){super(new Int16Array(t),e,i)}};class Ss extends ws{constructor(t,e,i){super(new Uint16Array(t),e,i)}}n.Uint16BufferAttribute=Ss;n.Int32BufferAttribute=class extends ws{constructor(t,e,i){super(new Int32Array(t),e,i)}};class _s extends ws{constructor(t,e,i){super(new Uint32Array(t),e,i)}}n.Uint32BufferAttribute=_s;n.Float16BufferAttribute=class extends ws{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=xs(this.array[t*this.itemSize]);return this.normalized&&(e=ue(e,this.array)),e}setX(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize]=fs(e),this}getY(t){let e=xs(this.array[t*this.itemSize+1]);return this.normalized&&(e=ue(e,this.array)),e}setY(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+1]=fs(e),this}getZ(t){let e=xs(this.array[t*this.itemSize+2]);return this.normalized&&(e=ue(e,this.array)),e}setZ(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+2]=fs(e),this}getW(t){let e=xs(this.array[t*this.itemSize+3]);return this.normalized&&(e=ue(e,this.array)),e}setW(t,e){return this.normalized&&(e=pe(e,this.array)),this.array[t*this.itemSize+3]=fs(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(i),this}setXYZ(t,e,i,s){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(i),this.array[t+2]=fs(s),this}setXYZW(t,e,i,s,r){return t*=this.itemSize,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array),r=pe(r,this.array)),this.array[t+0]=fs(e),this.array[t+1]=fs(i),this.array[t+2]=fs(s),this.array[t+3]=fs(r),this}};class As extends ws{constructor(t,e,i){super(new Float32Array(t),e,i)}}n.Float32BufferAttribute=As;let Ts=0;const Cs=new xi,Is=new Hi,zs=new ye,Bs=new He,Rs=new He,Es=new ye;class Ps extends ie{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,'id',{value:Ts++}),this.uuid=oe(),this.name='',this.type='BufferGeometry',this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(ve(t)?_s:Ss)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const e=(new xe).getNormalMatrix(t);i.applyNormalMatrix(e),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Cs.makeRotationFromQuaternion(t),this.applyMatrix4(Cs),this}rotateX(t){return Cs.makeRotationX(t),this.applyMatrix4(Cs),this}rotateY(t){return Cs.makeRotationY(t),this.applyMatrix4(Cs),this}rotateZ(t){return Cs.makeRotationZ(t),this.applyMatrix4(Cs),this}translate(t,e,i){return Cs.makeTranslation(t,e,i),this.applyMatrix4(Cs),this}scale(t,e,i){return Cs.makeScale(t,e,i),this.applyMatrix4(Cs),this}lookAt(t){return Is.lookAt(t),Is.updateMatrix(),this.applyMatrix4(Is.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zs).negate(),this.translate(zs.x,zs.y,zs.z),this}setFromPoints(t){const e=this.getAttribute('position');if(void 0===e){const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];e.push(s.x,s.y,s.z||0)}this.setAttribute('position',new As(e,3))}else{const i=Math.min(t.length,e.count);for(let s=0;s<i;s++){const i=t[s];e.setXYZ(s,i.x,i.y,i.z||0)}t.length>e.count&&console.warn('THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry.'),e.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new He);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.',this),void this.boundingBox.set(new ye(-1/0,-1/0,-1/0),new ye(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];Bs.setFromBufferAttribute(i),this.morphTargetsRelative?(Es.addVectors(this.boundingBox.min,Bs.min),this.boundingBox.expandByPoint(Es),Es.addVectors(this.boundingBox.max,Bs.max),this.boundingBox.expandByPoint(Es)):(this.boundingBox.expandByPoint(Bs.min),this.boundingBox.expandByPoint(Bs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new li);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.',this),void this.boundingSphere.set(new ye,1/0);if(t){const i=this.boundingSphere.center;if(Bs.setFromBufferAttribute(t),e)for(let t=0,i=e.length;t<i;t++){const i=e[t];Rs.setFromBufferAttribute(i),this.morphTargetsRelative?(Es.addVectors(Bs.min,Rs.min),Bs.expandByPoint(Es),Es.addVectors(Bs.max,Rs.max),Bs.expandByPoint(Es)):(Bs.expandByPoint(Rs.min),Bs.expandByPoint(Rs.max))}Bs.getCenter(i);let s=0;for(let e=0,r=t.count;e<r;e++)Es.fromBufferAttribute(t,e),s=Math.max(s,i.distanceToSquared(Es));if(e)for(let r=0,n=e.length;r<n;r++){const n=e[r],a=this.morphTargetsRelative;for(let e=0,r=n.count;e<r;e++)Es.fromBufferAttribute(n,e),a&&(zs.fromBufferAttribute(t,e),Es.add(zs)),s=Math.max(s,i.distanceToSquared(Es))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error('THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');const i=e.position,s=e.normal,r=e.uv;!1===this.hasAttribute('tangent')&&this.setAttribute('tangent',new ws(new Float32Array(4*i.count),4));const n=this.getAttribute('tangent'),a=[],o=[];for(let t=0;t<i.count;t++)a[t]=new ye,o[t]=new ye;const h=new ye,l=new ye,c=new ye,u=new de,p=new de,d=new de,m=new ye,y=new ye;function g(t,e,s){h.fromBufferAttribute(i,t),l.fromBufferAttribute(i,e),c.fromBufferAttribute(i,s),u.fromBufferAttribute(r,t),p.fromBufferAttribute(r,e),d.fromBufferAttribute(r,s),l.sub(h),c.sub(h),p.sub(u),d.sub(u);const n=1/(p.x*d.y-d.x*p.y);isFinite(n)&&(m.copy(l).multiplyScalar(d.y).addScaledVector(c,-p.y).multiplyScalar(n),y.copy(c).multiplyScalar(p.x).addScaledVector(l,-d.x).multiplyScalar(n),a[t].add(m),a[e].add(m),a[s].add(m),o[t].add(y),o[e].add(y),o[s].add(y))}let f=this.groups;0===f.length&&(f=[{start:0,count:t.count}]);for(let e=0,i=f.length;e<i;++e){const i=f[e],s=i.start;for(let e=s,r=s+i.count;e<r;e+=3)g(t.getX(e+0),t.getX(e+1),t.getX(e+2))}const x=new ye,b=new ye,v=new ye,M=new ye;function w(t){v.fromBufferAttribute(s,t),M.copy(v);const e=a[t];x.copy(e),x.sub(v.multiplyScalar(v.dot(e))).normalize(),b.crossVectors(M,e);const i=b.dot(o[t])<0?-1:1;n.setXYZW(t,x.x,x.y,x.z,i)}for(let e=0,i=f.length;e<i;++e){const i=f[e],s=i.start;for(let e=s,r=s+i.count;e<r;e+=3)w(t.getX(e+0)),w(t.getX(e+1)),w(t.getX(e+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute('position');if(void 0!==e){let i=this.getAttribute('normal');if(void 0===i)i=new ws(new Float32Array(3*e.count),3),this.setAttribute('normal',i);else for(let t=0,e=i.count;t<e;t++)i.setXYZ(t,0,0,0);const s=new ye,r=new ye,n=new ye,a=new ye,o=new ye,h=new ye,l=new ye,c=new ye;if(t)for(let u=0,p=t.count;u<p;u+=3){const p=t.getX(u+0),d=t.getX(u+1),m=t.getX(u+2);s.fromBufferAttribute(e,p),r.fromBufferAttribute(e,d),n.fromBufferAttribute(e,m),l.subVectors(n,r),c.subVectors(s,r),l.cross(c),a.fromBufferAttribute(i,p),o.fromBufferAttribute(i,d),h.fromBufferAttribute(i,m),a.add(l),o.add(l),h.add(l),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(d,o.x,o.y,o.z),i.setXYZ(m,h.x,h.y,h.z)}else for(let t=0,a=e.count;t<a;t+=3)s.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),n.fromBufferAttribute(e,t+2),l.subVectors(n,r),c.subVectors(s,r),l.cross(c),i.setXYZ(t+0,l.x,l.y,l.z),i.setXYZ(t+1,l.x,l.y,l.z),i.setXYZ(t+2,l.x,l.y,l.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Es.fromBufferAttribute(t,e),Es.normalize(),t.setXYZ(e,Es.x,Es.y,Es.z)}toNonIndexed(){function t(t,e){const i=t.array,s=t.itemSize,r=t.normalized,n=new i.constructor(e.length*s);let a=0,o=0;for(let r=0,h=e.length;r<h;r++){a=t.isInterleavedBufferAttribute?e[r]*t.data.stride+t.offset:e[r]*s;for(let t=0;t<s;t++)n[o++]=i[a++]}return new ws(n,s,r)}if(null===this.index)return console.warn('THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.'),this;const e=new Ps,i=this.index.array,s=this.attributes;for(const r in s){const n=t(s[r],i);e.setAttribute(r,n)}const r=this.morphAttributes;for(const s in r){const n=[],a=r[s];for(let e=0,s=a.length;e<s;e++){const s=t(a[e],i);n.push(s)}e.morphAttributes[s]=n}e.morphTargetsRelative=this.morphTargetsRelative;const n=this.groups;for(let t=0,i=n.length;t<i;t++){const i=n[t];e.addGroup(i.start,i.count,i.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:'BufferGeometry',generator:'BufferGeometry.toJSON'}};if(t.uuid=this.uuid,t.type=this.type,''!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const e in i){const s=i[e];t.data.attributes[e]=s.toJSON(t.data)}const s={};let r=!1;for(const e in this.morphAttributes){const i=this.morphAttributes[e],n=[];for(let e=0,s=i.length;e<s;e++){const s=i[e];n.push(s.toJSON(t.data))}n.length>0&&(s[e]=n,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const n=this.groups;n.length>0&&(t.data.groups=JSON.parse(JSON.stringify(n)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere=a.toJSON()),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone());const s=t.attributes;for(const t in s){const i=s[t];this.setAttribute(t,i.clone(e))}const r=t.morphAttributes;for(const t in r){const i=[],s=r[t];for(let t=0,r=s.length;t<r;t++)i.push(s[t].clone(e));this.morphAttributes[t]=i}this.morphTargetsRelative=t.morphTargetsRelative;const n=t.groups;for(let t=0,e=n.length;t<e;t++){const e=n[t];this.addGroup(e.start,e.count,e.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=t.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:'dispose'})}}n.BufferGeometry=Ps;const Fs=new xi,ks=new fi,Os=new li,Ls=new ye,Ns=new ye,Vs=new ye,Ds=new ye,Us=new ye,Gs=new ye,Ws=new ye,js=new ye;class Hs extends Hi{constructor(t=new Ps,e=new ms){super(),this.isMesh=!0,this.type='Mesh',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const i=this.geometry,s=i.attributes.position,r=i.morphAttributes.position,n=i.morphTargetsRelative;e.fromBufferAttribute(s,t);const a=this.morphTargetInfluences;if(r&&a){Gs.set(0,0,0);for(let i=0,s=r.length;i<s;i++){const s=a[i],o=r[i];0!==s&&(Us.fromBufferAttribute(o,t),n?Gs.addScaledVector(Us,s):Gs.addScaledVector(Us.sub(e),s))}e.add(Gs)}return e}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;if(void 0!==s){if(null===i.boundingSphere&&i.computeBoundingSphere(),Os.copy(i.boundingSphere),Os.applyMatrix4(r),ks.copy(t.ray).recast(t.near),!1===Os.containsPoint(ks.origin)){if(null===ks.intersectSphere(Os,Ls))return;if(ks.origin.distanceToSquared(Ls)>(t.far-t.near)**2)return}Fs.copy(r).invert(),ks.copy(t.ray).applyMatrix4(Fs),null!==i.boundingBox&&!1===ks.intersectsBox(i.boundingBox)||this._computeIntersections(t,e,ks)}}_computeIntersections(t,e,i){let s;const r=this.geometry,n=this.material,a=r.index,o=r.attributes.position,h=r.attributes.uv,l=r.attributes.uv1,c=r.attributes.normal,u=r.groups,p=r.drawRange;if(null!==a)if(Array.isArray(n))for(let r=0,o=u.length;r<o;r++){const o=u[r],d=n[o.materialIndex];for(let r=Math.max(o.start,p.start),n=Math.min(a.count,Math.min(o.start+o.count,p.start+p.count));r<n;r+=3){s=Js(this,d,t,i,h,l,c,a.getX(r),a.getX(r+1),a.getX(r+2)),s&&(s.faceIndex=Math.floor(r/3),s.face.materialIndex=o.materialIndex,e.push(s))}}else{for(let r=Math.max(0,p.start),o=Math.min(a.count,p.start+p.count);r<o;r+=3){s=Js(this,n,t,i,h,l,c,a.getX(r),a.getX(r+1),a.getX(r+2)),s&&(s.faceIndex=Math.floor(r/3),e.push(s))}}else if(void 0!==o)if(Array.isArray(n))for(let r=0,a=u.length;r<a;r++){const a=u[r],d=n[a.materialIndex];for(let r=Math.max(a.start,p.start),n=Math.min(o.count,Math.min(a.start+a.count,p.start+p.count));r<n;r+=3){s=Js(this,d,t,i,h,l,c,r,r+1,r+2),s&&(s.faceIndex=Math.floor(r/3),s.face.materialIndex=a.materialIndex,e.push(s))}}else{for(let r=Math.max(0,p.start),a=Math.min(o.count,p.start+p.count);r<a;r+=3){s=Js(this,n,t,i,h,l,c,r,r+1,r+2),s&&(s.faceIndex=Math.floor(r/3),e.push(s))}}}}function qs(t,e,i,s,r,n,a,o){let c;if(c=e.side===l?s.intersectTriangle(a,n,r,!0,o):s.intersectTriangle(r,n,a,e.side===h,o),null===c)return null;js.copy(o),js.applyMatrix4(t.matrixWorld);const u=i.ray.origin.distanceTo(js);return u<i.near||u>i.far?null:{distance:u,point:js.clone(),object:t}}function Js(t,e,i,s,r,n,a,o,h,l){t.getVertexPosition(o,Ns),t.getVertexPosition(h,Vs),t.getVertexPosition(l,Ds);const c=qs(t,e,i,s,Ns,Vs,Ds,Ws);if(c){const t=new ye;ns.getBarycoord(Ws,Ns,Vs,Ds,t),r&&(c.uv=ns.getInterpolatedAttribute(r,o,h,l,t,new de)),n&&(c.uv1=ns.getInterpolatedAttribute(n,o,h,l,t,new de)),a&&(c.normal=ns.getInterpolatedAttribute(a,o,h,l,t,new ye),c.normal.dot(s.direction)>0&&c.normal.multiplyScalar(-1));const e={a:o,b:h,c:l,normal:new ye,materialIndex:0};ns.getNormal(Ns,Vs,Ds,e.normal),c.face=e,c.barycoord=t}return c}n.Mesh=Hs;class Xs extends Ps{constructor(t=1,e=1,i=1,s=1,r=1,n=1){super(),this.type='BoxGeometry',this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:n};const a=this;s=Math.floor(s),r=Math.floor(r),n=Math.floor(n);const o=[],h=[],l=[],c=[];let u=0,p=0;function d(t,e,i,s,r,n,d,m,y,g,f){const x=n/y,b=d/g,v=n/2,M=d/2,w=m/2,S=y+1,_=g+1;let A=0,T=0;const C=new ye;for(let n=0;n<_;n++){const a=n*b-M;for(let o=0;o<S;o++){const u=o*x-v;C[t]=u*s,C[e]=a*r,C[i]=w,h.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=m>0?1:-1,l.push(C.x,C.y,C.z),c.push(o/y),c.push(1-n/g),A+=1}}for(let t=0;t<g;t++)for(let e=0;e<y;e++){const i=u+e+S*t,s=u+e+S*(t+1),r=u+(e+1)+S*(t+1),n=u+(e+1)+S*t;o.push(i,s,n),o.push(s,r,n),T+=6}a.addGroup(p,T,f),p+=T,u+=A}d('z','y','x',-1,-1,i,e,t,n,r,0),d('z','y','x',1,-1,i,e,-t,n,r,1),d('x','z','y',1,1,t,i,e,s,n,2),d('x','z','y',1,-1,t,i,-e,s,n,3),d('x','y','z',1,-1,t,e,i,s,r,4),d('x','y','z',-1,-1,t,e,-i,s,r,5),this.setIndex(o),this.setAttribute('position',new As(h,3)),this.setAttribute('normal',new As(l,3)),this.setAttribute('uv',new As(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Xs(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Zs(t){const e={};for(const i in t){e[i]={};for(const s in t[i]){const r=t[i][s];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn('UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms().'),e[i][s]=null):e[i][s]=r.clone():Array.isArray(r)?e[i][s]=r.slice():e[i][s]=r}}return e}function Ys(t){const e={};for(let i=0;i<t.length;i++){const s=Zs(t[i]);for(const t in s)e[t]=s[t]}return e}function $s(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i].clone());return e}n.BoxGeometry=Xs;n.UniformsUtils={clone:Zs,merge:Ys};class Qs extends ds{constructor(t){super(),this.isShaderMaterial=!0,this.type='ShaderMaterial',this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Zs(t.uniforms),this.uniformsGroups=$s(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?e.uniforms[i]={type:'t',value:s.toJSON(t).uuid}:s&&s.isColor?e.uniforms[i]={type:'c',value:s.getHex()}:s&&s.isVector2?e.uniforms[i]={type:'v2',value:s.toArray()}:s&&s.isVector3?e.uniforms[i]={type:'v3',value:s.toArray()}:s&&s.isVector4?e.uniforms[i]={type:'v4',value:s.toArray()}:s&&s.isMatrix3?e.uniforms[i]={type:'m3',value:s.toArray()}:s&&s.isMatrix4?e.uniforms[i]={type:'m4',value:s.toArray()}:e.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const t in this.extensions)!0===this.extensions[t]&&(i[t]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}n.ShaderMaterial=Qs;class Ks extends Hi{constructor(){super(),this.isCamera=!0,this.type='Camera',this.matrixWorldInverse=new xi,this.projectionMatrix=new xi,this.projectionMatrixInverse=new xi,this.coordinateSystem=te}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}n.Camera=Ks;const tr=new ye,er=new de,ir=new de;class sr extends Ks{constructor(t=50,e=1,i=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type='PerspectiveCamera',this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*ae*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*ne*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*ae*Math.atan(Math.tan(.5*ne*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){tr.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(tr.x,tr.y).multiplyScalar(-t/tr.z),tr.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(tr.x,tr.y).multiplyScalar(-t/tr.z)}getViewSize(t,e){return this.getViewBounds(t,er,ir),e.subVectors(ir,er)}setViewOffset(t,e,i,s,r,n){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*ne*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const n=this.view;if(null!==this.view&&this.view.enabled){const t=n.fullWidth,a=n.fullHeight;r+=n.offsetX*s/t,e-=n.offsetY*i/a,s*=n.width/t,i*=n.height/a}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}n.PerspectiveCamera=sr;const rr=-90;class nr extends Hi{constructor(t,e,i){super(),this.type='CubeCamera',this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new sr(rr,1,t,e);s.layers=this.layers,this.add(s);const r=new sr(rr,1,t,e);r.layers=this.layers,this.add(r);const n=new sr(rr,1,t,e);n.layers=this.layers,this.add(n);const a=new sr(rr,1,t,e);a.layers=this.layers,this.add(a);const o=new sr(rr,1,t,e);o.layers=this.layers,this.add(o);const h=new sr(rr,1,t,e);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,s,r,n,a,o]=e;for(const t of e)this.remove(t);if(t===te)i.up.set(0,1,0),i.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),n.up.set(0,0,1),n.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),o.up.set(0,1,0),o.lookAt(0,0,-1);else{if(t!==ee)throw new Error('THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: '+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),n.up.set(0,0,-1),n.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),o.up.set(0,-1,0),o.lookAt(0,0,-1)}for(const t of e)this.add(t),t.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:s}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,n,a,o,h,l]=this.children,c=t.getRenderTarget(),u=t.getActiveCubeFace(),p=t.getActiveMipmapLevel(),d=t.xr.enabled;t.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,s),t.render(e,r),t.setRenderTarget(i,1,s),t.render(e,n),t.setRenderTarget(i,2,s),t.render(e,a),t.setRenderTarget(i,3,s),t.render(e,o),t.setRenderTarget(i,4,s),t.render(e,h),i.texture.generateMipmaps=m,t.setRenderTarget(i,5,s),t.render(e,l),t.setRenderTarget(c,u,p),t.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}n.CubeCamera=nr;class ar extends Ve{constructor(t=[],e=v,i,s,r,n,a,o,h,l){super(t,e,i,s,r,n,a,o,h,l),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}n.CubeTexture=ar;n.WebGLCubeRenderTarget=class extends Ge{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},s=[i,i,i,i,i,i];this.texture=new ar(s),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},s=new Xs(5,5,5),r=new Qs({name:'CubemapFromEquirect',uniforms:Zs(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:l,blending:c});r.uniforms.tEquirect.value=e;const n=new Hs(s,r),a=e.minFilter;e.minFilter===P&&(e.minFilter=R);return new nr(1,10,this).update(t,n),e.minFilter=a,n.geometry.dispose(),n.material.dispose(),this}clear(t,e=!0,i=!0,s=!0){const r=t.getRenderTarget();for(let r=0;r<6;r++)t.setRenderTarget(this,r),t.clear(e,i,s);t.setRenderTarget(r)}};class or extends Hi{constructor(){super(),this.isGroup=!0,this.type='Group'}}n.Group=or;const hr={type:'move'};n.WebXRController=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new or,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new or,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ye,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ye),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new or,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ye,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ye),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:'connected',data:t}),this}disconnect(t){return this.dispatchEvent({type:'disconnected',data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,n=null;const a=this._targetRay,o=this._grip,h=this._hand;if(t&&'visible-blurred'!==e.session.visibilityState){if(h&&t.hand){n=!0;for(const s of t.hand.values()){const t=e.getJointPose(s,i),r=this._getHandJoint(h,s);null!==t&&(r.matrix.fromArray(t.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=t.radius),r.visible=null!==t}const s=h.joints['index-finger-tip'],r=h.joints['thumb-tip'],a=s.position.distanceTo(r.position);h.inputState.pinching&&a>.025?(h.inputState.pinching=!1,this.dispatchEvent({type:'pinchend',handedness:t.handedness,target:this})):!h.inputState.pinching&&a<=.015&&(h.inputState.pinching=!0,this.dispatchEvent({type:'pinchstart',handedness:t.handedness,target:this}))}else null!==o&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));null!==a&&(s=e.getPose(t.targetRaySpace,i),null===s&&null!==r&&(s=r),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(hr)))}return null!==a&&(a.visible=null!==s),null!==o&&(o.visible=null!==r),null!==h&&(h.visible=null!==n),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new or;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}};class lr{constructor(t,e=25e-5){this.isFogExp2=!0,this.name='',this.color=new cs(t),this.density=e}clone(){return new lr(this.color,this.density)}toJSON(){return{type:'FogExp2',name:this.name,color:this.color.getHex(),density:this.density}}}n.FogExp2=lr;class cr{constructor(t,e=1,i=1e3){this.isFog=!0,this.name='',this.color=new cs(t),this.near=e,this.far=i}clone(){return new cr(this.color,this.near,this.far)}toJSON(){return{type:'Fog',name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}n.Fog=cr;class ur extends Hi{constructor(){super(),this.isScene=!0,this.type='Scene',this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ii,this.environmentIntensity=1,this.environmentRotation=new Ii,this.overrideMaterial=null,'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe',{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}n.Scene=ur;class pr{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Kt,this.updateRanges=[],this.version=0,this.uuid=oe()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oe()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oe()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}n.InterleavedBuffer=pr;const dr=new ye;class mr{constructor(t,e,i,s=!1){this.isInterleavedBufferAttribute=!0,this.name='',this.data=t,this.itemSize=e,this.offset=i,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)dr.fromBufferAttribute(this,e),dr.applyMatrix4(t),this.setXYZ(e,dr.x,dr.y,dr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)dr.fromBufferAttribute(this,e),dr.applyNormalMatrix(t),this.setXYZ(e,dr.x,dr.y,dr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)dr.fromBufferAttribute(this,e),dr.transformDirection(t),this.setXYZ(e,dr.x,dr.y,dr.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=ue(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=pe(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=pe(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=pe(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=pe(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=pe(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=ue(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=ue(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=ue(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=ue(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return t=t*this.data.stride+this.offset,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=pe(e,this.array),i=pe(i,this.array),s=pe(s,this.array),r=pe(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.');const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return new ws(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new mr(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.');const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}n.InterleavedBufferAttribute=mr;class yr extends ds{constructor(t){super(),this.isSpriteMaterial=!0,this.type='SpriteMaterial',this.color=new cs(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let gr;n.SpriteMaterial=yr;const fr=new ye,xr=new ye,br=new ye,vr=new de,Mr=new de,wr=new xi,Sr=new ye,_r=new ye,Ar=new ye,Tr=new de,Cr=new de,Ir=new de;class zr extends Hi{constructor(t=new yr){if(super(),this.isSprite=!0,this.type='Sprite',void 0===gr){gr=new Ps;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new pr(t,5);gr.setIndex([0,1,2,0,2,3]),gr.setAttribute('position',new mr(e,3,0,!1)),gr.setAttribute('uv',new mr(e,2,3,!1))}this.geometry=gr,this.material=t,this.center=new de(.5,.5),this.count=1}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),xr.setFromMatrixScale(this.matrixWorld),wr.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),br.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&xr.multiplyScalar(-br.z);const i=this.material.rotation;let s,r;0!==i&&(r=Math.cos(i),s=Math.sin(i));const n=this.center;Br(Sr.set(-.5,-.5,0),br,n,xr,s,r),Br(_r.set(.5,-.5,0),br,n,xr,s,r),Br(Ar.set(.5,.5,0),br,n,xr,s,r),Tr.set(0,0),Cr.set(1,0),Ir.set(1,1);let a=t.ray.intersectTriangle(Sr,_r,Ar,!1,fr);if(null===a&&(Br(_r.set(-.5,.5,0),br,n,xr,s,r),Cr.set(0,1),a=t.ray.intersectTriangle(Sr,Ar,_r,!1,fr),null===a))return;const o=t.ray.origin.distanceTo(fr);o<t.near||o>t.far||e.push({distance:o,point:fr.clone(),uv:ns.getInterpolation(fr,Sr,_r,Ar,Tr,Cr,Ir,new de),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Br(t,e,i,s,r,n){vr.subVectors(t,i).addScalar(.5).multiply(s),void 0!==r?(Mr.x=n*vr.x-r*vr.y,Mr.y=r*vr.x+n*vr.y):Mr.copy(vr),t.copy(e),t.x+=Mr.x,t.y+=Mr.y,t.applyMatrix4(wr)}n.Sprite=zr;const Rr=new ye,Er=new ye;class Pr extends Hi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type='LOD',Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let t=0,i=e.length;t<i;t++){const i=e[t];this.addLevel(i.object.clone(),i.distance,i.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const s=this.levels;let r;for(r=0;r<s.length&&!(e<s[r].distance);r++);return s.splice(r,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const t=e.splice(i,1);return this.remove(t[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,s;for(i=1,s=e.length;i<s;i++){let s=e[i].distance;if(e[i].object.visible&&(s-=s*e[i].hysteresis),t<s)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Rr.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Rr);this.getObjectForDistance(i).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Rr.setFromMatrixPosition(t.matrixWorld),Er.setFromMatrixPosition(this.matrixWorld);const i=Rr.distanceTo(Er)/t.zoom;let s,r;for(e[0].object.visible=!0,s=1,r=e.length;s<r;s++){let t=e[s].distance;if(e[s].object.visible&&(t-=t*e[s].hysteresis),!(i>=t))break;e[s-1].object.visible=!1,e[s].object.visible=!0}for(this._currentLevel=s-1;s<r;s++)e[s].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let t=0,s=i.length;t<s;t++){const s=i[t];e.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return e}}n.LOD=Pr;const Fr=new ye,kr=new De,Or=new De,Lr=new ye,Nr=new xi,Vr=new ye,Dr=new li,Ur=new xi,Gr=new fi;class Wr extends Hs{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type='SkinnedMesh',this.bindMode=f,this.bindMatrix=new xi,this.bindMatrixInverse=new xi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new He),this.boundingBox.makeEmpty();const e=t.getAttribute('position');for(let t=0;t<e.count;t++)this.getVertexPosition(t,Vr),this.boundingBox.expandByPoint(Vr)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new li),this.boundingSphere.makeEmpty();const e=t.getAttribute('position');for(let t=0;t<e.count;t++)this.getVertexPosition(t,Vr),this.boundingSphere.expandByPoint(Vr)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,s=this.matrixWorld;void 0!==i&&(null===this.boundingSphere&&this.computeBoundingSphere(),Dr.copy(this.boundingSphere),Dr.applyMatrix4(s),!1!==t.ray.intersectsSphere(Dr)&&(Ur.copy(s).invert(),Gr.copy(t.ray).applyMatrix4(Ur),null!==this.boundingBox&&!1===Gr.intersectsBox(this.boundingBox)||this._computeIntersections(t,e,Gr)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new De,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const s=1/t.manhattanLength();s!==1/0?t.multiplyScalar(s):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===f?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===x?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn('THREE.SkinnedMesh: Unrecognized bindMode: '+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,s=this.geometry;kr.fromBufferAttribute(s.attributes.skinIndex,t),Or.fromBufferAttribute(s.attributes.skinWeight,t),Fr.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let t=0;t<4;t++){const s=Or.getComponent(t);if(0!==s){const r=kr.getComponent(t);Nr.multiplyMatrices(i.bones[r].matrixWorld,i.boneInverses[r]),e.addScaledVector(Lr.copy(Fr).applyMatrix4(Nr),s)}}return e.applyMatrix4(this.bindMatrixInverse)}}n.SkinnedMesh=Wr;class jr extends Hi{constructor(){super(),this.isBone=!0,this.type='Bone'}}n.Bone=jr;class Hr extends Ve{constructor(t=null,e=1,i=1,s,r,n,a,o,h=I,l=I,c,u){super(null,n,a,o,h,l,s,r,c,u),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}n.DataTexture=Hr;const qr=new xi,Jr=new xi;class Xr{constructor(t=[],e=[]){this.uuid=oe(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn('THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.'),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new xi)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new xi;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let s=0,r=t.length;s<r;s++){const r=t[s]?t[s].matrixWorld:Jr;qr.multiplyMatrices(r,e[s]),qr.toArray(i,16*s)}null!==s&&(s.needsUpdate=!0)}clone(){return new Xr(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Hr(e,t,t,J,D);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const i=this.bones[e];if(i.name===t)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const s=t.bones[i];let r=e[s];void 0===r&&(console.warn('THREE.Skeleton: No bone found with UUID:',s),r=new jr),this.bones.push(r),this.boneInverses.push((new xi).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:'Skeleton',generator:'Skeleton.toJSON'},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++){const r=e[s];t.bones.push(r.uuid);const n=i[s];t.boneInverses.push(n.toArray())}return t}}n.Skeleton=Xr;class Zr extends ws{constructor(t,e,i,s=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}n.InstancedBufferAttribute=Zr;const Yr=new xi,$r=new xi,Qr=[],Kr=new He,tn=new xi,en=new Hs,sn=new li;class rn extends Hs{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new Zr(new Float32Array(16*i),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let t=0;t<i;t++)this.setMatrixAt(t,tn)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new He),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Yr),Kr.copy(t.boundingBox).applyMatrix4(Yr),this.boundingBox.union(Kr)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new li),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,Yr),sn.copy(t.boundingSphere).applyMatrix4(Yr),this.boundingSphere.union(sn)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const i=e.morphTargetInfluences,s=this.morphTexture.source.data.data,r=t*(i.length+1)+1;for(let t=0;t<i.length;t++)i[t]=s[r+t]}raycast(t,e){const i=this.matrixWorld,s=this.count;if(en.geometry=this.geometry,en.material=this.material,void 0!==en.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),sn.copy(this.boundingSphere),sn.applyMatrix4(i),!1!==t.ray.intersectsSphere(sn)))for(let r=0;r<s;r++){this.getMatrixAt(r,Yr),$r.multiplyMatrices(i,Yr),en.matrixWorld=$r,en.raycast(t,Qr);for(let t=0,i=Qr.length;t<i;t++){const i=Qr[t];i.instanceId=r,i.object=this,e.push(i)}Qr.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Zr(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const i=e.morphTargetInfluences,s=i.length+1;null===this.morphTexture&&(this.morphTexture=new Hr(new Float32Array(s*this.count),s,this.count,Y,D));const r=this.morphTexture.source.data.data;let n=0;for(let t=0;t<i.length;t++)n+=i[t];const a=this.geometry.morphTargetsRelative?1:1-n,o=s*t;r[o]=a,r.set(i,o+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:'dispose'}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}n.InstancedMesh=rn;const nn=new ye,an=new ye,on=new xe;class hn{constructor(t=new ye(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=nn.subVectors(i,e).cross(an.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(nn),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(t.start).addScaledVector(i,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||on.getNormalMatrix(t),s=this.coplanarPoint(nn).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}n.Plane=hn;const ln=new li,cn=new de(.5,.5),un=new ye;class pn{constructor(t=new hn,e=new hn,i=new hn,s=new hn,r=new hn,n=new hn){this.planes=[t,e,i,s,r,n]}set(t,e,i,s,r,n){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(n),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=te){const i=this.planes,s=t.elements,r=s[0],n=s[1],a=s[2],o=s[3],h=s[4],l=s[5],c=s[6],u=s[7],p=s[8],d=s[9],m=s[10],y=s[11],g=s[12],f=s[13],x=s[14],b=s[15];if(i[0].setComponents(o-r,u-h,y-p,b-g).normalize(),i[1].setComponents(o+r,u+h,y+p,b+g).normalize(),i[2].setComponents(o+n,u+l,y+d,b+f).normalize(),i[3].setComponents(o-n,u-l,y-d,b-f).normalize(),i[4].setComponents(o-a,u-c,y-m,b-x).normalize(),e===te)i[5].setComponents(o+a,u+c,y+m,b+x).normalize();else{if(e!==ee)throw new Error('THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: '+e);i[5].setComponents(a,c,m,x).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),ln.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),ln.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(ln)}intersectsSprite(t){ln.center.set(0,0,0);const e=cn.distanceTo(t.center);return ln.radius=.7071067811865476+e,ln.applyMatrix4(t.matrixWorld),this.intersectsSphere(ln)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let t=0;t<6;t++){if(e[t].distanceToPoint(i)<s)return!1}return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(un.x=s.normal.x>0?t.max.x:t.min.x,un.y=s.normal.y>0?t.max.y:t.min.y,un.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(un)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}n.Frustum=pn;const dn=new xi,mn=new pn;class yn{constructor(){this.coordinateSystem=te}intersectsObject(t,e){if(!e.isArrayCamera||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(dn.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),mn.setFromProjectionMatrix(dn,this.coordinateSystem),mn.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(dn.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),mn.setFromProjectionMatrix(dn,this.coordinateSystem),mn.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(dn.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),mn.setFromProjectionMatrix(dn,this.coordinateSystem),mn.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(dn.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),mn.setFromProjectionMatrix(dn,this.coordinateSystem),mn.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||0===e.cameras.length)return!1;for(let i=0;i<e.cameras.length;i++){const s=e.cameras[i];if(dn.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),mn.setFromProjectionMatrix(dn,this.coordinateSystem),mn.containsPoint(t))return!0}return!1}clone(){return new yn}}function gn(t,e){return t-e}function fn(t,e){return t.z-e.z}function xn(t,e){return e.z-t.z}n.FrustumArray=yn;class bn{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,s){const r=this.pool,n=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const a=r[this.index];n.push(a),this.index++,a.start=t,a.count=e,a.z=i,a.index=s}reset(){this.list.length=0,this.index=0}}const vn=new xi,Mn=new cs(1,1,1),wn=new pn,Sn=new yn,_n=new He,An=new li,Tn=new ye,Cn=new ye,In=new ye,zn=new bn,Bn=new Hs,Rn=[];function En(t,e,i=0){const s=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let n=0;n<r;n++)for(let r=0;r<s;r++)e.setComponent(n+i,r,t.getComponent(n,r))}else e.array.set(t.array,i*s);e.needsUpdate=!0}function Pn(t,e){if(t.constructor!==e.constructor){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++)e[s]=t[s]}else{const i=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,i))}}class Fn extends Hs{constructor(t,e,i=2*e,s){super(new Ps,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(4*this._maxInstanceCount);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new Hr(e,t,t,J,D);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new Hr(e,t,t,$,V);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new Hr(e,t,t,J,D);i.colorSpace=ze.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,s=this._maxIndexCount;if(!1===this._geometryInitialized){for(const s in t.attributes){const r=t.getAttribute(s),{array:n,itemSize:a,normalized:o}=r,h=new n.constructor(i*a),l=new ws(h,a,o);e.setAttribute(s,l)}if(null!==t.getIndex()){const t=i>65535?new Uint32Array(s):new Uint16Array(s);e.setIndex(new ws(t,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(Boolean(t.getIndex())!==Boolean(e.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const s=t.getAttribute(i),r=e.getAttribute(i);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error('THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.')}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new He);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(!1===e[i].active)continue;const s=e[i].geometryIndex;this.getMatrixAt(i,vn),this.getBoundingBoxAt(s,_n).applyMatrix4(vn),t.union(_n)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new li);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,s=e.length;i<s;i++){if(!1===e[i].active)continue;const s=e[i].geometryIndex;this.getMatrixAt(i,vn),this.getBoundingSphereAt(s,An).applyMatrix4(vn),t.union(An)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&0===this._availableInstanceIds.length)throw new Error('THREE.BatchedMesh: Maximum item count reached.');const e={visible:!0,active:!0,geometryIndex:t};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(gn),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=e):(i=this._instanceInfo.length,this._instanceInfo.push(e));const s=this._matricesTexture;vn.identity().toArray(s.image.data,16*i),s.needsUpdate=!0;const r=this._colorsTexture;return r&&(Mn.toArray(r.image.data,4*i),r.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=-1===e?t.getAttribute('position').count:e;const n=t.getIndex();if(null!==n&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=-1===i?n.count:i),-1!==s.indexStart&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error('THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.');let a;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(gn),a=this._availableGeometryIds.shift(),r[a]=s):(a=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(a,t),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,a}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error('THREE.BatchedMesh: Maximum geometry count reached.');this._validateGeometry(e);const i=this.geometry,s=null!==i.getIndex(),r=i.getIndex(),n=e.getIndex(),a=this._geometryInfo[t];if(s&&n.count>a.reservedIndexCount||e.attributes.position.count>a.reservedVertexCount)throw new Error('THREE.BatchedMesh: Reserved space not large enough for provided geometry.');const o=a.vertexStart,h=a.reservedVertexCount;a.vertexCount=e.getAttribute('position').count;for(const t in i.attributes){const s=e.getAttribute(t),r=i.getAttribute(t);En(s,r,o);const n=s.itemSize;for(let t=s.count,e=h;t<e;t++){const e=o+t;for(let t=0;t<n;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(o*n,h*n)}if(s){const t=a.indexStart,i=a.reservedIndexCount;a.indexCount=e.getIndex().count;for(let e=0;e<n.count;e++)r.setX(t+e,o+n.getX(e));for(let e=n.count,s=i;e<s;e++)r.setX(t+e,o);r.needsUpdate=!0,r.addUpdateRange(t,a.reservedIndexCount)}return a.start=s?a.indexStart:a.vertexStart,a.count=s?a.indexCount:a.vertexCount,a.boundingBox=null,null!==e.boundingBox&&(a.boundingBox=e.boundingBox.clone()),a.boundingSphere=null,null!==e.boundingSphere&&(a.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||!1===e[t].active)return this;const i=this._instanceInfo;for(let e=0,s=i.length;e<s;e++)i[e].active&&i[e].geometryIndex===t&&this.deleteInstance(e);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,s=i.map((t,e)=>e).sort((t,e)=>i[t].vertexStart-i[e].vertexStart),r=this.geometry;for(let n=0,a=i.length;n<a;n++){const a=s[n],o=i[a];if(!1!==o.active){if(null!==r.index){if(o.indexStart!==e){const{indexStart:i,vertexStart:s,reservedIndexCount:n}=o,a=r.index,h=a.array,l=t-s;for(let t=i;t<i+n;t++)h[t]=h[t]+l;a.array.copyWithin(e,i,i+n),a.addUpdateRange(e,n),o.indexStart=e}e+=o.reservedIndexCount}if(o.vertexStart!==t){const{vertexStart:e,reservedVertexCount:i}=o,s=r.attributes;for(const r in s){const n=s[r],{array:a,itemSize:o}=n;a.copyWithin(t*o,e*o,(e+i)*o),n.addUpdateRange(t*o,i*o)}o.vertexStart=t}t+=o.reservedVertexCount,o.start=r.index?o.indexStart:o.vertexStart,this._nextIndexStart=r.index?o.indexStart+o.reservedIndexCount:0,this._nextVertexStart=o.vertexStart+o.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(null===s.boundingBox){const t=new He,e=i.index,r=i.attributes.position;for(let i=s.start,n=s.start+s.count;i<n;i++){let s=i;e&&(s=e.getX(s)),t.expandByPoint(Tn.fromBufferAttribute(r,s))}s.boundingBox=t}return e.copy(s.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,s=this._geometryInfo[t];if(null===s.boundingSphere){const e=new li;this.getBoundingBoxAt(t,_n),_n.getCenter(e.center);const r=i.index,n=i.attributes.position;let a=0;for(let t=s.start,i=s.start+s.count;t<i;t++){let i=t;r&&(i=r.getX(i)),Tn.fromBufferAttribute(n,i),a=Math.max(a,e.center.distanceToSquared(Tn))}e.radius=Math.sqrt(a),s.boundingSphere=e}return e.copy(s.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,s=this._matricesTexture.image.data;return e.toArray(s,16*t),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,16*t)}setColorAt(t,e){return this.validateInstanceId(t),null===this._colorsTexture&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,4*t),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,4*t)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e||(this._instanceInfo[t].visible=e,this._visibilityChanged=!0),this}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(gn);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const s=new Int32Array(t),r=new Int32Array(t);Pn(this._multiDrawCounts,s),Pn(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=t;const n=this._indirectTexture,a=this._matricesTexture,o=this._colorsTexture;n.dispose(),this._initIndirectTexture(),Pn(n.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Pn(a.image.data,this._matricesTexture.image.data),o&&(o.dispose(),this._initColorsTexture(),Pn(o.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(t=>t.active);if(Math.max(...i.map(t=>t.vertexStart+t.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...i.map(t=>t.indexStart+t.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`)}const s=this.geometry;s.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ps,this._initializeGeometry(s));const r=this.geometry;s.index&&Pn(s.index.array,r.index.array);for(const t in s.attributes)Pn(s.attributes[t].array,r.attributes[t].array)}raycast(t,e){const i=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,n=this.geometry;Bn.material=this.material,Bn.geometry.index=n.index,Bn.geometry.attributes=n.attributes,null===Bn.geometry.boundingBox&&(Bn.geometry.boundingBox=new He),null===Bn.geometry.boundingSphere&&(Bn.geometry.boundingSphere=new li);for(let n=0,a=i.length;n<a;n++){if(!i[n].visible||!i[n].active)continue;const a=i[n].geometryIndex,o=s[a];Bn.geometry.setDrawRange(o.start,o.count),this.getMatrixAt(n,Bn.matrixWorld).premultiply(r),this.getBoundingBoxAt(a,Bn.geometry.boundingBox),this.getBoundingSphereAt(a,Bn.geometry.boundingSphere),Bn.raycast(t,Rn);for(let t=0,i=Rn.length;t<i;t++){const i=Rn[t];i.object=this,i.batchId=n,e.push(i)}Rn.length=0}Bn.material=null,Bn.geometry.index=null,Bn.geometry.attributes={},Bn.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=null!==t.boundingBox?t.boundingBox.clone():null,this.boundingSphere=null!==t.boundingSphere?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(t=>Object.assign({},t,{boundingBox:null!==t.boundingBox?t.boundingBox.clone():null,boundingSphere:null!==t.boundingSphere?t.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(t=>Object.assign({},t)),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),null!==this._colorsTexture&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const n=s.getIndex(),a=null===n?1:n.array.BYTES_PER_ELEMENT,o=this._instanceInfo,h=this._multiDrawStarts,l=this._multiDrawCounts,c=this._geometryInfo,u=this.perObjectFrustumCulled,p=this._indirectTexture,d=p.image.data,m=i.isArrayCamera?Sn:wn;u&&!i.isArrayCamera&&(vn.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),wn.setFromProjectionMatrix(vn,t.coordinateSystem));let y=0;if(this.sortObjects){vn.copy(this.matrixWorld).invert(),Tn.setFromMatrixPosition(i.matrixWorld).applyMatrix4(vn),Cn.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(vn);for(let t=0,e=o.length;t<e;t++)if(o[t].visible&&o[t].active){const e=o[t].geometryIndex;this.getMatrixAt(t,vn),this.getBoundingSphereAt(e,An).applyMatrix4(vn);let s=!1;if(u&&(s=!m.intersectsSphere(An,i)),!s){const i=c[e],s=In.subVectors(An.center,Tn).dot(Cn);zn.push(i.start,i.count,s,t)}}const t=zn.list,e=this.customSort;null===e?t.sort(r.transparent?xn:fn):e.call(this,t,i);for(let e=0,i=t.length;e<i;e++){const i=t[e];h[y]=i.start*a,l[y]=i.count,d[y]=i.index,y++}zn.reset()}else for(let t=0,e=o.length;t<e;t++)if(o[t].visible&&o[t].active){const e=o[t].geometryIndex;let s=!1;if(u&&(this.getMatrixAt(t,vn),this.getBoundingSphereAt(e,An).applyMatrix4(vn),s=!m.intersectsSphere(An,i)),!s){const i=c[e];h[y]=i.start*a,l[y]=i.count,d[y]=t,y++}}p.needsUpdate=!0,this._multiDrawCount=y,this._visibilityChanged=!1}onBeforeShadow(t,e,i,s,r,n){this.onBeforeRender(t,null,s,r,n)}}n.BatchedMesh=Fn;class kn extends ds{constructor(t){super(),this.isLineBasicMaterial=!0,this.type='LineBasicMaterial',this.color=new cs(16777215),this.map=null,this.linewidth=1,this.linecap='round',this.linejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}n.LineBasicMaterial=kn;const On=new ye,Ln=new ye,Nn=new xi,Vn=new fi,Dn=new li,Un=new ye,Gn=new ye;class Wn extends Hi{constructor(t=new Ps,e=new kn){super(),this.isLine=!0,this.type='Line',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let t=1,s=e.count;t<s;t++)On.fromBufferAttribute(e,t-1),Ln.fromBufferAttribute(e,t),i[t]=i[t-1],i[t]+=On.distanceTo(Ln);t.setAttribute('lineDistance',new As(i,1))}else console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,n=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Dn.copy(i.boundingSphere),Dn.applyMatrix4(s),Dn.radius+=r,!1===t.ray.intersectsSphere(Dn))return;Nn.copy(s).invert(),Vn.copy(t.ray).applyMatrix4(Nn);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=this.isLineSegments?2:1,l=i.index,c=i.attributes.position;if(null!==l){const i=Math.max(0,n.start),s=Math.min(l.count,n.start+n.count);for(let r=i,n=s-1;r<n;r+=h){const i=l.getX(r),s=l.getX(r+1),n=jn(this,t,Vn,o,i,s,r);n&&e.push(n)}if(this.isLineLoop){const r=l.getX(s-1),n=l.getX(i),a=jn(this,t,Vn,o,r,n,s-1);a&&e.push(a)}}else{const i=Math.max(0,n.start),s=Math.min(c.count,n.start+n.count);for(let r=i,n=s-1;r<n;r+=h){const i=jn(this,t,Vn,o,r,r+1,r);i&&e.push(i)}if(this.isLineLoop){const r=jn(this,t,Vn,o,s-1,i,s-1);r&&e.push(r)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function jn(t,e,i,s,r,n,a){const o=t.geometry.attributes.position;On.fromBufferAttribute(o,r),Ln.fromBufferAttribute(o,n);if(i.distanceSqToSegment(On,Ln,Un,Gn)>s)return;Un.applyMatrix4(t.matrixWorld);const h=e.ray.origin.distanceTo(Un);return h<e.near||h>e.far?void 0:{distance:h,point:Gn.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}n.Line=Wn;const Hn=new ye,qn=new ye;class Jn extends Wn{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type='LineSegments'}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let t=0,s=e.count;t<s;t+=2)Hn.fromBufferAttribute(e,t),qn.fromBufferAttribute(e,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+Hn.distanceTo(qn);t.setAttribute('lineDistance',new As(i,1))}else console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');return this}}n.LineSegments=Jn;class Xn extends Wn{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type='LineLoop'}}n.LineLoop=Xn;class Zn extends ds{constructor(t){super(),this.isPointsMaterial=!0,this.type='PointsMaterial',this.color=new cs(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}n.PointsMaterial=Zn;const Yn=new xi,$n=new fi,Qn=new li,Kn=new ye;class ta extends Hi{constructor(t=new Ps,e=new Zn){super(),this.isPoints=!0,this.type='Points',this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,n=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Qn.copy(i.boundingSphere),Qn.applyMatrix4(s),Qn.radius+=r,!1===t.ray.intersectsSphere(Qn))return;Yn.copy(s).invert(),$n.copy(t.ray).applyMatrix4(Yn);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,h=i.index,l=i.attributes.position;if(null!==h){for(let i=Math.max(0,n.start),r=Math.min(h.count,n.start+n.count);i<r;i++){const r=h.getX(i);Kn.fromBufferAttribute(l,r),ea(Kn,r,o,s,t,e,this)}}else{for(let i=Math.max(0,n.start),r=Math.min(l.count,n.start+n.count);i<r;i++)Kn.fromBufferAttribute(l,i),ea(Kn,i,o,s,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const i=t[e[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=i.length;t<e;t++){const e=i[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function ea(t,e,i,s,r,n,a){const o=$n.distanceSqToPoint(t);if(o<i){const i=new ye;$n.closestPointToPoint(t,i),i.applyMatrix4(s);const h=r.ray.origin.distanceTo(i);if(h<r.near||h>r.far)return;n.push({distance:h,distanceToRay:Math.sqrt(o),point:i,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}n.Points=ta;class ia extends Ve{constructor(t,e,i,s,r=R,n=R,a,o,h){super(t,e,i,s,r,n,a,o,h),this.isVideoTexture=!0,this.generateMipmaps=!1;const l=this;'requestVideoFrameCallback'in t&&t.requestVideoFrameCallback(function e(){l.needsUpdate=!0,t.requestVideoFrameCallback(e)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1==='requestVideoFrameCallback'in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}n.VideoTexture=ia;n.VideoFrameTexture=class extends ia{constructor(t,e,i,s,r,n,a,o){super({},t,e,i,s,r,n,a,o),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}};n.FramebufferTexture=class extends Ve{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=I,this.minFilter=I,this.generateMipmaps=!1,this.needsUpdate=!0}};class sa extends Ve{constructor(t,e,i,s,r,n,a,o,h,l,c,u){super(null,n,a,o,h,l,s,r,c,u),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}n.CompressedTexture=sa;n.CompressedArrayTexture=class extends sa{constructor(t,e,i,s,r,n){super(t,e,i,r,n),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=T,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}};n.CompressedCubeTexture=class extends sa{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,v),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}};n.CanvasTexture=class extends Ve{constructor(t,e,i,s,r,n,a,o,h){super(t,e,i,s,r,n,a,o,h),this.isCanvasTexture=!0,this.needsUpdate=!0}};n.DepthTexture=class extends Ve{constructor(t,e,i=V,s,r,n,a=I,o=I,h,l=X,c=1){if(l!==X&&l!==Z)throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');super({width:t,height:e,depth:c},s,r,n,a,o,l,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new ke(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}};class ra extends Ps{constructor(t=1,e=1,i=4,s=8,r=1){super(),this.type='CapsuleGeometry',this.parameters={radius:t,height:e,capSegments:i,radialSegments:s,heightSegments:r},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),s=Math.max(3,Math.floor(s)),r=Math.max(1,Math.floor(r));const n=[],a=[],o=[],h=[],l=e/2,c=Math.PI/2*t,u=e,p=2*c+u,d=2*i+r,m=s+1,y=new ye,g=new ye;for(let f=0;f<=d;f++){let x=0,b=0,v=0,M=0;if(f<=i){const e=f/i,s=e*Math.PI/2;b=-l-t*Math.cos(s),v=t*Math.sin(s),M=-t*Math.cos(s),x=e*c}else if(f<=i+r){const s=(f-i)/r;b=s*e-l,v=t,M=0,x=c+s*u}else{const e=(f-i-r)/i,s=e*Math.PI/2;b=l+t*Math.sin(s),v=t*Math.cos(s),M=t*Math.sin(s),x=c+u+e*c}const w=Math.max(0,Math.min(1,x/p));let S=0;0===f?S=.5/s:f===d&&(S=-.5/s);for(let t=0;t<=s;t++){const e=t/s,i=e*Math.PI*2,r=Math.sin(i),n=Math.cos(i);g.x=-v*n,g.y=b,g.z=v*r,a.push(g.x,g.y,g.z),y.set(-v*n,M,v*r),y.normalize(),o.push(y.x,y.y,y.z),h.push(e+S,w)}if(f>0){const t=(f-1)*m;for(let e=0;e<s;e++){const i=t+e,s=t+e+1,r=f*m+e,a=f*m+e+1;n.push(i,s,r),n.push(s,a,r)}}}this.setIndex(n),this.setAttribute('position',new As(a,3)),this.setAttribute('normal',new As(o,3)),this.setAttribute('uv',new As(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ra(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}n.CapsuleGeometry=ra;class na extends Ps{constructor(t=1,e=32,i=0,s=2*Math.PI){super(),this.type='CircleGeometry',this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:s},e=Math.max(3,e);const r=[],n=[],a=[],o=[],h=new ye,l=new de;n.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let r=0,c=3;r<=e;r++,c+=3){const u=i+r/e*s;h.x=t*Math.cos(u),h.y=t*Math.sin(u),n.push(h.x,h.y,h.z),a.push(0,0,1),l.x=(n[c]/t+1)/2,l.y=(n[c+1]/t+1)/2,o.push(l.x,l.y)}for(let t=1;t<=e;t++)r.push(t,t+1,0);this.setIndex(r),this.setAttribute('position',new As(n,3)),this.setAttribute('normal',new As(a,3)),this.setAttribute('uv',new As(o,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new na(t.radius,t.segments,t.thetaStart,t.thetaLength)}}n.CircleGeometry=na;class aa extends Ps{constructor(t=1,e=1,i=1,s=32,r=1,n=!1,a=0,o=2*Math.PI){super(),this.type='CylinderGeometry',this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:s,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o};const h=this;s=Math.floor(s),r=Math.floor(r);const l=[],c=[],u=[],p=[];let d=0;const m=[],y=i/2;let g=0;function f(i){const r=d,n=new de,m=new ye;let f=0;const x=!0===i?t:e,b=!0===i?1:-1;for(let t=1;t<=s;t++)c.push(0,y*b,0),u.push(0,b,0),p.push(.5,.5),d++;const v=d;for(let t=0;t<=s;t++){const e=t/s*o+a,i=Math.cos(e),r=Math.sin(e);m.x=x*r,m.y=y*b,m.z=x*i,c.push(m.x,m.y,m.z),u.push(0,b,0),n.x=.5*i+.5,n.y=.5*r*b+.5,p.push(n.x,n.y),d++}for(let t=0;t<s;t++){const e=r+t,s=v+t;!0===i?l.push(s,s+1,e):l.push(s+1,s,e),f+=3}h.addGroup(g,f,!0===i?1:2),g+=f}!(function(){const n=new ye,f=new ye;let x=0;const b=(e-t)/i;for(let h=0;h<=r;h++){const l=[],g=h/r,x=g*(e-t)+t;for(let t=0;t<=s;t++){const e=t/s,r=e*o+a,h=Math.sin(r),m=Math.cos(r);f.x=x*h,f.y=-g*i+y,f.z=x*m,c.push(f.x,f.y,f.z),n.set(h,b,m).normalize(),u.push(n.x,n.y,n.z),p.push(e,1-g),l.push(d++)}m.push(l)}for(let i=0;i<s;i++)for(let s=0;s<r;s++){const n=m[s][i],a=m[s+1][i],o=m[s+1][i+1],h=m[s][i+1];(t>0||0!==s)&&(l.push(n,a,h),x+=3),(e>0||s!==r-1)&&(l.push(a,o,h),x+=3)}h.addGroup(g,x,0),g+=x})(),!1===n&&(t>0&&f(!0),e>0&&f(!1)),this.setIndex(l),this.setAttribute('position',new As(c,3)),this.setAttribute('normal',new As(u,3)),this.setAttribute('uv',new As(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new aa(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}n.CylinderGeometry=aa;class oa extends aa{constructor(t=1,e=1,i=32,s=1,r=!1,n=0,a=2*Math.PI){super(0,t,e,i,s,r,n,a),this.type='ConeGeometry',this.parameters={radius:t,height:e,radialSegments:i,heightSegments:s,openEnded:r,thetaStart:n,thetaLength:a}}static fromJSON(t){return new oa(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}n.ConeGeometry=oa;class ha extends Ps{constructor(t=[],e=[],i=1,s=0){super(),this.type='PolyhedronGeometry',this.parameters={vertices:t,indices:e,radius:i,detail:s};const r=[],n=[];function a(t,e,i,s){const r=s+1,n=[];for(let s=0;s<=r;s++){n[s]=[];const a=t.clone().lerp(i,s/r),o=e.clone().lerp(i,s/r),h=r-s;for(let t=0;t<=h;t++)n[s][t]=0===t&&s===r?a:a.clone().lerp(o,t/h)}for(let t=0;t<r;t++)for(let e=0;e<2*(r-t)-1;e++){const i=Math.floor(e/2);e%2==0?(h(n[t][i+1]),h(n[t+1][i]),h(n[t][i])):(h(n[t][i+1]),h(n[t+1][i+1]),h(n[t+1][i]))}}function o(){for(let t=0;t<n.length;t+=6){const e=n[t+0],i=n[t+2],s=n[t+4],r=Math.max(e,i,s),a=Math.min(e,i,s);r>.9&&a<.1&&(e<.2&&(n[t+0]+=1),i<.2&&(n[t+2]+=1),s<.2&&(n[t+4]+=1))}}function h(t){r.push(t.x,t.y,t.z)}function l(e,i){const s=3*e;i.x=t[s+0],i.y=t[s+1],i.z=t[s+2]}function c(){const t=new ye,e=new ye,i=new ye,s=new ye,a=new de,o=new de,h=new de;for(let l=0,c=0;l<r.length;l+=9,c+=6){t.set(r[l+0],r[l+1],r[l+2]),e.set(r[l+3],r[l+4],r[l+5]),i.set(r[l+6],r[l+7],r[l+8]),a.set(n[c+0],n[c+1]),o.set(n[c+2],n[c+3]),h.set(n[c+4],n[c+5]),s.copy(t).add(e).add(i).divideScalar(3);const d=p(s);u(a,c+0,t,d),u(o,c+2,e,d),u(h,c+4,i,d)}}function u(t,e,i,s){s<0&&1===t.x&&(n[e]=t.x-1),0===i.x&&0===i.z&&(n[e]=s/2/Math.PI+.5)}function p(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!(function(t){const i=new ye,s=new ye,r=new ye;for(let n=0;n<e.length;n+=3)l(e[n+0],i),l(e[n+1],s),l(e[n+2],r),a(i,s,r,t)})(s),(function(t){const e=new ye;for(let i=0;i<r.length;i+=3)e.x=r[i+0],e.y=r[i+1],e.z=r[i+2],e.normalize().multiplyScalar(t),r[i+0]=e.x,r[i+1]=e.y,r[i+2]=e.z})(i),(function(){const t=new ye;for(let e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];const i=p(t)/2/Math.PI+.5,s=d(t)/Math.PI+.5;n.push(i,1-s)}c(),o()})(),this.setAttribute('position',new As(r,3)),this.setAttribute('normal',new As(r.slice(),3)),this.setAttribute('uv',new As(n,2)),0===s?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ha(t.vertices,t.indices,t.radius,t.details)}}n.PolyhedronGeometry=ha;class la extends ha{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,s=.6180339887498948;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-.6180339887498948,-1.618033988749895,0,-.6180339887498948,i,0,s,-1.618033988749895,0,s,i,-.6180339887498948,-1.618033988749895,0,-.6180339887498948,i,0,s,-1.618033988749895,0,s,i,0,-1.618033988749895,0,-.6180339887498948,i,0,-.6180339887498948,-1.618033988749895,0,s,i,0,s],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type='DodecahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new la(t.radius,t.detail)}}n.DodecahedronGeometry=la;const ca=new ye,ua=new ye,pa=new ye,da=new ns;class ma extends Ps{constructor(t=null,e=1){if(super(),this.type='EdgesGeometry',this.parameters={geometry:t,thresholdAngle:e},null!==t){const i=4,s=Math.pow(10,i),r=Math.cos(ne*e),n=t.getIndex(),a=t.getAttribute('position'),o=n?n.count:a.count,h=[0,0,0],l=['a','b','c'],c=new Array(3),u={},p=[];for(let t=0;t<o;t+=3){n?(h[0]=n.getX(t),h[1]=n.getX(t+1),h[2]=n.getX(t+2)):(h[0]=t,h[1]=t+1,h[2]=t+2);const{a:e,b:i,c:o}=da;if(e.fromBufferAttribute(a,h[0]),i.fromBufferAttribute(a,h[1]),o.fromBufferAttribute(a,h[2]),da.getNormal(pa),c[0]=`${Math.round(e.x*s)},${Math.round(e.y*s)},${Math.round(e.z*s)}`,c[1]=`${Math.round(i.x*s)},${Math.round(i.y*s)},${Math.round(i.z*s)}`,c[2]=`${Math.round(o.x*s)},${Math.round(o.y*s)},${Math.round(o.z*s)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let t=0;t<3;t++){const e=(t+1)%3,i=c[t],s=c[e],n=da[l[t]],a=da[l[e]],o=`${i}_${s}`,d=`${s}_${i}`;d in u&&u[d]?(pa.dot(u[d].normal)<=r&&(p.push(n.x,n.y,n.z),p.push(a.x,a.y,a.z)),u[d]=null):o in u||(u[o]={index0:h[t],index1:h[e],normal:pa.clone()})}}for(const t in u)if(u[t]){const{index0:e,index1:i}=u[t];ca.fromBufferAttribute(a,e),ua.fromBufferAttribute(a,i),p.push(ca.x,ca.y,ca.z),p.push(ua.x,ua.y,ua.z)}this.setAttribute('position',new As(p,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}n.EdgesGeometry=ma;class ya{constructor(){this.type='Curve',this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn('THREE.Curve: .getPoint() not implemented.')}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let n=1;n<=t;n++)i=this.getPoint(n/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let s=0;const r=i.length;let n;n=e||t*i[r-1];let a,o=0,h=r-1;for(;o<=h;)if(s=Math.floor(o+(h-o)/2),a=i[s]-n,a<0)o=s+1;else{if(!(a>0)){h=s;break}h=s-1}if(s=h,i[s]===n)return s/(r-1);const l=i[s];return(s+(n-l)/(i[s+1]-l))/(r-1)}getTangent(t,e){const i=1e-4;let s=t-i,r=t+i;s<0&&(s=0),r>1&&(r=1);const n=this.getPoint(s),a=this.getPoint(r),o=e||(n.isVector2?new de:new ye);return o.copy(a).sub(n).normalize(),o}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new ye,s=[],r=[],n=[],a=new ye,o=new xi;for(let e=0;e<=t;e++){const i=e/t;s[e]=this.getTangentAt(i,new ye)}r[0]=new ye,n[0]=new ye;let h=Number.MAX_VALUE;const l=Math.abs(s[0].x),c=Math.abs(s[0].y),u=Math.abs(s[0].z);l<=h&&(h=l,i.set(1,0,0)),c<=h&&(h=c,i.set(0,1,0)),u<=h&&i.set(0,0,1),a.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],a),n[0].crossVectors(s[0],r[0]);for(let e=1;e<=t;e++){if(r[e]=r[e-1].clone(),n[e]=n[e-1].clone(),a.crossVectors(s[e-1],s[e]),a.length()>Number.EPSILON){a.normalize();const t=Math.acos(he(s[e-1].dot(s[e]),-1,1));r[e].applyMatrix4(o.makeRotationAxis(a,t))}n[e].crossVectors(s[e],r[e])}if(!0===e){let e=Math.acos(he(r[0].dot(r[t]),-1,1));e/=t,s[0].dot(a.crossVectors(r[0],r[t]))>0&&(e=-e);for(let i=1;i<=t;i++)r[i].applyMatrix4(o.makeRotationAxis(s[i],e*i)),n[i].crossVectors(s[i],r[i])}return{tangents:s,normals:r,binormals:n}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:'Curve',generator:'Curve.toJSON'}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}n.Curve=ya;class ga extends ya{constructor(t=0,e=0,i=1,s=1,r=0,n=2*Math.PI,a=!1,o=0){super(),this.isEllipseCurve=!0,this.type='EllipseCurve',this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=n,this.aClockwise=a,this.aRotation=o}getPoint(t,e=new de){const i=e,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const n=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=n?0:s),!0!==this.aClockwise||n||(r===s?r=-s:r-=s);const a=this.aStartAngle+t*r;let o=this.aX+this.xRadius*Math.cos(a),h=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),i=o-this.aX,s=h-this.aY;o=i*t-s*e+this.aX,h=i*e+s*t+this.aY}return i.set(o,h)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}n.EllipseCurve=ga;class fa extends ga{constructor(t,e,i,s,r,n){super(t,e,i,i,s,r,n),this.isArcCurve=!0,this.type='ArcCurve'}}function xa(){let t=0,e=0,i=0,s=0;function r(r,n,a,o){t=r,e=a,i=-3*r+3*n-2*a-o,s=2*r-2*n+a+o}return{initCatmullRom:function(t,e,i,s,n){r(e,i,n*(i-t),n*(s-e))},initNonuniformCatmullRom:function(t,e,i,s,n,a,o){let h=(e-t)/n-(i-t)/(n+a)+(i-e)/a,l=(i-e)/a-(s-e)/(a+o)+(s-i)/o;h*=a,l*=a,r(e,i,h,l)},calc:function(r){const n=r*r;return t+e*r+i*n+s*(n*r)}}}n.ArcCurve=fa;const ba=new ye,va=new xa,Ma=new xa,wa=new xa;class Sa extends ya{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type='CatmullRomCurve3',this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new ye){const i=e,s=this.points,r=s.length,n=(r-(this.closed?0:1))*t;let a,o,h=Math.floor(n),l=n-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/r)+1)*r:0===l&&h===r-1&&(h=r-2,l=1),this.closed||h>0?a=s[(h-1)%r]:(ba.subVectors(s[0],s[1]).add(s[0]),a=ba);const c=s[h%r],u=s[(h+1)%r];if(this.closed||h+2<r?o=s[(h+2)%r]:(ba.subVectors(s[r-1],s[r-2]).add(s[r-1]),o=ba),'centripetal'===this.curveType||'chordal'===this.curveType){const t='chordal'===this.curveType?.5:.25;let e=Math.pow(a.distanceToSquared(c),t),i=Math.pow(c.distanceToSquared(u),t),s=Math.pow(u.distanceToSquared(o),t);i<1e-4&&(i=1),e<1e-4&&(e=i),s<1e-4&&(s=i),va.initNonuniformCatmullRom(a.x,c.x,u.x,o.x,e,i,s),Ma.initNonuniformCatmullRom(a.y,c.y,u.y,o.y,e,i,s),wa.initNonuniformCatmullRom(a.z,c.z,u.z,o.z,e,i,s)}else'catmullrom'===this.curveType&&(va.initCatmullRom(a.x,c.x,u.x,o.x,this.tension),Ma.initCatmullRom(a.y,c.y,u.y,o.y,this.tension),wa.initCatmullRom(a.z,c.z,u.z,o.z,this.tension));return i.set(va.calc(l),Ma.calc(l),wa.calc(l)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new ye).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function _a(t,e,i,s,r){const n=.5*(s-e),a=.5*(r-i),o=t*t;return(2*i-2*s+n+a)*(t*o)+(-3*i+3*s-2*n-a)*o+n*t+i}function Aa(t,e){const i=1-t;return i*i*e}function Ta(t,e){return 2*(1-t)*t*e}function Ca(t,e){return t*t*e}function Ia(t,e,i,s){return Aa(t,e)+Ta(t,i)+Ca(t,s)}function za(t,e){const i=1-t;return i*i*i*e}function Ba(t,e){const i=1-t;return 3*i*i*t*e}function Ra(t,e){return 3*(1-t)*t*t*e}function Ea(t,e){return t*t*t*e}function Pa(t,e,i,s,r){return za(t,e)+Ba(t,i)+Ra(t,s)+Ea(t,r)}n.CatmullRomCurve3=Sa;class Fa extends ya{constructor(t=new de,e=new de,i=new de,s=new de){super(),this.isCubicBezierCurve=!0,this.type='CubicBezierCurve',this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new de){const i=e,s=this.v0,r=this.v1,n=this.v2,a=this.v3;return i.set(Pa(t,s.x,r.x,n.x,a.x),Pa(t,s.y,r.y,n.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}n.CubicBezierCurve=Fa;class ka extends ya{constructor(t=new ye,e=new ye,i=new ye,s=new ye){super(),this.isCubicBezierCurve3=!0,this.type='CubicBezierCurve3',this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new ye){const i=e,s=this.v0,r=this.v1,n=this.v2,a=this.v3;return i.set(Pa(t,s.x,r.x,n.x,a.x),Pa(t,s.y,r.y,n.y,a.y),Pa(t,s.z,r.z,n.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}n.CubicBezierCurve3=ka;class Oa extends ya{constructor(t=new de,e=new de){super(),this.isLineCurve=!0,this.type='LineCurve',this.v1=t,this.v2=e}getPoint(t,e=new de){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new de){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}n.LineCurve=Oa;class La extends ya{constructor(t=new ye,e=new ye){super(),this.isLineCurve3=!0,this.type='LineCurve3',this.v1=t,this.v2=e}getPoint(t,e=new ye){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new ye){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}n.LineCurve3=La;class Na extends ya{constructor(t=new de,e=new de,i=new de){super(),this.isQuadraticBezierCurve=!0,this.type='QuadraticBezierCurve',this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new de){const i=e,s=this.v0,r=this.v1,n=this.v2;return i.set(Ia(t,s.x,r.x,n.x),Ia(t,s.y,r.y,n.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}n.QuadraticBezierCurve=Na;class Va extends ya{constructor(t=new ye,e=new ye,i=new ye){super(),this.isQuadraticBezierCurve3=!0,this.type='QuadraticBezierCurve3',this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new ye){const i=e,s=this.v0,r=this.v1,n=this.v2;return i.set(Ia(t,s.x,r.x,n.x),Ia(t,s.y,r.y,n.y),Ia(t,s.z,r.z,n.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}n.QuadraticBezierCurve3=Va;class Da extends ya{constructor(t=[]){super(),this.isSplineCurve=!0,this.type='SplineCurve',this.points=t}getPoint(t,e=new de){const i=e,s=this.points,r=(s.length-1)*t,n=Math.floor(r),a=r-n,o=s[0===n?n:n-1],h=s[n],l=s[n>s.length-2?s.length-1:n+1],c=s[n>s.length-3?s.length-1:n+2];return i.set(_a(a,o.x,h.x,l.x,c.x),_a(a,o.y,h.y,l.y,c.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new de).fromArray(i))}return this}}n.SplineCurve=Da;var Ua=Object.freeze({__proto__:null,ArcCurve:fa,CatmullRomCurve3:Sa,CubicBezierCurve:Fa,CubicBezierCurve3:ka,EllipseCurve:ga,LineCurve:Oa,LineCurve3:La,QuadraticBezierCurve:Na,QuadraticBezierCurve3:Va,SplineCurve:Da});class Ga extends ya{constructor(){super(),this.type='CurvePath',this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=!0===t.isVector2?'LineCurve':'LineCurve3';this.curves.push(new Ua[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const t=s[r]-i,n=this.curves[r],a=n.getLength(),o=0===a?0:1-t/a;return n.getPointAt(o,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const n=r[s],a=n.isEllipseCurve?2*t:n.isLineCurve||n.isLineCurve3?1:n.isSplineCurve?t*n.points.length:t,o=n.getPoints(a);for(let t=0;t<o.length;t++){const s=o[t];i&&i.equals(s)||(e.push(s),i=s)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push((new Ua[i.type]).fromJSON(i))}return this}}n.CurvePath=Ga;class Wa extends Ga{constructor(t){super(),this.type='Path',this.currentPoint=new de,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new Oa(this.currentPoint.clone(),new de(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new Na(this.currentPoint.clone(),new de(t,e),new de(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,n){const a=new Fa(this.currentPoint.clone(),new de(t,e),new de(i,s),new de(r,n));return this.curves.push(a),this.currentPoint.set(r,n),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new Da(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,n){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(t+a,e+o,i,s,r,n),this}absarc(t,e,i,s,r,n){return this.absellipse(t,e,i,i,s,r,n),this}ellipse(t,e,i,s,r,n,a,o){const h=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(t+h,e+l,i,s,r,n,a,o),this}absellipse(t,e,i,s,r,n,a,o){const h=new ga(t,e,i,s,r,n,a,o);if(this.curves.length>0){const t=h.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(h);const l=h.getPoint(1);return this.currentPoint.copy(l),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}n.Path=Wa;class ja extends Wa{constructor(t){super(t),this.uuid=oe(),this.type='Shape',this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push(i.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push((new Wa).fromJSON(i))}return this}}function Ha(t,e,i=2){const s=e&&e.length,r=s?e[0]*i:t.length;let n=qa(t,0,r,i,!0);const a=[];if(!n||n.next===n.prev)return a;let o,h,l;if(s&&(n=Ka(t,e,n,i)),t.length>80*i){o=1/0,h=1/0;let e=-1/0,s=-1/0;for(let n=i;n<r;n+=i){const i=t[n],r=t[n+1];i<o&&(o=i),r<h&&(h=r),i>e&&(e=i),r>s&&(s=r)}l=Math.max(e-o,s-h),l=0!==l?32767/l:0}return Xa(n,a,i,o,h,l,0),a}function qa(t,e,i,s,r){let n;if(r===_o(t,e,i,s)>0)for(let r=e;r<i;r+=s)n=Mo(r/s|0,t[r],t[r+1],n);else for(let r=i-s;r>=e;r-=s)n=Mo(r/s|0,t[r],t[r+1],n);return n&&po(n,n.next)&&(wo(n),n=n.next),n}function Ja(t,e){if(!t)return t;e||(e=t);let i,s=t;do{if(i=!1,s.steiner||!po(s,s.next)&&0!==uo(s.prev,s,s.next))s=s.next;else{if(wo(s),s=e=s.prev,s===s.next)break;i=!0}}while(i||s!==e);return e}function Xa(t,e,i,s,r,n,a){if(!t)return;!a&&n&&ro(t,s,r,n);let o=t;for(;t.prev!==t.next;){const h=t.prev,l=t.next;if(n?Ya(t,s,r,n):Za(t))e.push(h.i,t.i,l.i),wo(t),t=l.next,o=l.next;else if((t=l)===o){a?1===a?Xa(t=$a(Ja(t),e),e,i,s,r,n,2):2===a&&Qa(t,e,i,s,r,n):Xa(Ja(t),e,i,s,r,n,1);break}}}function Za(t){const e=t.prev,i=t,s=t.next;if(uo(e,i,s)>=0)return!1;const r=e.x,n=i.x,a=s.x,o=e.y,h=i.y,l=s.y,c=Math.min(r,n,a),u=Math.min(o,h,l),p=Math.max(r,n,a),d=Math.max(o,h,l);let m=s.next;for(;m!==e;){if(m.x>=c&&m.x<=p&&m.y>=u&&m.y<=d&&lo(r,o,n,h,a,l,m.x,m.y)&&uo(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Ya(t,e,i,s){const r=t.prev,n=t,a=t.next;if(uo(r,n,a)>=0)return!1;const o=r.x,h=n.x,l=a.x,c=r.y,u=n.y,p=a.y,d=Math.min(o,h,l),m=Math.min(c,u,p),y=Math.max(o,h,l),g=Math.max(c,u,p),f=ao(d,m,e,i,s),x=ao(y,g,e,i,s);let b=t.prevZ,v=t.nextZ;for(;b&&b.z>=f&&v&&v.z<=x;){if(b.x>=d&&b.x<=y&&b.y>=m&&b.y<=g&&b!==r&&b!==a&&lo(o,c,h,u,l,p,b.x,b.y)&&uo(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,v.x>=d&&v.x<=y&&v.y>=m&&v.y<=g&&v!==r&&v!==a&&lo(o,c,h,u,l,p,v.x,v.y)&&uo(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;b&&b.z>=f;){if(b.x>=d&&b.x<=y&&b.y>=m&&b.y<=g&&b!==r&&b!==a&&lo(o,c,h,u,l,p,b.x,b.y)&&uo(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;v&&v.z<=x;){if(v.x>=d&&v.x<=y&&v.y>=m&&v.y<=g&&v!==r&&v!==a&&lo(o,c,h,u,l,p,v.x,v.y)&&uo(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function $a(t,e){let i=t;do{const s=i.prev,r=i.next.next;!po(s,r)&&mo(s,i,i.next,r)&&xo(s,r)&&xo(r,s)&&(e.push(s.i,i.i,r.i),wo(i),wo(i.next),i=t=r),i=i.next}while(i!==t);return Ja(i)}function Qa(t,e,i,s,r,n){let a=t;do{let t=a.next.next;for(;t!==a.prev;){if(a.i!==t.i&&co(a,t)){let o=vo(a,t);return a=Ja(a,a.next),o=Ja(o,o.next),Xa(a,e,i,s,r,n,0),void Xa(o,e,i,s,r,n,0)}t=t.next}a=a.next}while(a!==t)}function Ka(t,e,i,s){const r=[];for(let i=0,n=e.length;i<n;i++){const a=qa(t,e[i]*s,i<n-1?e[i+1]*s:t.length,s,!1);a===a.next&&(a.steiner=!0),r.push(oo(a))}r.sort(to);for(let t=0;t<r.length;t++)i=eo(r[t],i);return i}function to(t,e){let i=t.x-e.x;if(0===i&&(i=t.y-e.y,0===i)){i=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)}return i}function eo(t,e){const i=io(t,e);if(!i)return e;const s=vo(i,t);return Ja(s,s.next),Ja(i,i.next)}function io(t,e){let i=e;const s=t.x,r=t.y;let n,a=-1/0;if(po(t,i))return i;do{if(po(t,i.next))return i.next;if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){const t=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=s&&t>a&&(a=t,n=i.x<i.next.x?i:i.next,t===s))return n}i=i.next}while(i!==e);if(!n)return null;const o=n,h=n.x,l=n.y;let c=1/0;i=n;do{if(s>=i.x&&i.x>=h&&s!==i.x&&ho(r<l?s:a,r,h,l,r<l?a:s,r,i.x,i.y)){const e=Math.abs(r-i.y)/(s-i.x);xo(i,t)&&(e<c||e===c&&(i.x>n.x||i.x===n.x&&so(n,i)))&&(n=i,c=e)}i=i.next}while(i!==o);return n}function so(t,e){return uo(t.prev,t,e.prev)<0&&uo(e.next,t,t.next)<0}function ro(t,e,i,s){let r=t;do{0===r.z&&(r.z=ao(r.x,r.y,e,i,s)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,no(r)}function no(t){let e,i=1;do{let s,r=t;t=null;let n=null;for(e=0;r;){e++;let a=r,o=0;for(let t=0;t<i&&(o++,a=a.nextZ,a);t++);let h=i;for(;o>0||h>0&&a;)0!==o&&(0===h||!a||r.z<=a.z)?(s=r,r=r.nextZ,o--):(s=a,a=a.nextZ,h--),n?n.nextZ=s:t=s,s.prevZ=n,n=s;r=a}n.nextZ=null,i*=2}while(e>1);return t}function ao(t,e,i,s,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function oo(t){let e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function ho(t,e,i,s,r,n,a,o){return(r-a)*(e-o)>=(t-a)*(n-o)&&(t-a)*(s-o)>=(i-a)*(e-o)&&(i-a)*(n-o)>=(r-a)*(s-o)}function lo(t,e,i,s,r,n,a,o){return!(t===a&&e===o)&&ho(t,e,i,s,r,n,a,o)}function co(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!fo(t,e)&&(xo(t,e)&&xo(e,t)&&bo(t,e)&&(uo(t.prev,t,e.prev)||uo(t,e.prev,e))||po(t,e)&&uo(t.prev,t,t.next)>0&&uo(e.prev,e,e.next)>0)}function uo(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function po(t,e){return t.x===e.x&&t.y===e.y}function mo(t,e,i,s){const r=go(uo(t,e,i)),n=go(uo(t,e,s)),a=go(uo(i,s,t)),o=go(uo(i,s,e));return r!==n&&a!==o||(!(0!==r||!yo(t,i,e))||(!(0!==n||!yo(t,s,e))||(!(0!==a||!yo(i,t,s))||!(0!==o||!yo(i,e,s)))))}function yo(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function go(t){return t>0?1:t<0?-1:0}function fo(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&mo(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function xo(t,e){return uo(t.prev,t,t.next)<0?uo(t,e,t.next)>=0&&uo(t,t.prev,e)>=0:uo(t,e,t.prev)<0||uo(t,t.next,e)<0}function bo(t,e){let i=t,s=!1;const r=(t.x+e.x)/2,n=(t.y+e.y)/2;do{i.y>n!=i.next.y>n&&i.next.y!==i.y&&r<(i.next.x-i.x)*(n-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}function vo(t,e){const i=So(t.i,t.x,t.y),s=So(e.i,e.x,e.y),r=t.next,n=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,s.next=i,i.prev=s,n.next=s,s.prev=n,s}function Mo(t,e,i,s){const r=So(t,e,i);return s?(r.next=s.next,r.prev=s,s.next.prev=r,s.next=r):(r.prev=r,r.next=r),r}function wo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function So(t,e,i){return{i:t,x:e,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function _o(t,e,i,s){let r=0;for(let n=e,a=i-s;n<i;n+=s)r+=(t[a]-t[n])*(t[n+1]+t[a+1]),a=n;return r}n.Shape=ja;class Ao{static triangulate(t,e,i=2){return Ha(t,e,i)}}class To{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*i}static isClockWise(t){return To.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];Co(t),Io(i,t);let n=t.length;e.forEach(Co);for(let t=0;t<e.length;t++)s.push(n),n+=e[t].length,Io(i,e[t]);const a=Ao.triangulate(i,s);for(let t=0;t<a.length;t+=3)r.push(a.slice(t,t+3));return r}}function Co(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Io(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}n.ShapeUtils=To;class zo extends Ps{constructor(t=new ja([new de(.5,.5),new de(-.5,.5),new de(-.5,-.5),new de(.5,-.5)]),e={}){super(),this.type='ExtrudeGeometry',this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let e=0,i=t.length;e<i;e++){n(t[e])}function n(t){const n=[],a=void 0!==e.curveSegments?e.curveSegments:12,o=void 0!==e.steps?e.steps:1,h=void 0!==e.depth?e.depth:1;let l=void 0===e.bevelEnabled||e.bevelEnabled,c=void 0!==e.bevelThickness?e.bevelThickness:.2,u=void 0!==e.bevelSize?e.bevelSize:c-.1,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3;const m=e.extrudePath,y=void 0!==e.UVGenerator?e.UVGenerator:Bo;let g,f,x,b,v,M=!1;m&&(g=m.getSpacedPoints(o),M=!0,l=!1,f=m.computeFrenetFrames(o,!1),x=new ye,b=new ye,v=new ye),l||(d=0,c=0,u=0,p=0);const w=t.extractPoints(a);let S=w.shape;const _=w.holes;if(!To.isClockWise(S)){S=S.reverse();for(let t=0,e=_.length;t<e;t++){const e=_[t];To.isClockWise(e)&&(_[t]=e.reverse())}}function A(t){let e=t[0];for(let i=1;i<=t.length;i++){const s=i%t.length,r=t[s],n=r.x-e.x,a=r.y-e.y,o=n*n+a*a,h=Math.max(Math.abs(r.x),Math.abs(r.y),Math.abs(e.x),Math.abs(e.y));o<=1.0000000000000001e-20*h*h?(t.splice(s,1),i--):e=r}}A(S),_.forEach(A);const T=_.length,C=S;for(let t=0;t<T;t++){const e=_[t];S=S.concat(e)}function I(t,e,i){return e||console.error('THREE.ExtrudeGeometry: vec does not exist'),t.clone().addScaledVector(e,i)}const z=S.length;function B(t,e,i){let s,r,n;const a=t.x-e.x,o=t.y-e.y,h=i.x-t.x,l=i.y-t.y,c=a*a+o*o,u=a*l-o*h;if(Math.abs(u)>Number.EPSILON){const u=Math.sqrt(c),p=Math.sqrt(h*h+l*l),d=e.x-o/u,m=e.y+a/u,y=((i.x-l/p-d)*l-(i.y+h/p-m)*h)/(a*l-o*h);s=d+a*y-t.x,r=m+o*y-t.y;const g=s*s+r*r;if(g<=2)return new de(s,r);n=Math.sqrt(g/2)}else{let t=!1;a>Number.EPSILON?h>Number.EPSILON&&(t=!0):a<-Number.EPSILON?h<-Number.EPSILON&&(t=!0):Math.sign(o)===Math.sign(l)&&(t=!0),t?(s=-o,r=a,n=Math.sqrt(c)):(s=a,r=o,n=Math.sqrt(c/2))}return new de(s/n,r/n)}const R=[];for(let t=0,e=C.length,i=e-1,s=t+1;t<e;t++,i++,s++)i===e&&(i=0),s===e&&(s=0),R[t]=B(C[t],C[i],C[s]);const E=[];let P,F,k=R.concat();for(let t=0,e=T;t<e;t++){const e=_[t];P=[];for(let t=0,i=e.length,s=i-1,r=t+1;t<i;t++,s++,r++)s===i&&(s=0),r===i&&(r=0),P[t]=B(e[t],e[s],e[r]);E.push(P),k=k.concat(P)}if(0===d)F=To.triangulateShape(C,_);else{const t=[],e=[];for(let i=0;i<d;i++){const s=i/d,r=c*Math.cos(s*Math.PI/2),n=u*Math.sin(s*Math.PI/2)+p;for(let e=0,i=C.length;e<i;e++){const i=I(C[e],R[e],n);V(i.x,i.y,-r),0===s&&t.push(i)}for(let t=0,i=T;t<i;t++){const i=_[t];P=E[t];const a=[];for(let t=0,e=i.length;t<e;t++){const e=I(i[t],P[t],n);V(e.x,e.y,-r),0===s&&a.push(e)}0===s&&e.push(a)}}F=To.triangulateShape(t,e)}const O=F.length,L=u+p;for(let t=0;t<z;t++){const e=l?I(S[t],k[t],L):S[t];M?(b.copy(f.normals[0]).multiplyScalar(e.x),x.copy(f.binormals[0]).multiplyScalar(e.y),v.copy(g[0]).add(b).add(x),V(v.x,v.y,v.z)):V(e.x,e.y,0)}for(let t=1;t<=o;t++)for(let e=0;e<z;e++){const i=l?I(S[e],k[e],L):S[e];M?(b.copy(f.normals[t]).multiplyScalar(i.x),x.copy(f.binormals[t]).multiplyScalar(i.y),v.copy(g[t]).add(b).add(x),V(v.x,v.y,v.z)):V(i.x,i.y,h/o*t)}for(let t=d-1;t>=0;t--){const e=t/d,i=c*Math.cos(e*Math.PI/2),s=u*Math.sin(e*Math.PI/2)+p;for(let t=0,e=C.length;t<e;t++){const e=I(C[t],R[t],s);V(e.x,e.y,h+i)}for(let t=0,e=_.length;t<e;t++){const e=_[t];P=E[t];for(let t=0,r=e.length;t<r;t++){const r=I(e[t],P[t],s);M?V(r.x,r.y+g[o-1].y,g[o-1].x+i):V(r.x,r.y,h+i)}}}function N(t,e){let i=t.length;for(;--i>=0;){const s=i;let r=i-1;r<0&&(r=t.length-1);for(let t=0,i=o+2*d;t<i;t++){const i=z*t,n=z*(t+1);U(e+s+i,e+r+i,e+r+n,e+s+n)}}}function V(t,e,i){n.push(t),n.push(e),n.push(i)}function D(t,e,r){G(t),G(e),G(r);const n=s.length/3,a=y.generateTopUV(i,s,n-3,n-2,n-1);W(a[0]),W(a[1]),W(a[2])}function U(t,e,r,n){G(t),G(e),G(n),G(e),G(r),G(n);const a=s.length/3,o=y.generateSideWallUV(i,s,a-6,a-3,a-2,a-1);W(o[0]),W(o[1]),W(o[3]),W(o[1]),W(o[2]),W(o[3])}function G(t){s.push(n[3*t+0]),s.push(n[3*t+1]),s.push(n[3*t+2])}function W(t){r.push(t.x),r.push(t.y)}!(function(){const t=s.length/3;if(l){let t=0,e=z*t;for(let t=0;t<O;t++){const i=F[t];D(i[2]+e,i[1]+e,i[0]+e)}t=o+2*d,e=z*t;for(let t=0;t<O;t++){const i=F[t];D(i[0]+e,i[1]+e,i[2]+e)}}else{for(let t=0;t<O;t++){const e=F[t];D(e[2],e[1],e[0])}for(let t=0;t<O;t++){const e=F[t];D(e[0]+z*o,e[1]+z*o,e[2]+z*o)}}i.addGroup(t,s.length/3-t,0)})(),(function(){const t=s.length/3;let e=0;N(C,e),e+=C.length;for(let t=0,i=_.length;t<i;t++){const i=_[t];N(i,e),e+=i.length}i.addGroup(t,s.length/3-t,1)})()}this.setAttribute('position',new As(s,3)),this.setAttribute('uv',new As(r,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return Ro(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const r=e[t.shapes[s]];i.push(r)}const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new Ua[s.type]).fromJSON(s)),new zo(i,t.options)}}n.ExtrudeGeometry=zo;const Bo={generateTopUV:function(t,e,i,s,r){const n=e[3*i],a=e[3*i+1],o=e[3*s],h=e[3*s+1],l=e[3*r],c=e[3*r+1];return[new de(n,a),new de(o,h),new de(l,c)]},generateSideWallUV:function(t,e,i,s,r,n){const a=e[3*i],o=e[3*i+1],h=e[3*i+2],l=e[3*s],c=e[3*s+1],u=e[3*s+2],p=e[3*r],d=e[3*r+1],m=e[3*r+2],y=e[3*n],g=e[3*n+1],f=e[3*n+2];return Math.abs(o-c)<Math.abs(a-l)?[new de(a,1-h),new de(l,1-u),new de(p,1-m),new de(y,1-f)]:[new de(o,1-h),new de(c,1-u),new de(d,1-m),new de(g,1-f)]}};function Ro(t,e,i){if(i.shapes=[],Array.isArray(t))for(let e=0,s=t.length;e<s;e++){const s=t[e];i.shapes.push(s.uuid)}else i.shapes.push(t.uuid);return i.options=Object.assign({},e),void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}class Eo extends ha{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2;super([-1,i,0,1,i,0,-1,-1.618033988749895,0,1,-1.618033988749895,0,0,-1,i,0,1,i,0,-1,-1.618033988749895,0,1,-1.618033988749895,i,0,-1,i,0,1,-1.618033988749895,0,-1,-1.618033988749895,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type='IcosahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new Eo(t.radius,t.detail)}}n.IcosahedronGeometry=Eo;class Po extends Ps{constructor(t=[new de(0,-.5),new de(.5,0),new de(0,.5)],e=12,i=0,s=2*Math.PI){super(),this.type='LatheGeometry',this.parameters={points:t,segments:e,phiStart:i,phiLength:s},e=Math.floor(e),s=he(s,0,2*Math.PI);const r=[],n=[],a=[],o=[],h=[],l=1/e,c=new ye,u=new de,p=new ye,d=new ye,m=new ye;let y=0,g=0;for(let e=0;e<=t.length-1;e++)switch(e){case 0:y=t[e+1].x-t[e].x,g=t[e+1].y-t[e].y,p.x=1*g,p.y=-y,p.z=0*g,m.copy(p),p.normalize(),o.push(p.x,p.y,p.z);break;case t.length-1:o.push(m.x,m.y,m.z);break;default:y=t[e+1].x-t[e].x,g=t[e+1].y-t[e].y,p.x=1*g,p.y=-y,p.z=0*g,d.copy(p),p.x+=m.x,p.y+=m.y,p.z+=m.z,p.normalize(),o.push(p.x,p.y,p.z),m.copy(d)}for(let r=0;r<=e;r++){const p=i+r*l*s,d=Math.sin(p),m=Math.cos(p);for(let i=0;i<=t.length-1;i++){c.x=t[i].x*d,c.y=t[i].y,c.z=t[i].x*m,n.push(c.x,c.y,c.z),u.x=r/e,u.y=i/(t.length-1),a.push(u.x,u.y);const s=o[3*i+0]*d,l=o[3*i+1],p=o[3*i+0]*m;h.push(s,l,p)}}for(let i=0;i<e;i++)for(let e=0;e<t.length-1;e++){const s=e+i*t.length,n=s,a=s+t.length,o=s+t.length+1,h=s+1;r.push(n,a,h),r.push(o,h,a)}this.setIndex(r),this.setAttribute('position',new As(n,3)),this.setAttribute('uv',new As(a,2)),this.setAttribute('normal',new As(h,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Po(t.points,t.segments,t.phiStart,t.phiLength)}}n.LatheGeometry=Po;class Fo extends ha{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type='OctahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new Fo(t.radius,t.detail)}}n.OctahedronGeometry=Fo;class ko extends Ps{constructor(t=1,e=1,i=1,s=1){super(),this.type='PlaneGeometry',this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,n=e/2,a=Math.floor(i),o=Math.floor(s),h=a+1,l=o+1,c=t/a,u=e/o,p=[],d=[],m=[],y=[];for(let t=0;t<l;t++){const e=t*u-n;for(let i=0;i<h;i++){const s=i*c-r;d.push(s,-e,0),m.push(0,0,1),y.push(i/a),y.push(1-t/o)}}for(let t=0;t<o;t++)for(let e=0;e<a;e++){const i=e+h*t,s=e+h*(t+1),r=e+1+h*(t+1),n=e+1+h*t;p.push(i,s,n),p.push(s,r,n)}this.setIndex(p),this.setAttribute('position',new As(d,3)),this.setAttribute('normal',new As(m,3)),this.setAttribute('uv',new As(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ko(t.width,t.height,t.widthSegments,t.heightSegments)}}n.PlaneGeometry=ko;class Oo extends Ps{constructor(t=.5,e=1,i=32,s=1,r=0,n=2*Math.PI){super(),this.type='RingGeometry',this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:s,thetaStart:r,thetaLength:n},i=Math.max(3,i);const a=[],o=[],h=[],l=[];let c=t;const u=(e-t)/(s=Math.max(1,s)),p=new ye,d=new de;for(let t=0;t<=s;t++){for(let t=0;t<=i;t++){const s=r+t/i*n;p.x=c*Math.cos(s),p.y=c*Math.sin(s),o.push(p.x,p.y,p.z),h.push(0,0,1),d.x=(p.x/e+1)/2,d.y=(p.y/e+1)/2,l.push(d.x,d.y)}c+=u}for(let t=0;t<s;t++){const e=t*(i+1);for(let t=0;t<i;t++){const s=t+e,r=s,n=s+i+1,o=s+i+2,h=s+1;a.push(r,n,h),a.push(n,o,h)}}this.setIndex(a),this.setAttribute('position',new As(o,3)),this.setAttribute('normal',new As(h,3)),this.setAttribute('uv',new As(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Oo(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}n.RingGeometry=Oo;class Lo extends Ps{constructor(t=new ja([new de(0,.5),new de(-.5,-.5),new de(.5,-.5)]),e=12){super(),this.type='ShapeGeometry',this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],n=[];let a=0,o=0;if(!1===Array.isArray(t))h(t);else for(let e=0;e<t.length;e++)h(t[e]),this.addGroup(a,o,e),a+=o,o=0;function h(t){const a=s.length/3,h=t.extractPoints(e);let l=h.shape;const c=h.holes;!1===To.isClockWise(l)&&(l=l.reverse());for(let t=0,e=c.length;t<e;t++){const e=c[t];!0===To.isClockWise(e)&&(c[t]=e.reverse())}const u=To.triangulateShape(l,c);for(let t=0,e=c.length;t<e;t++){const e=c[t];l=l.concat(e)}for(let t=0,e=l.length;t<e;t++){const e=l[t];s.push(e.x,e.y,0),r.push(0,0,1),n.push(e.x,e.y)}for(let t=0,e=u.length;t<e;t++){const e=u[t],s=e[0]+a,r=e[1]+a,n=e[2]+a;i.push(s,r,n),o+=3}}this.setIndex(i),this.setAttribute('position',new As(s,3)),this.setAttribute('normal',new As(r,3)),this.setAttribute('uv',new As(n,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return No(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++){const r=e[t.shapes[s]];i.push(r)}return new Lo(i,t.curveSegments)}}function No(t,e){if(e.shapes=[],Array.isArray(t))for(let i=0,s=t.length;i<s;i++){const s=t[i];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}n.ShapeGeometry=Lo;class Vo extends Ps{constructor(t=1,e=32,i=16,s=0,r=2*Math.PI,n=0,a=Math.PI){super(),this.type='SphereGeometry',this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:s,phiLength:r,thetaStart:n,thetaLength:a},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const o=Math.min(n+a,Math.PI);let h=0;const l=[],c=new ye,u=new ye,p=[],d=[],m=[],y=[];for(let p=0;p<=i;p++){const g=[],f=p/i;let x=0;0===p&&0===n?x=.5/e:p===i&&o===Math.PI&&(x=-.5/e);for(let i=0;i<=e;i++){const o=i/e;c.x=-t*Math.cos(s+o*r)*Math.sin(n+f*a),c.y=t*Math.cos(n+f*a),c.z=t*Math.sin(s+o*r)*Math.sin(n+f*a),d.push(c.x,c.y,c.z),u.copy(c).normalize(),m.push(u.x,u.y,u.z),y.push(o+x,1-f),g.push(h++)}l.push(g)}for(let t=0;t<i;t++)for(let s=0;s<e;s++){const e=l[t][s+1],r=l[t][s],a=l[t+1][s],h=l[t+1][s+1];(0!==t||n>0)&&p.push(e,r,h),(t!==i-1||o<Math.PI)&&p.push(r,a,h)}this.setIndex(p),this.setAttribute('position',new As(d,3)),this.setAttribute('normal',new As(m,3)),this.setAttribute('uv',new As(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Vo(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}n.SphereGeometry=Vo;class Do extends ha{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type='TetrahedronGeometry',this.parameters={radius:t,detail:e}}static fromJSON(t){return new Do(t.radius,t.detail)}}n.TetrahedronGeometry=Do;class Uo extends Ps{constructor(t=1,e=.4,i=12,s=48,r=2*Math.PI){super(),this.type='TorusGeometry',this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:s,arc:r},i=Math.floor(i),s=Math.floor(s);const n=[],a=[],o=[],h=[],l=new ye,c=new ye,u=new ye;for(let n=0;n<=i;n++)for(let p=0;p<=s;p++){const d=p/s*r,m=n/i*Math.PI*2;c.x=(t+e*Math.cos(m))*Math.cos(d),c.y=(t+e*Math.cos(m))*Math.sin(d),c.z=e*Math.sin(m),a.push(c.x,c.y,c.z),l.x=t*Math.cos(d),l.y=t*Math.sin(d),u.subVectors(c,l).normalize(),o.push(u.x,u.y,u.z),h.push(p/s),h.push(n/i)}for(let t=1;t<=i;t++)for(let e=1;e<=s;e++){const i=(s+1)*t+e-1,r=(s+1)*(t-1)+e-1,a=(s+1)*(t-1)+e,o=(s+1)*t+e;n.push(i,r,o),n.push(r,a,o)}this.setIndex(n),this.setAttribute('position',new As(a,3)),this.setAttribute('normal',new As(o,3)),this.setAttribute('uv',new As(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Uo(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}n.TorusGeometry=Uo;class Go extends Ps{constructor(t=1,e=.4,i=64,s=8,r=2,n=3){super(),this.type='TorusKnotGeometry',this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:s,p:r,q:n},i=Math.floor(i),s=Math.floor(s);const a=[],o=[],h=[],l=[],c=new ye,u=new ye,p=new ye,d=new ye,m=new ye,y=new ye,g=new ye;for(let a=0;a<=i;++a){const x=a/i*r*Math.PI*2;f(x,r,n,t,p),f(x+.01,r,n,t,d),y.subVectors(d,p),g.addVectors(d,p),m.crossVectors(y,g),g.crossVectors(m,y),m.normalize(),g.normalize();for(let t=0;t<=s;++t){const r=t/s*Math.PI*2,n=-e*Math.cos(r),d=e*Math.sin(r);c.x=p.x+(n*g.x+d*m.x),c.y=p.y+(n*g.y+d*m.y),c.z=p.z+(n*g.z+d*m.z),o.push(c.x,c.y,c.z),u.subVectors(c,p).normalize(),h.push(u.x,u.y,u.z),l.push(a/i),l.push(t/s)}}for(let t=1;t<=i;t++)for(let e=1;e<=s;e++){const i=(s+1)*(t-1)+(e-1),r=(s+1)*t+(e-1),n=(s+1)*t+e,o=(s+1)*(t-1)+e;a.push(i,r,o),a.push(r,n,o)}function f(t,e,i,s,r){const n=Math.cos(t),a=Math.sin(t),o=i/e*t,h=Math.cos(o);r.x=s*(2+h)*.5*n,r.y=s*(2+h)*a*.5,r.z=s*Math.sin(o)*.5}this.setIndex(a),this.setAttribute('position',new As(o,3)),this.setAttribute('normal',new As(h,3)),this.setAttribute('uv',new As(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Go(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}n.TorusKnotGeometry=Go;class Wo extends Ps{constructor(t=new Va(new ye(-1,-1,0),new ye(-1,1,0),new ye(1,1,0)),e=64,i=1,s=8,r=!1){super(),this.type='TubeGeometry',this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:s,closed:r};const n=t.computeFrenetFrames(e,r);this.tangents=n.tangents,this.normals=n.normals,this.binormals=n.binormals;const a=new ye,o=new ye,h=new de;let l=new ye;const c=[],u=[],p=[],d=[];function m(r){l=t.getPointAt(r/e,l);const h=n.normals[r],p=n.binormals[r];for(let t=0;t<=s;t++){const e=t/s*Math.PI*2,r=Math.sin(e),n=-Math.cos(e);o.x=n*h.x+r*p.x,o.y=n*h.y+r*p.y,o.z=n*h.z+r*p.z,o.normalize(),u.push(o.x,o.y,o.z),a.x=l.x+i*o.x,a.y=l.y+i*o.y,a.z=l.z+i*o.z,c.push(a.x,a.y,a.z)}}function y(){for(let t=1;t<=e;t++)for(let e=1;e<=s;e++){const i=(s+1)*(t-1)+(e-1),r=(s+1)*t+(e-1),n=(s+1)*t+e,a=(s+1)*(t-1)+e;d.push(i,r,a),d.push(r,n,a)}}function g(){for(let t=0;t<=e;t++)for(let i=0;i<=s;i++)h.x=t/e,h.y=i/s,p.push(h.x,h.y)}!(function(){for(let t=0;t<e;t++)m(t);m(!1===r?e:0),g(),y()})(),this.setIndex(d),this.setAttribute('position',new As(c,3)),this.setAttribute('normal',new As(u,3)),this.setAttribute('uv',new As(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new Wo((new Ua[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}n.TubeGeometry=Wo;class jo extends Ps{constructor(t=null){if(super(),this.type='WireframeGeometry',this.parameters={geometry:t},null!==t){const e=[],i=new Set,s=new ye,r=new ye;if(null!==t.index){const n=t.attributes.position,a=t.index;let o=t.groups;0===o.length&&(o=[{start:0,count:a.count,materialIndex:0}]);for(let t=0,h=o.length;t<h;++t){const h=o[t],l=h.start;for(let t=l,o=l+h.count;t<o;t+=3)for(let o=0;o<3;o++){const h=a.getX(t+o),l=a.getX(t+(o+1)%3);s.fromBufferAttribute(n,h),r.fromBufferAttribute(n,l),!0===Ho(s,r,i)&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}}else{const n=t.attributes.position;for(let t=0,a=n.count/3;t<a;t++)for(let a=0;a<3;a++){const o=3*t+a,h=3*t+(a+1)%3;s.fromBufferAttribute(n,o),r.fromBufferAttribute(n,h),!0===Ho(s,r,i)&&(e.push(s.x,s.y,s.z),e.push(r.x,r.y,r.z))}}this.setAttribute('position',new As(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Ho(t,e,i){const s=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==i.has(s)&&!0!==i.has(r)&&(i.add(s),i.add(r),!0)}n.WireframeGeometry=jo;var qo=Object.freeze({__proto__:null,BoxGeometry:Xs,CapsuleGeometry:ra,CircleGeometry:na,ConeGeometry:oa,CylinderGeometry:aa,DodecahedronGeometry:la,EdgesGeometry:ma,ExtrudeGeometry:zo,IcosahedronGeometry:Eo,LatheGeometry:Po,OctahedronGeometry:Fo,PlaneGeometry:ko,PolyhedronGeometry:ha,RingGeometry:Oo,ShapeGeometry:Lo,SphereGeometry:Vo,TetrahedronGeometry:Do,TorusGeometry:Uo,TorusKnotGeometry:Go,TubeGeometry:Wo,WireframeGeometry:jo});class Jo extends ds{constructor(t){super(),this.isShadowMaterial=!0,this.type='ShadowMaterial',this.color=new cs(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}n.ShadowMaterial=Jo;class Xo extends Qs{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type='RawShaderMaterial'}}n.RawShaderMaterial=Xo;class Zo extends ds{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type='MeshStandardMaterial',this.defines={STANDARD:''},this.color=new cs(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ii,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:''},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}n.MeshStandardMaterial=Zo;class Yo extends Zo{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:'',PHYSICAL:''},this.type='MeshPhysicalMaterial',this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new de(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,'reflectivity',{get:function(){return he(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new cs(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new cs(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new cs(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:'',PHYSICAL:''},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}n.MeshPhysicalMaterial=Yo;class $o extends ds{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type='MeshPhongMaterial',this.color=new cs(16777215),this.specular=new cs(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ii,this.combine=g,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}n.MeshPhongMaterial=$o;class Qo extends ds{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:''},this.type='MeshToonMaterial',this.color=new cs(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}n.MeshToonMaterial=Qo;class Ko extends ds{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type='MeshNormalMaterial',this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}n.MeshNormalMaterial=Ko;class th extends ds{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type='MeshLambertMaterial',this.color=new cs(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cs(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ii,this.combine=g,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap='round',this.wireframeLinejoin='round',this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}n.MeshLambertMaterial=th;class eh extends ds{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type='MeshDepthMaterial',this.depthPacking=jt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}n.MeshDepthMaterial=eh;class ih extends ds{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type='MeshDistanceMaterial',this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}n.MeshDistanceMaterial=ih;class sh extends ds{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:''},this.type='MeshMatcapMaterial',this.color=new cs(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ht,this.normalScale=new de(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:''},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}n.MeshMatcapMaterial=sh;class rh extends kn{constructor(t){super(),this.isLineDashedMaterial=!0,this.type='LineDashedMaterial',this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function nh(t,e){return t&&t.constructor!==e?'number'==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t):t}function ah(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oh(t){const e=t.length,i=new Array(e);for(let t=0;t!==e;++t)i[t]=t;return i.sort(function(e,i){return t[e]-t[i]}),i}function hh(t,e,i){const s=t.length,r=new t.constructor(s);for(let n=0,a=0;a!==s;++n){const s=i[n]*e;for(let i=0;i!==e;++i)r[a++]=t[s+i]}return r}function lh(t,e,i,s){let r=1,n=t[0];for(;void 0!==n&&void 0===n[s];)n=t[r++];if(void 0===n)return;let a=n[s];if(void 0!==a)if(Array.isArray(a))do{a=n[s],void 0!==a&&(e.push(n.time),i.push(...a)),n=t[r++]}while(void 0!==n);else if(void 0!==a.toArray)do{a=n[s],void 0!==a&&(e.push(n.time),a.toArray(i,i.length)),n=t[r++]}while(void 0!==n);else do{a=n[s],void 0!==a&&(e.push(n.time),i.push(a)),n=t[r++]}while(void 0!==n)}function ch(t,e,i,s,r=30){const n=t.clone();n.name=e;const a=[];for(let t=0;t<n.tracks.length;++t){const e=n.tracks[t],o=e.getValueSize(),h=[],l=[];for(let t=0;t<e.times.length;++t){const n=e.times[t]*r;if(!(n<i||n>=s)){h.push(e.times[t]);for(let i=0;i<o;++i)l.push(e.values[t*o+i])}}0!==h.length&&(e.times=nh(h,e.times.constructor),e.values=nh(l,e.values.constructor),a.push(e))}n.tracks=a;let o=1/0;for(let t=0;t<n.tracks.length;++t)o>n.tracks[t].times[0]&&(o=n.tracks[t].times[0]);for(let t=0;t<n.tracks.length;++t)n.tracks[t].shift(-1*o);return n.resetDuration(),n}function uh(t,e=0,i=t,s=30){s<=0&&(s=30);const r=i.tracks.length,n=e/s;for(let e=0;e<r;++e){const s=i.tracks[e],r=s.ValueTypeName;if('bool'===r||'string'===r)continue;const a=t.tracks.find(function(t){return t.name===s.name&&t.ValueTypeName===r});if(void 0===a)continue;let o=0;const h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=h/3);let l=0;const c=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);const u=s.times.length-1;let p;if(n<=s.times[0]){const t=o,e=h-o;p=s.values.slice(t,e)}else if(n>=s.times[u]){const t=u*h+o,e=t+h-o;p=s.values.slice(t,e)}else{const t=s.createInterpolant(),e=o,i=h-o;t.evaluate(n),p=t.resultBuffer.slice(e,i)}if('quaternion'===r){(new me).fromArray(p).normalize().conjugate().toArray(p)}const d=a.times.length;for(let t=0;t<d;++t){const e=t*c+l;if('quaternion'===r)me.multiplyQuaternionsFlat(a.values,e,p,0,a.values,e);else{const t=c-2*l;for(let i=0;i<t;++i)a.values[e+i]-=p[i]}}}return t.blendMode=Wt,t}n.LineDashedMaterial=rh;n.AnimationUtils=class{static convertArray(t,e){return nh(t,e)}static isTypedArray(t){return ah(t)}static getKeyframeOrder(t){return oh(t)}static sortedArray(t,e,i){return hh(t,e,i)}static flattenJSON(t,e,i,s){lh(t,e,i,s)}static subclip(t,e,i,s,r=30){return ch(t,e,i,s,r)}static makeClipAdditive(t,e=0,i=t,s=30){return uh(t,e,i,s)}};class ph{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];t:{e:{let n;i:{s:if(!(t<s)){for(let n=i+2;;){if(void 0===s){if(t<r)break s;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===n)break;if(r=s,s=e[++i],t<s)break e}n=e.length;break i}if(!(t>=r)){const a=e[1];t<a&&(i=2,r=a);for(let n=i-2;;){if(void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(i===n)break;if(s=r,r=e[--i-1],t>=r)break e}n=i,i=0;break i}break t}for(;i<n;){const s=i+n>>>1;t<e[s]?n=s:i=s+1}if(s=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===s)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let t=0;t!==s;++t)e[t]=i[r+t];return e}interpolate_(){throw new Error('call to abstract method')}intervalChanged_(){}}n.Interpolant=ph;class dh extends ph{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vt,endingEnd:Vt}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,n=t+1,a=s[r],o=s[n];if(void 0===a)switch(this.getSettings_().endingStart){case Dt:r=t,a=2*e-i;break;case Ut:r=s.length-2,a=e+s[r]-s[r+1];break;default:r=t,a=i}if(void 0===o)switch(this.getSettings_().endingEnd){case Dt:n=t,o=2*i-e;break;case Ut:n=1,o=i+s[1]-s[0];break;default:n=t-1,o=e}const h=.5*(i-e),l=this.valueSize;this._weightPrev=h/(e-a),this._weightNext=h/(o-i),this._offsetPrev=r*l,this._offsetNext=n*l}interpolate_(t,e,i,s){const r=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=t*a,h=o-a,l=this._offsetPrev,c=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(i-e)/(s-e),m=d*d,y=m*d,g=-u*y+2*u*m-u*d,f=(1+u)*y+(-1.5-2*u)*m+(-.5+u)*d+1,x=(-1-p)*y+(1.5+p)*m+.5*d,b=p*y-p*m;for(let t=0;t!==a;++t)r[t]=g*n[l+t]+f*n[h+t]+x*n[o+t]+b*n[c+t];return r}}n.CubicInterpolant=dh;class mh extends ph{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=t*a,h=o-a,l=(i-e)/(s-e),c=1-l;for(let t=0;t!==a;++t)r[t]=n[h+t]*c+n[o+t]*l;return r}}n.LinearInterpolant=mh;class yh extends ph{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}n.DiscreteInterpolant=yh;class gh{constructor(t,e,i,s){if(void 0===t)throw new Error('THREE.KeyframeTrack: track name is undefined');if(void 0===e||0===e.length)throw new Error('THREE.KeyframeTrack: no keyframes in track named '+t);this.name=t,this.times=nh(e,this.TimeBufferType),this.values=nh(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:nh(t.times,Array),values:nh(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(i.interpolation=e)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new yh(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new mh(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new dh(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Ot:e=this.InterpolantFactoryMethodDiscrete;break;case Lt:e=this.InterpolantFactoryMethodLinear;break;case Nt:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e='unsupported interpolation for '+this.ValueTypeName+' keyframe track named '+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn('THREE.KeyframeTrack:',e),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ot;case this.InterpolantFactoryMethodLinear:return Lt;case this.InterpolantFactoryMethodSmooth:return Nt}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,n=s-1;for(;r!==s&&i[r]<t;)++r;for(;-1!==n&&i[n]>e;)--n;if(++n,0!==r||n!==s){r>=n&&(n=Math.max(n,1),r=n-1);const t=this.getValueSize();this.times=i.slice(r,n),this.values=this.values.slice(r*t,n*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error('THREE.KeyframeTrack: Invalid value size in track.',this),t=!1);const i=this.times,s=this.values,r=i.length;0===r&&(console.error('THREE.KeyframeTrack: Track is empty.',this),t=!1);let n=null;for(let e=0;e!==r;e++){const s=i[e];if('number'==typeof s&&isNaN(s)){console.error('THREE.KeyframeTrack: Time is not a valid number.',this,e,s),t=!1;break}if(null!==n&&n>s){console.error('THREE.KeyframeTrack: Out of order keys.',this,e,s,n),t=!1;break}n=s}if(void 0!==s&&ah(s))for(let e=0,i=s.length;e!==i;++e){const i=s[e];if(isNaN(i)){console.error('THREE.KeyframeTrack: Value is not a valid number.',this,e,i),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),s=this.getInterpolation()===Nt,r=t.length-1;let n=1;for(let a=1;a<r;++a){let r=!1;const o=t[a];if(o!==t[a+1]&&(1!==a||o!==t[0]))if(s)r=!0;else{const t=a*i,s=t-i,n=t+i;for(let a=0;a!==i;++a){const i=e[t+a];if(i!==e[s+a]||i!==e[n+a]){r=!0;break}}}if(r){if(a!==n){t[n]=t[a];const s=a*i,r=n*i;for(let t=0;t!==i;++t)e[r+t]=e[s+t]}++n}}if(r>0){t[n]=t[r];for(let t=r*i,s=n*i,a=0;a!==i;++a)e[s+a]=e[t+a];++n}return n!==t.length?(this.times=t.slice(0,n),this.values=e.slice(0,n*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}n.KeyframeTrack=gh,gh.prototype.ValueTypeName='',gh.prototype.TimeBufferType=Float32Array,gh.prototype.ValueBufferType=Float32Array,gh.prototype.DefaultInterpolation=Lt;class fh extends gh{constructor(t,e,i){super(t,e,i)}}n.BooleanKeyframeTrack=fh,fh.prototype.ValueTypeName='bool',fh.prototype.ValueBufferType=Array,fh.prototype.DefaultInterpolation=Ot,fh.prototype.InterpolantFactoryMethodLinear=void 0,fh.prototype.InterpolantFactoryMethodSmooth=void 0;class xh extends gh{constructor(t,e,i,s){super(t,e,i,s)}}n.ColorKeyframeTrack=xh,xh.prototype.ValueTypeName='color';class bh extends gh{constructor(t,e,i,s){super(t,e,i,s)}}n.NumberKeyframeTrack=bh,bh.prototype.ValueTypeName='number';class vh extends ph{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,n=this.sampleValues,a=this.valueSize,o=(i-e)/(s-e);let h=t*a;for(let t=h+a;h!==t;h+=4)me.slerpFlat(r,0,n,h-a,n,h,o);return r}}n.QuaternionLinearInterpolant=vh;class Mh extends gh{constructor(t,e,i,s){super(t,e,i,s)}InterpolantFactoryMethodLinear(t){return new vh(this.times,this.values,this.getValueSize(),t)}}n.QuaternionKeyframeTrack=Mh,Mh.prototype.ValueTypeName='quaternion',Mh.prototype.InterpolantFactoryMethodSmooth=void 0;class wh extends gh{constructor(t,e,i){super(t,e,i)}}n.StringKeyframeTrack=wh,wh.prototype.ValueTypeName='string',wh.prototype.ValueBufferType=Array,wh.prototype.DefaultInterpolation=Ot,wh.prototype.InterpolantFactoryMethodLinear=void 0,wh.prototype.InterpolantFactoryMethodSmooth=void 0;class Sh extends gh{constructor(t,e,i,s){super(t,e,i,s)}}n.VectorKeyframeTrack=Sh,Sh.prototype.ValueTypeName='vector';class _h{constructor(t="",e=-1,i=[],s=Gt){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=oe(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let t=0,r=i.length;t!==r;++t)e.push(Th(i[t]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let t=0,s=i.length;t!==s;++t)e.push(gh.toJSON(i[t]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,n=[];for(let t=0;t<r;t++){let a=[],o=[];a.push((t+r-1)%r,t,(t+1)%r),o.push(0,1,0);const h=oh(a);a=hh(a,1,h),o=hh(o,1,h),s||0!==a[0]||(a.push(r),o.push(o[0])),n.push(new bh('.morphTargetInfluences['+e[t].name+']',a,o).scale(1/i))}return new this(t,-1,n)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const e=t;i=e.geometry&&e.geometry.animations||e.animations}for(let t=0;t<i.length;t++)if(i[t].name===e)return i[t];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let e=0,i=t.length;e<i;e++){const i=t[e],n=i.name.match(r);if(n&&n.length>1){const t=n[1];let e=s[t];e||(s[t]=e=[]),e.push(i)}}const n=[];for(const t in s)n.push(this.CreateFromMorphTargetSequence(t,s[t],e,i));return n}static parseAnimation(t,e){if(console.warn('THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185'),!t)return console.error('THREE.AnimationClip: No animation in JSONLoader data.'),null;const i=function(t,e,i,s,r){if(0!==i.length){const n=[],a=[];lh(i,n,a,s),0!==n.length&&r.push(new t(e,n,a))}},s=[],r=t.name||'default',n=t.fps||30,a=t.blendMode;let o=t.length||-1;const h=t.hierarchy||[];for(let t=0;t<h.length;t++){const r=h[t].keys;if(r&&0!==r.length)if(r[0].morphTargets){const t={};let e;for(e=0;e<r.length;e++)if(r[e].morphTargets)for(let i=0;i<r[e].morphTargets.length;i++)t[r[e].morphTargets[i]]=-1;for(const i in t){const t=[],n=[];for(let s=0;s!==r[e].morphTargets.length;++s){const s=r[e];t.push(s.time),n.push(s.morphTarget===i?1:0)}s.push(new bh('.morphTargetInfluence['+i+']',t,n))}o=t.length*n}else{const n='.bones['+e[t].name+']';i(Sh,n+'.position',r,'pos',s),i(Mh,n+'.quaternion',r,'rot',s),i(Sh,n+'.scale',r,'scl',s)}}if(0===s.length)return null;return new this(r,o,s,a)}resetDuration(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Ah(t){switch(t.toLowerCase()){case'scalar':case'double':case'float':case'number':case'integer':return bh;case'vector':case'vector2':case'vector3':case'vector4':return Sh;case'color':return xh;case'quaternion':return Mh;case'bool':case'boolean':return fh;case'string':return wh}throw new Error('THREE.KeyframeTrack: Unsupported typeName: '+t)}function Th(t){if(void 0===t.type)throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');const e=Ah(t.type);if(void 0===t.times){const e=[],i=[];lh(t.keys,e,i,'value'),t.times=e,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}n.AnimationClip=_h;const Ch=n.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Ih{constructor(t,e,i){const s=this;let r,n=!1,a=0,o=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==s.onStart&&s.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==s.onProgress&&s.onProgress(t,a,o),a===o&&(n=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(t){void 0!==s.onError&&s.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return h.push(t,e),this},this.removeHandler=function(t){const e=h.indexOf(t);return-1!==e&&h.splice(e,2),this},this.getHandler=function(t){for(let e=0,i=h.length;e<i;e+=2){const i=h[e],s=h[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return s}return null}}}n.LoadingManager=Ih;const zh=n.DefaultLoadingManager=new Ih;class Bh{constructor(t){this.manager=void 0!==t?t:zh,this.crossOrigin='anonymous',this.withCredentials=!1,this.path='',this.resourcePath='',this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}n.Loader=Bh,Bh.DEFAULT_MATERIAL_NAME='__DEFAULT';const Rh={};class Eh extends Error{constructor(t,e){super(t),this.response=e}}class Ph extends Bh{constructor(t){super(t),this.mimeType='',this.responseType=''}load(t,e,i,s){void 0===t&&(t=''),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=Ch.get(`file:${t}`);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==Rh[t])return void Rh[t].push({onLoad:e,onProgress:i,onError:s});Rh[t]=[],Rh[t].push({onLoad:e,onProgress:i,onError:s});const n=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?'include':'same-origin'}),a=this.mimeType,o=this.responseType;fetch(n).then(e=>{if(200===e.status||0===e.status){if(0===e.status&&console.warn('THREE.FileLoader: HTTP Status 0 received.'),'undefined'==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const i=Rh[t],s=e.body.getReader(),r=e.headers.get('X-File-Size')||e.headers.get('Content-Length'),n=r?parseInt(r):0,a=0!==n;let o=0;const h=new ReadableStream({start(t){!(function e(){s.read().then(({done:s,value:r})=>{if(s)t.close();else{o+=r.byteLength;const s=new ProgressEvent('progress',{lengthComputable:a,loaded:o,total:n});for(let t=0,e=i.length;t<e;t++){const e=i[t];e.onProgress&&e.onProgress(s)}t.enqueue(r),e()}},e=>{t.error(e)})})()}});return new Response(h)}throw new Eh(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)}).then(t=>{switch(o){case'arraybuffer':return t.arrayBuffer();case'blob':return t.blob();case'document':return t.text().then(t=>(new DOMParser).parseFromString(t,a));case'json':return t.json();default:if(''===a)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(a),i=e&&e[1]?e[1].toLowerCase():void 0,s=new TextDecoder(i);return t.arrayBuffer().then(t=>s.decode(t))}}}).then(e=>{Ch.add(`file:${t}`,e);const i=Rh[t];delete Rh[t];for(let t=0,s=i.length;t<s;t++){const s=i[t];s.onLoad&&s.onLoad(e)}}).catch(e=>{const i=Rh[t];if(void 0===i)throw this.manager.itemError(t),e;delete Rh[t];for(let t=0,s=i.length;t<s;t++){const s=i[t];s.onError&&s.onError(e)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}n.FileLoader=Ph;n.AnimationLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=new Ph(this.manager);n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(t,function(i){try{e(r.parse(JSON.parse(i)))}catch(e){s?s(e):console.error(e),r.manager.itemError(t)}},i,s)}parse(t){const e=[];for(let i=0;i<t.length;i++){const s=_h.parse(t[i]);e.push(s)}return e}};n.CompressedTextureLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=[],a=new sa,o=new Ph(this.manager);o.setPath(this.path),o.setResponseType('arraybuffer'),o.setRequestHeader(this.requestHeader),o.setWithCredentials(r.withCredentials);let h=0;function l(l){o.load(t[l],function(t){const i=r.parse(t,!0);n[l]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},h+=1,6===h&&(1===i.mipmapCount&&(a.minFilter=R),a.image=n,a.format=i.format,a.needsUpdate=!0,e&&e(a))},i,s)}if(Array.isArray(t))for(let e=0,i=t.length;e<i;++e)l(e);else o.load(t,function(t){const i=r.parse(t,!0);if(i.isCubemap){const t=i.mipmaps.length/i.mipmapCount;for(let e=0;e<t;e++){n[e]={mipmaps:[]};for(let t=0;t<i.mipmapCount;t++)n[e].mipmaps.push(i.mipmaps[e*i.mipmapCount+t]),n[e].format=i.format,n[e].width=i.width,n[e].height=i.height}a.image=n}else a.image.width=i.width,a.image.height=i.height,a.mipmaps=i.mipmaps;1===i.mipmapCount&&(a.minFilter=R),a.format=i.format,a.needsUpdate=!0,e&&e(a)},i,s);return a}};const Fh=new WeakMap;class kh extends Bh{constructor(t){super(t)}load(t,e,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,n=Ch.get(`image:${t}`);if(void 0!==n){if(!0===n.complete)r.manager.itemStart(t),setTimeout(function(){e&&e(n),r.manager.itemEnd(t)},0);else{let t=Fh.get(n);void 0===t&&(t=[],Fh.set(n,t)),t.push({onLoad:e,onError:s})}return n}const a=Se('img');function o(){l(),e&&e(this);const i=Fh.get(this)||[];for(let t=0;t<i.length;t++){const e=i[t];e.onLoad&&e.onLoad(this)}Fh.delete(this),r.manager.itemEnd(t)}function h(e){l(),s&&s(e),Ch.remove(`image:${t}`);const i=Fh.get(this)||[];for(let t=0;t<i.length;t++){const s=i[t];s.onError&&s.onError(e)}Fh.delete(this),r.manager.itemError(t),r.manager.itemEnd(t)}function l(){a.removeEventListener('load',o,!1),a.removeEventListener('error',h,!1)}return a.addEventListener('load',o,!1),a.addEventListener('error',h,!1),'data:'!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),Ch.add(`image:${t}`,a),r.manager.itemStart(t),a.src=t,a}}n.ImageLoader=kh;n.CubeTextureLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=new ar;r.colorSpace=Jt;const n=new kh(this.manager);n.setCrossOrigin(this.crossOrigin),n.setPath(this.path);let a=0;function o(i){n.load(t[i],function(t){r.images[i]=t,a++,6===a&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let e=0;e<t.length;++e)o(e);return r}};n.DataTextureLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=new Hr,a=new Ph(this.manager);return a.setResponseType('arraybuffer'),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(t,function(t){let i;try{i=r.parse(t)}catch(t){if(void 0===s)return void console.error(t);s(t)}void 0!==i.image?n.image=i.image:void 0!==i.data&&(n.image.width=i.width,n.image.height=i.height,n.image.data=i.data),n.wrapS=void 0!==i.wrapS?i.wrapS:T,n.wrapT=void 0!==i.wrapT?i.wrapT:T,n.magFilter=void 0!==i.magFilter?i.magFilter:R,n.minFilter=void 0!==i.minFilter?i.minFilter:R,n.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.colorSpace&&(n.colorSpace=i.colorSpace),void 0!==i.flipY&&(n.flipY=i.flipY),void 0!==i.format&&(n.format=i.format),void 0!==i.type&&(n.type=i.type),void 0!==i.mipmaps&&(n.mipmaps=i.mipmaps,n.minFilter=P),1===i.mipmapCount&&(n.minFilter=R),void 0!==i.generateMipmaps&&(n.generateMipmaps=i.generateMipmaps),n.needsUpdate=!0,e&&e(n,i)},i,s),n}};n.TextureLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=new Ve,n=new kh(this.manager);return n.setCrossOrigin(this.crossOrigin),n.setPath(this.path),n.load(t,function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)},i,s),r}};class Oh extends Hi{constructor(t,e=1){super(),this.isLight=!0,this.type='Light',this.color=new cs(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}n.Light=Oh;class Lh extends Oh{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type='HemisphereLight',this.position.copy(Hi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new cs(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}n.HemisphereLight=Lh;const Nh=new xi,Vh=new ye,Dh=new ye;class Uh{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new de(512,512),this.mapType=F,this.map=null,this.mapPass=null,this.matrix=new xi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new pn,this._frameExtents=new de(1,1),this._viewportCount=1,this._viewports=[new De(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;Vh.setFromMatrixPosition(t.matrixWorld),e.position.copy(Vh),Dh.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Dh),e.updateMatrixWorld(),Nh.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nh),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Nh)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class Gh extends Uh{constructor(){super(new sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,i=2*ae*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,r=t.distance||e.far;i===e.fov&&s===e.aspect&&r===e.far||(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class Wh extends Oh{constructor(t,e,i=0,s=Math.PI/3,r=0,n=2){super(t,e),this.isSpotLight=!0,this.type='SpotLight',this.position.copy(Hi.DEFAULT_UP),this.updateMatrix(),this.target=new Hi,this.distance=i,this.angle=s,this.penumbra=r,this.decay=n,this.map=null,this.shadow=new Gh}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}n.SpotLight=Wh;const jh=new xi,Hh=new ye,qh=new ye;class Jh extends Uh{constructor(){super(new sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new de(4,2),this._viewportCount=6,this._viewports=[new De(2,1,1,1),new De(0,1,1,1),new De(3,1,1,1),new De(1,1,1,1),new De(3,0,1,1),new De(1,0,1,1)],this._cubeDirections=[new ye(1,0,0),new ye(-1,0,0),new ye(0,0,1),new ye(0,0,-1),new ye(0,1,0),new ye(0,-1,0)],this._cubeUps=[new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,1,0),new ye(0,0,1),new ye(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Hh.setFromMatrixPosition(t.matrixWorld),i.position.copy(Hh),qh.copy(i.position),qh.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(qh),i.updateMatrixWorld(),s.makeTranslation(-Hh.x,-Hh.y,-Hh.z),jh.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jh)}}class Xh extends Oh{constructor(t,e,i=0,s=2){super(t,e),this.isPointLight=!0,this.type='PointLight',this.distance=i,this.decay=s,this.shadow=new Jh}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}n.PointLight=Xh;class Zh extends Ks{constructor(t=-1,e=1,i=1,s=-1,r=.1,n=2e3){super(),this.isOrthographicCamera=!0,this.type='OrthographicCamera',this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=n,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,n){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=n,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,n=i+t,a=s+e,o=s-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,n=r+t*this.view.width,a-=e*this.view.offsetY,o=a-e*this.view.height}this.projectionMatrix.makeOrthographic(r,n,a,o,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}n.OrthographicCamera=Zh;class Yh extends Uh{constructor(){super(new Zh(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class $h extends Oh{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type='DirectionalLight',this.position.copy(Hi.DEFAULT_UP),this.updateMatrix(),this.target=new Hi,this.shadow=new Yh}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}n.DirectionalLight=$h;class Qh extends Oh{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type='AmbientLight'}}n.AmbientLight=Qh;class Kh extends Oh{constructor(t,e,i=10,s=10){super(t,e),this.isRectAreaLight=!0,this.type='RectAreaLight',this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}n.RectAreaLight=Kh;class tl{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new ye)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,n=this.coefficients;return e.copy(n[0]).multiplyScalar(.282095),e.addScaledVector(n[1],.488603*s),e.addScaledVector(n[2],.488603*r),e.addScaledVector(n[3],.488603*i),e.addScaledVector(n[4],i*s*1.092548),e.addScaledVector(n[5],s*r*1.092548),e.addScaledVector(n[6],.315392*(3*r*r-1)),e.addScaledVector(n[7],i*r*1.092548),e.addScaledVector(n[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,n=this.coefficients;return e.copy(n[0]).multiplyScalar(.886227),e.addScaledVector(n[1],1.023328*s),e.addScaledVector(n[2],1.023328*r),e.addScaledVector(n[3],1.023328*i),e.addScaledVector(n[4],.858086*i*s),e.addScaledVector(n[5],.858086*s*r),e.addScaledVector(n[6],.743125*r*r-.247708),e.addScaledVector(n[7],.858086*i*r),e.addScaledVector(n[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}n.SphericalHarmonics3=tl;class el extends Oh{constructor(t=new tl,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}n.LightProbe=el;class il extends Bh{constructor(t){super(t),this.textures={}}load(t,e,i,s){const r=this,n=new Ph(r.manager);n.setPath(r.path),n.setRequestHeader(r.requestHeader),n.setWithCredentials(r.withCredentials),n.load(t,function(i){try{e(r.parse(JSON.parse(i)))}catch(e){s?s(e):console.error(e),r.manager.itemError(t)}},i,s)}parse(t){const e=this.textures;function i(t){return void 0===e[t]&&console.warn('THREE.MaterialLoader: Undefined texture',t),e[t]}const s=this.createMaterialFromType(t.type);if(void 0!==t.uuid&&(s.uuid=t.uuid),void 0!==t.name&&(s.name=t.name),void 0!==t.color&&void 0!==s.color&&s.color.setHex(t.color),void 0!==t.roughness&&(s.roughness=t.roughness),void 0!==t.metalness&&(s.metalness=t.metalness),void 0!==t.sheen&&(s.sheen=t.sheen),void 0!==t.sheenColor&&(s.sheenColor=(new cs).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(s.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==s.emissive&&s.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==s.specular&&s.specular.setHex(t.specular),void 0!==t.specularIntensity&&(s.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==s.specularColor&&s.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(s.shininess=t.shininess),void 0!==t.clearcoat&&(s.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(s.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.dispersion&&(s.dispersion=t.dispersion),void 0!==t.iridescence&&(s.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(s.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(s.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(s.transmission=t.transmission),void 0!==t.thickness&&(s.thickness=t.thickness),void 0!==t.attenuationDistance&&(s.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==s.attenuationColor&&s.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(s.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(s.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(s.fog=t.fog),void 0!==t.flatShading&&(s.flatShading=t.flatShading),void 0!==t.blending&&(s.blending=t.blending),void 0!==t.combine&&(s.combine=t.combine),void 0!==t.side&&(s.side=t.side),void 0!==t.shadowSide&&(s.shadowSide=t.shadowSide),void 0!==t.opacity&&(s.opacity=t.opacity),void 0!==t.transparent&&(s.transparent=t.transparent),void 0!==t.alphaTest&&(s.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(s.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(s.depthFunc=t.depthFunc),void 0!==t.depthTest&&(s.depthTest=t.depthTest),void 0!==t.depthWrite&&(s.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(s.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(s.blendSrc=t.blendSrc),void 0!==t.blendDst&&(s.blendDst=t.blendDst),void 0!==t.blendEquation&&(s.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(s.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(s.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(s.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==s.blendColor&&s.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(s.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(s.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(s.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(s.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(s.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(s.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(s.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(s.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(s.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(s.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(s.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(s.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(s.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(s.rotation=t.rotation),void 0!==t.linewidth&&(s.linewidth=t.linewidth),void 0!==t.dashSize&&(s.dashSize=t.dashSize),void 0!==t.gapSize&&(s.gapSize=t.gapSize),void 0!==t.scale&&(s.scale=t.scale),void 0!==t.polygonOffset&&(s.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(s.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(s.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(s.dithering=t.dithering),void 0!==t.alphaToCoverage&&(s.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(s.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(s.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(s.visible=t.visible),void 0!==t.toneMapped&&(s.toneMapped=t.toneMapped),void 0!==t.userData&&(s.userData=t.userData),void 0!==t.vertexColors&&('number'==typeof t.vertexColors?s.vertexColors=t.vertexColors>0:s.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const e in t.uniforms){const r=t.uniforms[e];switch(s.uniforms[e]={},r.type){case't':s.uniforms[e].value=i(r.value);break;case'c':s.uniforms[e].value=(new cs).setHex(r.value);break;case'v2':s.uniforms[e].value=(new de).fromArray(r.value);break;case'v3':s.uniforms[e].value=(new ye).fromArray(r.value);break;case'v4':s.uniforms[e].value=(new De).fromArray(r.value);break;case'm3':s.uniforms[e].value=(new xe).fromArray(r.value);break;case'm4':s.uniforms[e].value=(new xi).fromArray(r.value);break;default:s.uniforms[e].value=r.value}}if(void 0!==t.defines&&(s.defines=t.defines),void 0!==t.vertexShader&&(s.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(s.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(s.glslVersion=t.glslVersion),void 0!==t.extensions)for(const e in t.extensions)s.extensions[e]=t.extensions[e];if(void 0!==t.lights&&(s.lights=t.lights),void 0!==t.clipping&&(s.clipping=t.clipping),void 0!==t.size&&(s.size=t.size),void 0!==t.sizeAttenuation&&(s.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(s.map=i(t.map)),void 0!==t.matcap&&(s.matcap=i(t.matcap)),void 0!==t.alphaMap&&(s.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(s.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(s.bumpScale=t.bumpScale),void 0!==t.normalMap&&(s.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(s.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),s.normalScale=(new de).fromArray(e)}return void 0!==t.displacementMap&&(s.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(s.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(s.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(s.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(s.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(s.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(s.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(s.specularMap=i(t.specularMap)),void 0!==t.specularIntensityMap&&(s.specularIntensityMap=i(t.specularIntensityMap)),void 0!==t.specularColorMap&&(s.specularColorMap=i(t.specularColorMap)),void 0!==t.envMap&&(s.envMap=i(t.envMap)),void 0!==t.envMapRotation&&s.envMapRotation.fromArray(t.envMapRotation),void 0!==t.envMapIntensity&&(s.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(s.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(s.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(s.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(s.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(s.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(s.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(s.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(s.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(s.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(s.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(s.clearcoatNormalScale=(new de).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(s.iridescenceMap=i(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(s.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(s.transmissionMap=i(t.transmissionMap)),void 0!==t.thicknessMap&&(s.thicknessMap=i(t.thicknessMap)),void 0!==t.anisotropyMap&&(s.anisotropyMap=i(t.anisotropyMap)),void 0!==t.sheenColorMap&&(s.sheenColorMap=i(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(s.sheenRoughnessMap=i(t.sheenRoughnessMap)),s}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return il.createMaterialFromType(t)}static createMaterialFromType(t){return new{ShadowMaterial:Jo,SpriteMaterial:yr,RawShaderMaterial:Xo,ShaderMaterial:Qs,PointsMaterial:Zn,MeshPhysicalMaterial:Yo,MeshStandardMaterial:Zo,MeshPhongMaterial:$o,MeshToonMaterial:Qo,MeshNormalMaterial:Ko,MeshLambertMaterial:th,MeshDepthMaterial:eh,MeshDistanceMaterial:ih,MeshBasicMaterial:ms,MeshMatcapMaterial:sh,LineDashedMaterial:rh,LineBasicMaterial:kn,Material:ds}[t]}}n.MaterialLoader=il;class sl{static extractUrlBase(t){const e=t.lastIndexOf('/');return-1===e?'./':t.slice(0,e+1)}static resolveURL(t,e){return'string'!=typeof t||''===t?'':(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,'$1')),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}n.LoaderUtils=sl;class rl extends Ps{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type='InstancedBufferGeometry',this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}n.InstancedBufferGeometry=rl;class nl extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=new Ph(r.manager);n.setPath(r.path),n.setRequestHeader(r.requestHeader),n.setWithCredentials(r.withCredentials),n.load(t,function(i){try{e(r.parse(JSON.parse(i)))}catch(e){s?s(e):console.error(e),r.manager.itemError(t)}},i,s)}parse(t){const e={},i={};function s(t,i){if(void 0!==e[i])return e[i];const s=t.interleavedBuffers[i],n=r(t,s.buffer),a=we(s.type,n),o=new pr(a,s.stride);return o.uuid=s.uuid,e[i]=o,o}function r(t,e){if(void 0!==i[e])return i[e];const s=t.arrayBuffers[e],r=new Uint32Array(s).buffer;return i[e]=r,r}const n=t.isInstancedBufferGeometry?new rl:new Ps,a=t.data.index;if(void 0!==a){const t=we(a.type,a.array);n.setIndex(new ws(t,1))}const o=t.data.attributes;for(const e in o){const i=o[e];let r;if(i.isInterleavedBufferAttribute){const e=s(t.data,i.data);r=new mr(e,i.itemSize,i.offset,i.normalized)}else{const t=we(i.type,i.array);r=new(i.isInstancedBufferAttribute?Zr:ws)(t,i.itemSize,i.normalized)}void 0!==i.name&&(r.name=i.name),void 0!==i.usage&&r.setUsage(i.usage),n.setAttribute(e,r)}const h=t.data.morphAttributes;if(h)for(const e in h){const i=h[e],r=[];for(let e=0,n=i.length;e<n;e++){const n=i[e];let a;if(n.isInterleavedBufferAttribute){const e=s(t.data,n.data);a=new mr(e,n.itemSize,n.offset,n.normalized)}else{const t=we(n.type,n.array);a=new ws(t,n.itemSize,n.normalized)}void 0!==n.name&&(a.name=n.name),r.push(a)}n.morphAttributes[e]=r}t.data.morphTargetsRelative&&(n.morphTargetsRelative=!0);const l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(let t=0,e=l.length;t!==e;++t){const e=l[t];n.addGroup(e.start,e.count,e.materialIndex)}const c=t.data.boundingSphere;return void 0!==c&&(n.boundingSphere=(new li).fromJSON(c)),t.name&&(n.name=t.name),t.userData&&(n.userData=t.userData),n}}n.BufferGeometryLoader=nl;n.ObjectLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=''===this.path?sl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const a=new Ph(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(i){let n=null;try{n=JSON.parse(i)}catch(e){return void 0!==s&&s(e),void console.error('THREE:ObjectLoader: Can\'t parse '+t+'.',e.message)}const a=n.metadata;if(void 0===a||void 0===a.type||'geometry'===a.type.toLowerCase())return void 0!==s&&s(new Error('THREE.ObjectLoader: Can\'t load '+t)),void console.error('THREE.ObjectLoader: Can\'t load '+t);r.parse(n,e)},i,s)}async loadAsync(t,e){const i=''===this.path?sl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||i;const s=new Ph(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const r=await s.loadAsync(t,e),n=JSON.parse(r),a=n.metadata;if(void 0===a||void 0===a.type||'geometry'===a.type.toLowerCase())throw new Error('THREE.ObjectLoader: Can\'t load '+t);return await this.parseAsync(n)}parse(t,e){const i=this.parseAnimations(t.animations),s=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,s),n=this.parseImages(t.images,function(){void 0!==e&&e(h)}),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),h=this.parseObject(t.object,r,o,a,i),l=this.parseSkeletons(t.skeletons,h);if(this.bindSkeletons(h,l),this.bindLightTargets(h),void 0!==e){let t=!1;for(const e in n)if(n[e].data instanceof HTMLImageElement){t=!0;break}!1===t&&e(h)}return h}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),s=this.parseGeometries(t.geometries,i),r=await this.parseImagesAsync(t.images),n=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,n),o=this.parseObject(t.object,s,a,n,e),h=this.parseSkeletons(t.skeletons,o);return this.bindSkeletons(o,h),this.bindLightTargets(o),o}parseShapes(t){const e={};if(void 0!==t)for(let i=0,s=t.length;i<s;i++){const s=(new ja).fromJSON(t[i]);e[s.uuid]=s}return e}parseSkeletons(t,e){const i={},s={};if(e.traverse(function(t){t.isBone&&(s[t.uuid]=t)}),void 0!==t)for(let e=0,r=t.length;e<r;e++){const r=(new Xr).fromJSON(t[e],s);i[r.uuid]=r}return i}parseGeometries(t,e){const i={};if(void 0!==t){const s=new nl;for(let r=0,n=t.length;r<n;r++){let n;const a=t[r];switch(a.type){case'BufferGeometry':case'InstancedBufferGeometry':n=s.parse(a);break;default:a.type in qo?n=qo[a.type].fromJSON(a,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${a.type}"`)}n.uuid=a.uuid,void 0!==a.name&&(n.name=a.name),void 0!==a.userData&&(n.userData=a.userData),i[a.uuid]=n}}return i}parseMaterials(t,e){const i={},s={};if(void 0!==t){const r=new il;r.setTextures(e);for(let e=0,n=t.length;e<n;e++){const n=t[e];void 0===i[n.uuid]&&(i[n.uuid]=r.parse(n)),s[n.uuid]=i[n.uuid]}}return s}parseAnimations(t){const e={};if(void 0!==t)for(let i=0;i<t.length;i++){const s=t[i],r=_h.parse(s);e[r.uuid]=r}return e}parseImages(t,e){const i=this,s={};let r;function n(t){return i.manager.itemStart(t),r.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}function a(t){if('string'==typeof t){const e=t;return n(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e)}return t.data?{data:we(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const i=new Ih(e);r=new kh(i),r.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const i=t[e],r=i.url;if(Array.isArray(r)){const t=[];for(let e=0,i=r.length;e<i;e++){const i=a(r[e]);null!==i&&(i instanceof HTMLImageElement?t.push(i):t.push(new Hr(i.data,i.width,i.height)))}s[i.uuid]=new ke(t)}else{const t=a(i.url);s[i.uuid]=new ke(t)}}}return s}async parseImagesAsync(t){const e=this,i={};let s;async function r(t){if('string'==typeof t){const i=t,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i)?i:e.resourcePath+i;return await s.loadAsync(r)}return t.data?{data:we(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){s=new kh(this.manager),s.setCrossOrigin(this.crossOrigin);for(let e=0,s=t.length;e<s;e++){const s=t[e],n=s.url;if(Array.isArray(n)){const t=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=await r(i);null!==s&&(s instanceof HTMLImageElement?t.push(s):t.push(new Hr(s.data,s.width,s.height)))}i[s.uuid]=new ke(t)}else{const t=await r(s.url);i[s.uuid]=new ke(t)}}}return i}parseTextures(t,e){function i(t,e){return'number'==typeof t?t:(console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.',t),e[t])}const s={};if(void 0!==t)for(let r=0,n=t.length;r<n;r++){const n=t[r];void 0===n.image&&console.warn('THREE.ObjectLoader: No "image" specified for',n.uuid),void 0===e[n.image]&&console.warn('THREE.ObjectLoader: Undefined image',n.image);const a=e[n.image],o=a.data;let h;Array.isArray(o)?(h=new ar,6===o.length&&(h.needsUpdate=!0)):(h=o&&o.data?new Hr:new Ve,o&&(h.needsUpdate=!0)),h.source=a,h.uuid=n.uuid,void 0!==n.name&&(h.name=n.name),void 0!==n.mapping&&(h.mapping=i(n.mapping,al)),void 0!==n.channel&&(h.channel=n.channel),void 0!==n.offset&&h.offset.fromArray(n.offset),void 0!==n.repeat&&h.repeat.fromArray(n.repeat),void 0!==n.center&&h.center.fromArray(n.center),void 0!==n.rotation&&(h.rotation=n.rotation),void 0!==n.wrap&&(h.wrapS=i(n.wrap[0],ol),h.wrapT=i(n.wrap[1],ol)),void 0!==n.format&&(h.format=n.format),void 0!==n.internalFormat&&(h.internalFormat=n.internalFormat),void 0!==n.type&&(h.type=n.type),void 0!==n.colorSpace&&(h.colorSpace=n.colorSpace),void 0!==n.minFilter&&(h.minFilter=i(n.minFilter,hl)),void 0!==n.magFilter&&(h.magFilter=i(n.magFilter,hl)),void 0!==n.anisotropy&&(h.anisotropy=n.anisotropy),void 0!==n.flipY&&(h.flipY=n.flipY),void 0!==n.generateMipmaps&&(h.generateMipmaps=n.generateMipmaps),void 0!==n.premultiplyAlpha&&(h.premultiplyAlpha=n.premultiplyAlpha),void 0!==n.unpackAlignment&&(h.unpackAlignment=n.unpackAlignment),void 0!==n.compareFunction&&(h.compareFunction=n.compareFunction),void 0!==n.userData&&(h.userData=n.userData),s[n.uuid]=h}return s}parseObject(t,e,i,s,r){let n,a,o;function h(t){return void 0===e[t]&&console.warn('THREE.ObjectLoader: Undefined geometry',t),e[t]}function l(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let s=0,r=t.length;s<r;s++){const r=t[s];void 0===i[r]&&console.warn('THREE.ObjectLoader: Undefined material',r),e.push(i[r])}return e}return void 0===i[t]&&console.warn('THREE.ObjectLoader: Undefined material',t),i[t]}}function c(t){return void 0===s[t]&&console.warn('THREE.ObjectLoader: Undefined texture',t),s[t]}switch(t.type){case'Scene':n=new ur,void 0!==t.background&&(Number.isInteger(t.background)?n.background=new cs(t.background):n.background=c(t.background)),void 0!==t.environment&&(n.environment=c(t.environment)),void 0!==t.fog&&('Fog'===t.fog.type?n.fog=new cr(t.fog.color,t.fog.near,t.fog.far):'FogExp2'===t.fog.type&&(n.fog=new lr(t.fog.color,t.fog.density)),''!==t.fog.name&&(n.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(n.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(n.backgroundIntensity=t.backgroundIntensity),void 0!==t.backgroundRotation&&n.backgroundRotation.fromArray(t.backgroundRotation),void 0!==t.environmentIntensity&&(n.environmentIntensity=t.environmentIntensity),void 0!==t.environmentRotation&&n.environmentRotation.fromArray(t.environmentRotation);break;case'PerspectiveCamera':n=new sr(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case'OrthographicCamera':n=new Zh(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case'AmbientLight':n=new Qh(t.color,t.intensity);break;case'DirectionalLight':n=new $h(t.color,t.intensity),n.target=t.target||'';break;case'PointLight':n=new Xh(t.color,t.intensity,t.distance,t.decay);break;case'RectAreaLight':n=new Kh(t.color,t.intensity,t.width,t.height);break;case'SpotLight':n=new Wh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),n.target=t.target||'';break;case'HemisphereLight':n=new Lh(t.color,t.groundColor,t.intensity);break;case'LightProbe':n=(new el).fromJSON(t);break;case'SkinnedMesh':a=h(t.geometry),o=l(t.material),n=new Wr(a,o),void 0!==t.bindMode&&(n.bindMode=t.bindMode),void 0!==t.bindMatrix&&n.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(n.skeleton=t.skeleton);break;case'Mesh':a=h(t.geometry),o=l(t.material),n=new Hs(a,o);break;case'InstancedMesh':a=h(t.geometry),o=l(t.material);const e=t.count,i=t.instanceMatrix,s=t.instanceColor;n=new rn(a,o,e),n.instanceMatrix=new Zr(new Float32Array(i.array),16),void 0!==s&&(n.instanceColor=new Zr(new Float32Array(s.array),s.itemSize));break;case'BatchedMesh':a=h(t.geometry),o=l(t.material),n=new Fn(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,o),n.geometry=a,n.perObjectFrustumCulled=t.perObjectFrustumCulled,n.sortObjects=t.sortObjects,n._drawRanges=t.drawRanges,n._reservedRanges=t.reservedRanges,n._geometryInfo=t.geometryInfo.map(t=>{let e=null,i=null;return void 0!==t.boundingBox&&(e=(new He).fromJSON(t.boundingBox)),void 0!==t.boundingSphere&&(i=(new li).fromJSON(t.boundingSphere)),Object.assign({},t,{boundingBox:e,boundingSphere:i})}),n._instanceInfo=t.instanceInfo,n._availableInstanceIds=t._availableInstanceIds,n._availableGeometryIds=t._availableGeometryIds,n._nextIndexStart=t.nextIndexStart,n._nextVertexStart=t.nextVertexStart,n._geometryCount=t.geometryCount,n._maxInstanceCount=t.maxInstanceCount,n._maxVertexCount=t.maxVertexCount,n._maxIndexCount=t.maxIndexCount,n._geometryInitialized=t.geometryInitialized,n._matricesTexture=c(t.matricesTexture.uuid),n._indirectTexture=c(t.indirectTexture.uuid),void 0!==t.colorsTexture&&(n._colorsTexture=c(t.colorsTexture.uuid)),void 0!==t.boundingSphere&&(n.boundingSphere=(new li).fromJSON(t.boundingSphere)),void 0!==t.boundingBox&&(n.boundingBox=(new He).fromJSON(t.boundingBox));break;case'LOD':n=new Pr;break;case'Line':n=new Wn(h(t.geometry),l(t.material));break;case'LineLoop':n=new Xn(h(t.geometry),l(t.material));break;case'LineSegments':n=new Jn(h(t.geometry),l(t.material));break;case'PointCloud':case'Points':n=new ta(h(t.geometry),l(t.material));break;case'Sprite':n=new zr(l(t.material));break;case'Group':n=new or;break;case'Bone':n=new jr;break;default:n=new Hi}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.up&&n.up.fromArray(t.up),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.intensity&&(n.shadow.intensity=t.shadow.intensity),void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(n.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children){const a=t.children;for(let t=0;t<a.length;t++)n.add(this.parseObject(a[t],e,i,s,r))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const i=e[t];n.animations.push(r[i])}}if('LOD'===t.type){void 0!==t.autoUpdate&&(n.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const i=e[t],s=n.getObjectByProperty('uuid',i.object);void 0!==s&&n.addLevel(s,i.distance,i.hysteresis)}}return n}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse(function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const i=e[t.skeleton];void 0===i?console.warn('THREE.ObjectLoader: No skeleton found with UUID:',t.skeleton):t.bind(i,t.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,s=t.getObjectByProperty('uuid',i);e.target=void 0!==s?s:new Hi}})}};const al={UVMapping:b,CubeReflectionMapping:v,CubeRefractionMapping:M,EquirectangularReflectionMapping:w,EquirectangularRefractionMapping:S,CubeUVReflectionMapping:_},ol={RepeatWrapping:A,ClampToEdgeWrapping:T,MirroredRepeatWrapping:C},hl={NearestFilter:I,NearestMipmapNearestFilter:z,NearestMipmapLinearFilter:B,LinearFilter:R,LinearMipmapNearestFilter:E,LinearMipmapLinearFilter:P},ll=new WeakMap;let cl;n.ImageBitmapLoader=class extends Bh{constructor(t){super(t),this.isImageBitmapLoader=!0,'undefined'==typeof createImageBitmap&&console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.'),'undefined'==typeof fetch&&console.warn('THREE.ImageBitmapLoader: fetch() not supported.'),this.options={premultiplyAlpha:'none'}}setOptions(t){return this.options=t,this}load(t,e,i,s){void 0===t&&(t=''),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,n=Ch.get(`image-bitmap:${t}`);if(void 0!==n)return r.manager.itemStart(t),n.then?void n.then(i=>{if(!0!==ll.has(n))return e&&e(i),r.manager.itemEnd(t),i;s&&s(ll.get(n)),r.manager.itemError(t),r.manager.itemEnd(t)}):(setTimeout(function(){e&&e(n),r.manager.itemEnd(t)},0),n);const a={};a.credentials='anonymous'===this.crossOrigin?'same-origin':'include',a.headers=this.requestHeader;const o=fetch(t,a).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:'none'}))}).then(function(i){return Ch.add(`image-bitmap:${t}`,i),e&&e(i),r.manager.itemEnd(t),i}).catch(function(e){s&&s(e),ll.set(o,e),Ch.remove(`image-bitmap:${t}`),r.manager.itemError(t),r.manager.itemEnd(t)});Ch.add(`image-bitmap:${t}`,o),r.manager.itemStart(t)}};class ul{static getContext(){return void 0===cl&&(cl=new(window.AudioContext||window.webkitAudioContext)),cl}static setContext(t){cl=t}}n.AudioContext=ul;n.AudioLoader=class extends Bh{constructor(t){super(t)}load(t,e,i,s){const r=this,n=new Ph(this.manager);function a(e){s?s(e):console.error(e),r.manager.itemError(t)}n.setResponseType('arraybuffer'),n.setPath(this.path),n.setRequestHeader(this.requestHeader),n.setWithCredentials(this.withCredentials),n.load(t,function(t){try{const i=t.slice(0);ul.getContext().decodeAudioData(i,function(t){e(t)}).catch(a)}catch(t){a(t)}},i,s)}};const pl=new xi,dl=new xi,ml=new xi;n.StereoCamera=class{constructor(){this.type='StereoCamera',this.aspect=1,this.eyeSep=.064,this.cameraL=new sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,ml.copy(t.projectionMatrix);const i=e.eyeSep/2,s=i*e.near/e.focus,r=e.near*Math.tan(ne*e.fov*.5)/e.zoom;let n,a;dl.elements[12]=-i,pl.elements[12]=i,n=-r*e.aspect+s,a=r*e.aspect+s,ml.elements[0]=2*e.near/(a-n),ml.elements[8]=(a+n)/(a-n),this.cameraL.projectionMatrix.copy(ml),n=-r*e.aspect-s,a=r*e.aspect-s,ml.elements[0]=2*e.near/(a-n),ml.elements[8]=(a+n)/(a-n),this.cameraR.projectionMatrix.copy(ml)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(dl),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(pl)}};n.ArrayCamera=class extends sr{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}};class yl{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}n.Clock=yl;const gl=new ye,fl=new me,xl=new ye,bl=new ye,vl=new ye;n.AudioListener=class extends Hi{constructor(){super(),this.type='AudioListener',this.context=ul.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new yl}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(gl,fl,xl),bl.set(0,0,-1).applyQuaternion(fl),vl.set(0,1,0).applyQuaternion(fl),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(gl.x,t),e.positionY.linearRampToValueAtTime(gl.y,t),e.positionZ.linearRampToValueAtTime(gl.z,t),e.forwardX.linearRampToValueAtTime(bl.x,t),e.forwardY.linearRampToValueAtTime(bl.y,t),e.forwardZ.linearRampToValueAtTime(bl.z,t),e.upX.linearRampToValueAtTime(vl.x,t),e.upY.linearRampToValueAtTime(vl.y,t),e.upZ.linearRampToValueAtTime(vl.z,t)}else e.setPosition(gl.x,gl.y,gl.z),e.setOrientation(bl.x,bl.y,bl.z,vl.x,vl.y,vl.z)}};class Ml extends Hi{constructor(t){super(),this.type='Audio',this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType='empty',this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType='audioNode',this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType='mediaNode',this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType='mediaStreamNode',this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType='buffer',this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn('THREE.Audio: Audio is already playing.');if(!1===this.hasPlaybackControl)return void console.warn('THREE.Audio: this Audio has no playback control.');this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn('THREE.Audio: this Audio has no playback control.')}stop(t=0){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this;console.warn('THREE.Audio: this Audio has no playback control.')}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn('THREE.Audio: this Audio has no playback control.')}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return!1===this.hasPlaybackControl?(console.warn('THREE.Audio: this Audio has no playback control.'),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn('THREE.Audio: this Audio has no playback control.')}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),'buffer'!==t.sourceType?(console.warn('THREE.Audio: Audio source type cannot be copied.'),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}n.Audio=Ml;const wl=new ye,Sl=new me,_l=new ye,Al=new ye;n.PositionalAudio=class extends Ml{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel='HRTF',this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(wl,Sl,_l),Al.set(0,0,1).applyQuaternion(Sl);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(wl.x,t),e.positionY.linearRampToValueAtTime(wl.y,t),e.positionZ.linearRampToValueAtTime(wl.z,t),e.orientationX.linearRampToValueAtTime(Al.x,t),e.orientationY.linearRampToValueAtTime(Al.y,t),e.orientationZ.linearRampToValueAtTime(Al.z,t)}else e.setPosition(wl.x,wl.y,wl.z),e.setOrientation(Al.x,Al.y,Al.z)}};n.AudioAnalyser=class{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}};class Tl{constructor(t,e,i){let s,r,n;switch(this.binding=t,this.valueSize=i,e){case'quaternion':s=this._slerp,r=this._slerpAdditive,n=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case'string':case'bool':s=this._select,r=this._select,n=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:s=this._lerp,r=this._lerpAdditive,n=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=n,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let n=this.cumulativeWeight;if(0===n){for(let t=0;t!==s;++t)i[r+t]=i[t];n=e}else{n+=e;const t=e/n;this._mixBufferRegion(i,r,0,t,s)}this.cumulativeWeight=n}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,n=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(i,s,t,1-r,e)}n>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let t=e,r=e+e;t!==r;++t)if(i[t]!==i[t+e]){a.setValue(i,s);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,s=i*this._origIndex;t.getValue(e,s);for(let t=i,r=s;t!==r;++t)e[t]=e[s+t%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let s=0;s!==r;++s)t[e+s]=t[i+s]}_slerp(t,e,i,s){me.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const n=this._workIndex*r;me.multiplyQuaternionsFlat(t,n,t,e,t,i),me.slerpFlat(t,e,t,e,t,n,s)}_lerp(t,e,i,s,r){const n=1-s;for(let a=0;a!==r;++a){const r=e+a;t[r]=t[r]*n+t[i+a]*s}}_lerpAdditive(t,e,i,s,r){for(let n=0;n!==r;++n){const r=e+n;t[r]=t[r]+t[i+n]*s}}}n.PropertyMixer=Tl;const Cl=new RegExp("[\\[\\]\\.:\\/]",'g'),Il="[^\\[\\]\\.:\\/]",zl='[^'+'\\[\\]\\.:\\/'.replace('\\.','')+']',Bl=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace('WC',Il)+/(WCOD+)?/.source.replace('WCOD',zl)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace('WC',Il)+/\.(WC+)(?:\[(.+)\])?/.source.replace('WC',Il)+'$'),Rl=['material','materials','bones','map'];class El{constructor(t,e,i){this.path=e,this.parsedPath=i||El.parseTrackName(e),this.node=El.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new El.Composite(t,e,i):new El(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,'_').replace(Cl,'')}static parseTrackName(t){const e=Bl.exec(t);if(null===e)throw new Error('PropertyBinding: Cannot parse trackName: '+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},s=i.nodeName&&i.nodeName.lastIndexOf('.');if(void 0!==s&&-1!==s){const t=i.nodeName.substring(s+1);-1!==Rl.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,s),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw new Error('PropertyBinding: can not parse propertyName from trackName: '+t);return i}static findNode(t,e){if(void 0===e||''===e||'.'===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){const i=function(t){for(let s=0;s<t.length;s++){const r=t[s];if(r.name===e||r.uuid===e)return r;const n=i(r.children);if(n)return n}return null},s=i(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)t[e++]=i[s]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let s=0,r=i.length;s!==r;++s)i[s]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,s=e.propertyName;let r=e.propertyIndex;if(t||(t=El.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn('THREE.PropertyBinding: No target node found for track: '+this.path+'.');if(i){let s=e.objectIndex;switch(i){case'materials':if(!t.material)return void console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);if(!t.material.materials)return void console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.',this);t=t.material.materials;break;case'bones':if(!t.skeleton)return void console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.',this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===s){s=e;break}break;case'map':if('map'in t){t=t.map;break}if(!t.material)return void console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.',this);if(!t.material.map)return void console.error('THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.',this);t=t.material.map;break;default:if(void 0===t[i])return void console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.',this);t=t[i]}if(void 0!==s){if(void 0===t[s])return void console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.',this,t);t=t[s]}}const n=t[s];if(void 0===n){const i=e.nodeName;return void console.error('THREE.PropertyBinding: Trying to update property for track: '+i+'.'+s+' but it wasn\'t found.',t)}let a=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?a=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if('morphTargetInfluences'===s){if(!t.geometry)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.',this);if(!t.geometry.morphAttributes)return void console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.',this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=n,this.propertyIndex=r}else void 0!==n.fromArray&&void 0!==n.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=n):Array.isArray(n)?(o=this.BindingType.EntireArray,this.resolvedProperty=n):this.propertyName=s;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}n.PropertyBinding=El,El.Composite=class{constructor(t,e,i){const s=i||El.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,s=this._bindings[i];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},El.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},El.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},El.prototype.GetterByBindingType=[El.prototype._getValue_direct,El.prototype._getValue_array,El.prototype._getValue_arrayElement,El.prototype._getValue_toArray],El.prototype.SetterByBindingTypeAndVersioning=[[El.prototype._setValue_direct,El.prototype._setValue_direct_setNeedsUpdate,El.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[El.prototype._setValue_array,El.prototype._setValue_array_setNeedsUpdate,El.prototype._setValue_array_setMatrixWorldNeedsUpdate],[El.prototype._setValue_arrayElement,El.prototype._setValue_arrayElement_setNeedsUpdate,El.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[El.prototype._setValue_fromArray,El.prototype._setValue_fromArray_setNeedsUpdate,El.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];n.AnimationObjectGroup=class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=oe(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,s=this._parsedPaths,r=this._bindings,n=r.length;let a,o=t.length,h=this.nCachedObjects_;for(let l=0,c=arguments.length;l!==c;++l){const c=arguments[l],u=c.uuid;let p=e[u];if(void 0===p){p=o++,e[u]=p,t.push(c);for(let t=0,e=n;t!==e;++t)r[t].push(new El(c,i[t],s[t]))}else if(p<h){a=t[p];const o=--h,l=t[o];e[l.uuid]=p,t[p]=l,e[u]=o,t[o]=c;for(let t=0,e=n;t!==e;++t){const e=r[t],n=e[o];let a=e[p];e[p]=n,void 0===a&&(a=new El(c,i[t],s[t])),e[o]=a}}else t[p]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=h}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_;for(let n=0,a=arguments.length;n!==a;++n){const a=arguments[n],o=a.uuid,h=e[o];if(void 0!==h&&h>=r){const n=r++,l=t[n];e[l.uuid]=h,t[h]=l,e[o]=n,t[n]=a;for(let t=0,e=s;t!==e;++t){const e=i[t],s=e[n],r=e[h];e[h]=s,e[n]=r}}}this.nCachedObjects_=r}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,s=i.length;let r=this.nCachedObjects_,n=t.length;for(let a=0,o=arguments.length;a!==o;++a){const o=arguments[a].uuid,h=e[o];if(void 0!==h)if(delete e[o],h<r){const a=--r,o=t[a],l=--n,c=t[l];e[o.uuid]=h,t[h]=o,e[c.uuid]=a,t[a]=c,t.pop();for(let t=0,e=s;t!==e;++t){const e=i[t],s=e[a],r=e[l];e[h]=s,e[a]=r,e.pop()}}else{const r=--n,a=t[r];r>0&&(e[a.uuid]=h),t[h]=a,t.pop();for(let t=0,e=s;t!==e;++t){const e=i[t];e[h]=e[r],e.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const i=this._bindingsIndicesByPath;let s=i[t];const r=this._bindings;if(void 0!==s)return r[s];const n=this._paths,a=this._parsedPaths,o=this._objects,h=o.length,l=this.nCachedObjects_,c=new Array(h);s=r.length,i[t]=s,n.push(t),a.push(e),r.push(c);for(let i=l,s=o.length;i!==s;++i){const s=o[i];c[i]=new El(s,t,e)}return c}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){const s=this._paths,r=this._parsedPaths,n=this._bindings,a=n.length-1,o=n[a];e[t[a]]=i,n[i]=o,n.pop(),r[i]=r[a],r.pop(),s[i]=s[a],s.pop()}}};class Pl{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,n=r.length,a=new Array(n),o={endingStart:Vt,endingEnd:Vt};for(let t=0;t!==n;++t){const e=r[t].createInterpolant(null);a[t]=e,e.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ft,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),!0===i){const i=this._clip.duration,s=t._clip.duration,r=s/i,n=i/s;t.warp(1,r,e),this.warp(n,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,n=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,h=a.sampleValues;return o[0]=r,o[1]=r+i,h[0]=t/n,h[1]=e/n,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const s=(t-r)*i;s<0||0===i?e=0:(this._startTime=null,e=i*s)}e*=this._updateTimeScale(t);const n=this._updateTime(e),a=this._updateWeight(t);if(a>0){const t=this._interpolants,e=this._propertyBindings;if(this.blendMode===Wt)for(let i=0,s=t.length;i!==s;++i)t[i].evaluate(n),e[i].accumulateAdditive(a);else for(let i=0,r=t.length;i!==r;++i)t[i].evaluate(n),e[i].accumulate(s,a)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(null!==i){e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const n=i===kt;if(0===t)return-1===r||!n||1&~r?s:e-s;if(i===Pt){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break t}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:'finished',action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,n)):this._setEndings(0===this.repetitions,!0,n)),s>=e||s<0){const i=Math.floor(s/e);s-=e*i,r+=Math.abs(i);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:'finished',action:this,direction:t>0?1:-1});else{if(1===a){const e=t<0;this._setEndings(e,!e,n)}else this._setEndings(!1,!1,n);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:'loop',action:this,loopDelta:i})}}else this.time=s;if(n&&!(1&~r))return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=Dt,s.endingEnd=Dt):(s.endingStart=t?this.zeroSlopeAtStart?Dt:Vt:Ut,s.endingEnd=e?this.zeroSlopeAtEnd?Dt:Vt:Ut)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let n=this._weightInterpolant;null===n&&(n=s._lendControlInterpolant(),this._weightInterpolant=n);const a=n.parameterPositions,o=n.sampleValues;return a[0]=r,o[0]=e,a[1]=r+t,o[1]=i,this}}n.AnimationAction=Pl;const Fl=new Float32Array(1);n.AnimationMixer=class extends ie{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,n=t._propertyBindings,a=t._interpolants,o=i.uuid,h=this._bindingsByRootAndName;let l=h[o];void 0===l&&(l={},h[o]=l);for(let t=0;t!==r;++t){const r=s[t],h=r.name;let c=l[h];if(void 0!==c)++c.referenceCount,n[t]=c;else{if(c=n[t],void 0!==c){null===c._cacheIndex&&(++c.referenceCount,this._addInactiveBinding(c,o,h));continue}const s=e&&e._propertyBindings[t].binding.parsedPath;c=new Tl(El.create(i,h,s),r.ValueTypeName,r.getValueSize()),++c.referenceCount,this._addInactiveBinding(c,o,h),n[t]=c}a[t].resultBuffer=c.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,i=t._clip.uuid,s=this._actionsByClip[i];this._bindAction(t,s&&s.knownActions[0]),this._addInactiveAction(t,i,e)}const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let n=r[e];if(void 0===n)n={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=n;else{const e=n.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=s.length,s.push(t),n.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,n=this._actionsByClip,a=n[r],o=a.knownActions,h=o[o.length-1],l=t._byClipCacheIndex;h._byClipCacheIndex=l,o[l]=h,o.pop(),t._byClipCacheIndex=null;delete a.actionByRoot[(t._localRoot||this._root).uuid],0===o.length&&delete n[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0===--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let n=s[e];void 0===n&&(n={},s[e]=n),n[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,n=this._bindingsByRootAndName,a=n[s],o=e[e.length-1],h=t._cacheIndex;o._cacheIndex=h,e[h]=o,e.pop(),delete a[r],0===Object.keys(a).length&&delete n[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new mh(new Float32Array(2),new Float32Array(2),1,Fl),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let n='string'==typeof t?_h.findByName(s,t):t;const a=null!==n?n.uuid:t,o=this._actionsByClip[a];let h=null;if(void 0===i&&(i=null!==n?n.blendMode:Gt),void 0!==o){const t=o.actionByRoot[r];if(void 0!==t&&t.blendMode===i)return t;h=o.knownActions[0],null===n&&(n=h._clip)}if(null===n)return null;const l=new Pl(this,n,e,i);return this._bindAction(l,h),this._addInactiveAction(l,a,r),l}existingAction(t,e){const i=e||this._root,s=i.uuid,r='string'==typeof t?_h.findByName(i,t):t,n=r?r.uuid:t,a=this._actionsByClip[n];return void 0!==a&&a.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,s=this.time+=t,r=Math.sign(t),n=this._accuIndex^=1;for(let a=0;a!==i;++a){e[a]._update(s,t,r,n)}const a=this._bindings,o=this._nActiveBindings;for(let t=0;t!==o;++t)a[t].apply(n);return this}setTime(t){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(void 0!==r){const t=r.knownActions;for(let i=0,s=t.length;i!==s;++i){const s=t[i];this._deactivateAction(s);const r=s._cacheIndex,n=e[e.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,n._cacheIndex=r,e[r]=n,e.pop(),this._removeInactiveBindingsForAction(s)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const t in i){const s=i[t].actionByRoot[e];void 0!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}const s=this._bindingsByRootAndName[e];if(void 0!==s)for(const t in s){const e=s[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}};n.RenderTarget3D=class extends Ue{constructor(t=1,e=1,i=1,s={}){super(t,e,s),this.isRenderTarget3D=!0,this.depth=i,this.texture=new je(null,t,e,i),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}};class kl{constructor(t){this.value=t}clone(){return new kl(void 0===this.value.clone?this.value:this.value.clone())}}n.Uniform=kl;let Ol=0;n.UniformsGroup=class extends ie{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,'id',{value:Ol++}),this.name='',this.usage=Kt,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return-1!==e&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:'dispose'})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let t=0,i=e.length;t<i;t++){const i=Array.isArray(e[t])?e[t]:[e[t]];for(let t=0;t<i.length;t++)this.uniforms.push(i[t].clone())}return this}clone(){return(new this.constructor).copy(this)}};n.InstancedInterleavedBuffer=class extends pr{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}};n.GLBufferAttribute=class{constructor(t,e,i,s,r,n=!1){this.isGLBufferAttribute=!0,this.name='',this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=s,this.count=r,this.normalized=n,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}};const Ll=new xi;function Nl(t,e){return t.distance-e.distance}function Vl(t,e,i,s){let r=!0;if(t.layers.test(e.layers)){!1===t.raycast(e,i)&&(r=!1)}if(!0===r&&!0===s){const s=t.children;for(let t=0,r=s.length;t<r;t++)Vl(s[t],e,i,!0)}}n.Raycaster=class{constructor(t,e,i=0,s=1/0){this.ray=new fi(t,e),this.near=i,this.far=s,this.camera=null,this.layers=new zi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error('THREE.Raycaster: Unsupported camera type: '+e.type)}setFromXRController(t){return Ll.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Ll),this}intersectObject(t,e=!0,i=[]){return Vl(t,this,i,e),i.sort(Nl),i}intersectObjects(t,e=!0,i=[]){for(let s=0,r=t.length;s<r;s++)Vl(t[s],this,i,e);return i.sort(Nl),i}};n.Spherical=class{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=he(this.phi,t,Math.PI-t),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(he(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}};n.Cylindrical=class{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return(new this.constructor).copy(this)}};class Dl{constructor(t,e,i,s){Dl.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,e,i,s)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,s){const r=this.elements;return r[0]=t,r[2]=e,r[1]=i,r[3]=s,this}}n.Matrix2=Dl;const Ul=new de;n.Box2=class{constructor(t=new de(1/0,1/0),e=new de(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ul.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ul).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};const Gl=new ye,Wl=new ye;n.Line3=class{constructor(t=new ye,e=new ye){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){Gl.subVectors(t,this.start),Wl.subVectors(this.end,this.start);const i=Wl.dot(Wl);let s=Wl.dot(Gl)/i;return e&&(s=he(s,0,1)),s}closestPointToPoint(t,e,i){const s=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(s).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}};const jl=new ye;n.SpotLightHelper=class extends Hi{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type='SpotLightHelper';const i=new Ps,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let t=0,e=1,i=32;t<i;t++,e++){const r=t/i*Math.PI*2,n=e/i*Math.PI*2;s.push(Math.cos(r),Math.sin(r),1,Math.cos(n),Math.sin(n),1)}i.setAttribute('position',new As(s,3));const r=new kn({fog:!1,toneMapped:!1});this.cone=new Jn(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),jl.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(jl),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}};const Hl=new ye,ql=new xi,Jl=new xi;function Xl(t){const e=[];!0===t.isBone&&e.push(t);for(let i=0;i<t.children.length;i++)e.push(...Xl(t.children[i]));return e}n.SkeletonHelper=class extends Jn{constructor(t){const e=Xl(t),i=new Ps,s=[],r=[],n=new cs(0,0,1),a=new cs(0,1,0);for(let t=0;t<e.length;t++){const i=e[t];i.parent&&i.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(n.r,n.g,n.b),r.push(a.r,a.g,a.b))}i.setAttribute('position',new As(s,3)),i.setAttribute('color',new As(r,3));super(i,new kn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type='SkeletonHelper',this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute('position');Jl.copy(this.root.matrixWorld).invert();for(let t=0,i=0;t<e.length;t++){const r=e[t];r.parent&&r.parent.isBone&&(ql.multiplyMatrices(Jl,r.matrixWorld),Hl.setFromMatrixPosition(ql),s.setXYZ(i,Hl.x,Hl.y,Hl.z),ql.multiplyMatrices(Jl,r.parent.matrixWorld),Hl.setFromMatrixPosition(ql),s.setXYZ(i+1,Hl.x,Hl.y,Hl.z),i+=2)}i.getAttribute('position').needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}};n.PointLightHelper=class extends Hs{constructor(t,e,i){super(new Vo(e,4,2),new ms({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=i,this.type='PointLightHelper',this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}};const Zl=new ye,Yl=new cs,$l=new cs;n.HemisphereLightHelper=class extends Hi{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type='HemisphereLightHelper';const s=new Fo(e);s.rotateY(.5*Math.PI),this.material=new ms({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=s.getAttribute('position'),n=new Float32Array(3*r.count);s.setAttribute('color',new ws(n,3)),this.add(new Hs(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute('color');Yl.copy(this.light.color),$l.copy(this.light.groundColor);for(let t=0,i=e.count;t<i;t++){const s=t<i/2?Yl:$l;e.setXYZ(t,s.r,s.g,s.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(Zl.setFromMatrixPosition(this.light.matrixWorld).negate())}};n.GridHelper=class extends Jn{constructor(t=10,e=10,i=4473924,s=8947848){i=new cs(i),s=new cs(s);const r=e/2,n=t/e,a=t/2,o=[],h=[];for(let t=0,l=0,c=-a;t<=e;t++,c+=n){o.push(-a,0,c,a,0,c),o.push(c,0,-a,c,0,a);const e=t===r?i:s;e.toArray(h,l),l+=3,e.toArray(h,l),l+=3,e.toArray(h,l),l+=3,e.toArray(h,l),l+=3}const l=new Ps;l.setAttribute('position',new As(o,3)),l.setAttribute('color',new As(h,3));super(l,new kn({vertexColors:!0,toneMapped:!1})),this.type='GridHelper'}dispose(){this.geometry.dispose(),this.material.dispose()}};n.PolarGridHelper=class extends Jn{constructor(t=10,e=16,i=8,s=64,r=4473924,n=8947848){r=new cs(r),n=new cs(n);const a=[],o=[];if(e>1)for(let i=0;i<e;i++){const s=i/e*(2*Math.PI),h=Math.sin(s)*t,l=Math.cos(s)*t;a.push(0,0,0),a.push(h,0,l);const c=1&i?r:n;o.push(c.r,c.g,c.b),o.push(c.r,c.g,c.b)}for(let e=0;e<i;e++){const h=1&e?r:n,l=t-t/i*e;for(let t=0;t<s;t++){let e=t/s*(2*Math.PI),i=Math.sin(e)*l,r=Math.cos(e)*l;a.push(i,0,r),o.push(h.r,h.g,h.b),e=(t+1)/s*(2*Math.PI),i=Math.sin(e)*l,r=Math.cos(e)*l,a.push(i,0,r),o.push(h.r,h.g,h.b)}}const h=new Ps;h.setAttribute('position',new As(a,3)),h.setAttribute('color',new As(o,3));super(h,new kn({vertexColors:!0,toneMapped:!1})),this.type='PolarGridHelper'}dispose(){this.geometry.dispose(),this.material.dispose()}};const Ql=new ye,Kl=new ye,tc=new ye;n.DirectionalLightHelper=class extends Hi{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type='DirectionalLightHelper',void 0===e&&(e=1);let s=new Ps;s.setAttribute('position',new As([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new kn({fog:!1,toneMapped:!1});this.lightPlane=new Wn(s,r),this.add(this.lightPlane),s=new Ps,s.setAttribute('position',new As([0,0,0,0,0,1],3)),this.targetLine=new Wn(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Ql.setFromMatrixPosition(this.light.matrixWorld),Kl.setFromMatrixPosition(this.light.target.matrixWorld),tc.subVectors(Kl,Ql),this.lightPlane.lookAt(Kl),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Kl),this.targetLine.scale.z=tc.length()}};const ec=new ye,ic=new Ks;function sc(t,e,i,s,r,n,a){ec.set(r,n,a).unproject(s);const o=e[t];if(void 0!==o){const t=i.getAttribute('position');for(let e=0,i=o.length;e<i;e++)t.setXYZ(o[e],ec.x,ec.y,ec.z)}}n.CameraHelper=class extends Jn{constructor(t){const e=new Ps,i=new kn({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],n={};function a(t,e){o(t),o(e)}function o(t){s.push(0,0,0),r.push(0,0,0),void 0===n[t]&&(n[t]=[]),n[t].push(s.length/3-1)}a('n1','n2'),a('n2','n4'),a('n4','n3'),a('n3','n1'),a('f1','f2'),a('f2','f4'),a('f4','f3'),a('f3','f1'),a('n1','f1'),a('n2','f2'),a('n3','f3'),a('n4','f4'),a('p','n1'),a('p','n2'),a('p','n3'),a('p','n4'),a('u1','u2'),a('u2','u3'),a('u3','u1'),a('c','t'),a('p','c'),a('cn1','cn2'),a('cn3','cn4'),a('cf1','cf2'),a('cf3','cf4'),e.setAttribute('position',new As(s,3)),e.setAttribute('color',new As(r,3)),super(e,i),this.type='CameraHelper',this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update();const h=new cs(16755200),l=new cs(16711680),c=new cs(43775),u=new cs(16777215),p=new cs(3355443);this.setColors(h,l,c,u,p)}setColors(t,e,i,s,r){const n=this.geometry.getAttribute('color');n.setXYZ(0,t.r,t.g,t.b),n.setXYZ(1,t.r,t.g,t.b),n.setXYZ(2,t.r,t.g,t.b),n.setXYZ(3,t.r,t.g,t.b),n.setXYZ(4,t.r,t.g,t.b),n.setXYZ(5,t.r,t.g,t.b),n.setXYZ(6,t.r,t.g,t.b),n.setXYZ(7,t.r,t.g,t.b),n.setXYZ(8,t.r,t.g,t.b),n.setXYZ(9,t.r,t.g,t.b),n.setXYZ(10,t.r,t.g,t.b),n.setXYZ(11,t.r,t.g,t.b),n.setXYZ(12,t.r,t.g,t.b),n.setXYZ(13,t.r,t.g,t.b),n.setXYZ(14,t.r,t.g,t.b),n.setXYZ(15,t.r,t.g,t.b),n.setXYZ(16,t.r,t.g,t.b),n.setXYZ(17,t.r,t.g,t.b),n.setXYZ(18,t.r,t.g,t.b),n.setXYZ(19,t.r,t.g,t.b),n.setXYZ(20,t.r,t.g,t.b),n.setXYZ(21,t.r,t.g,t.b),n.setXYZ(22,t.r,t.g,t.b),n.setXYZ(23,t.r,t.g,t.b),n.setXYZ(24,e.r,e.g,e.b),n.setXYZ(25,e.r,e.g,e.b),n.setXYZ(26,e.r,e.g,e.b),n.setXYZ(27,e.r,e.g,e.b),n.setXYZ(28,e.r,e.g,e.b),n.setXYZ(29,e.r,e.g,e.b),n.setXYZ(30,e.r,e.g,e.b),n.setXYZ(31,e.r,e.g,e.b),n.setXYZ(32,i.r,i.g,i.b),n.setXYZ(33,i.r,i.g,i.b),n.setXYZ(34,i.r,i.g,i.b),n.setXYZ(35,i.r,i.g,i.b),n.setXYZ(36,i.r,i.g,i.b),n.setXYZ(37,i.r,i.g,i.b),n.setXYZ(38,s.r,s.g,s.b),n.setXYZ(39,s.r,s.g,s.b),n.setXYZ(40,r.r,r.g,r.b),n.setXYZ(41,r.r,r.g,r.b),n.setXYZ(42,r.r,r.g,r.b),n.setXYZ(43,r.r,r.g,r.b),n.setXYZ(44,r.r,r.g,r.b),n.setXYZ(45,r.r,r.g,r.b),n.setXYZ(46,r.r,r.g,r.b),n.setXYZ(47,r.r,r.g,r.b),n.setXYZ(48,r.r,r.g,r.b),n.setXYZ(49,r.r,r.g,r.b),n.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap;ic.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const i=this.camera.coordinateSystem===te?-1:0;sc('c',e,t,ic,0,0,i),sc('t',e,t,ic,0,0,1),sc('n1',e,t,ic,-1,-1,i),sc('n2',e,t,ic,1,-1,i),sc('n3',e,t,ic,-1,1,i),sc('n4',e,t,ic,1,1,i),sc('f1',e,t,ic,-1,-1,1),sc('f2',e,t,ic,1,-1,1),sc('f3',e,t,ic,-1,1,1),sc('f4',e,t,ic,1,1,1),sc('u1',e,t,ic,.7,1.1,i),sc('u2',e,t,ic,-.7,1.1,i),sc('u3',e,t,ic,0,2,i),sc('cf1',e,t,ic,-1,0,1),sc('cf2',e,t,ic,1,0,1),sc('cf3',e,t,ic,0,-1,1),sc('cf4',e,t,ic,0,1,1),sc('cn1',e,t,ic,-1,0,i),sc('cn2',e,t,ic,1,0,i),sc('cn3',e,t,ic,0,-1,i),sc('cn4',e,t,ic,0,1,i),t.getAttribute('position').needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};const rc=new He;n.BoxHelper=class extends Jn{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),r=new Ps;r.setIndex(new ws(i,1)),r.setAttribute('position',new ws(s,3)),super(r,new kn({color:e,toneMapped:!1})),this.object=t,this.type='BoxHelper',this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&rc.setFromObject(this.object),rc.isEmpty())return;const t=rc.min,e=rc.max,i=this.geometry.attributes.position,s=i.array;s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=t.x,s[4]=e.y,s[5]=e.z,s[6]=t.x,s[7]=t.y,s[8]=e.z,s[9]=e.x,s[10]=t.y,s[11]=e.z,s[12]=e.x,s[13]=e.y,s[14]=t.z,s[15]=t.x,s[16]=e.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=e.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}};n.Box3Helper=class extends Jn{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Ps;s.setIndex(new ws(i,1)),s.setAttribute('position',new As([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(s,new kn({color:e,toneMapped:!1})),this.box=t,this.type='Box3Helper',this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}};n.PlaneHelper=class extends Wn{constructor(t,e=1,i=16776960){const s=i,r=new Ps;r.setAttribute('position',new As([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new kn({color:s,toneMapped:!1})),this.type='PlaneHelper',this.plane=t,this.size=e;const n=new Ps;n.setAttribute('position',new As([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Hs(n,new ms({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}};const nc=new ye;let ac,oc;n.ArrowHelper=class extends Hi{constructor(t=new ye(0,0,1),e=new ye(0,0,0),i=1,s=16776960,r=.2*i,n=.2*r){super(),this.type='ArrowHelper',void 0===ac&&(ac=new Ps,ac.setAttribute('position',new As([0,0,0,0,1,0],3)),oc=new oa(.5,1,5,1),oc.translate(0,-.5,0)),this.position.copy(e),this.line=new Wn(ac,new kn({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hs(oc,new ms({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,n)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{nc.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(nc,e)}}setLength(t,e=.2*t,i=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}};n.AxesHelper=class extends Jn{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new Ps;i.setAttribute('position',new As(e,3)),i.setAttribute('color',new As([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(i,new kn({vertexColors:!0,toneMapped:!1})),this.type='AxesHelper'}setColors(t,e,i){const s=new cs,r=this.geometry.attributes.color.array;return s.set(t),s.toArray(r,0),s.toArray(r,3),s.set(e),s.toArray(r,6),s.toArray(r,9),s.set(i),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}};n.ShapePath=class{constructor(){this.type='ShapePath',this.color=new cs,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Wa,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,s){return this.currentPath.quadraticCurveTo(t,e,i,s),this}bezierCurveTo(t,e,i,s,r,n){return this.currentPath.bezierCurveTo(t,e,i,s,r,n),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(t,e){const i=e.length;let s=!1;for(let r=i-1,n=0;n<i;r=n++){let i=e[r],a=e[n],o=a.x-i.x,h=a.y-i.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(i=e[n],o=-o,a=e[r],h=-h),t.y<i.y||t.y>a.y)continue;if(t.y===i.y){if(t.x===i.x)return!0}else{const e=h*(t.x-i.x)-o*(t.y-i.y);if(0===e)return!0;if(e<0)continue;s=!s}}else{if(t.y!==i.y)continue;if(a.x<=t.x&&t.x<=i.x||i.x<=t.x&&t.x<=a.x)return!0}}return s}const i=To.isClockWise,s=this.subPaths;if(0===s.length)return[];let r,n,a;const o=[];if(1===s.length)return n=s[0],a=new ja,a.curves=n.curves,o.push(a),o;let h=!i(s[0].getPoints());h=t?!h:h;const l=[],c=[];let u,p,d=[],m=0;c[m]=void 0,d[m]=[];for(let e=0,a=s.length;e<a;e++)n=s[e],u=n.getPoints(),r=i(u),r=t?!r:r,r?(!h&&c[m]&&m++,c[m]={s:new ja,p:u},c[m].s.curves=n.curves,h&&m++,d[m]=[]):d[m].push({h:n,p:u[0]});if(!c[0])return(function(t){const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i],r=new ja;r.curves=s.curves,e.push(r)}return e})(s);if(c.length>1){let t=!1,i=0;for(let t=0,e=c.length;t<e;t++)l[t]=[];for(let s=0,r=c.length;s<r;s++){const r=d[s];for(let n=0;n<r.length;n++){const a=r[n];let o=!0;for(let r=0;r<c.length;r++)e(a.p,c[r].p)&&(s!==r&&i++,o?(o=!1,l[r].push(a)):t=!0);o&&l[s].push(a)}}i>0&&!1===t&&(d=l)}for(let t=0,e=c.length;t<e;t++){a=c[t].s,o.push(a),p=d[t];for(let t=0,e=p.length;t<e;t++)a.holes.push(p[t].h)}return o}};function hc(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function lc(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function cc(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function uc(t,e,i,s){const r=pc(s);switch(i){case H:return t*e;case Y:case $:return t*e/r.components*r.byteLength;case Q:case K:return t*e*2/r.components*r.byteLength;case q:return t*e*3/r.components*r.byteLength;case J:case tt:return t*e*4/r.components*r.byteLength;case et:case it:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case st:case rt:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case at:case ht:return Math.max(t,16)*Math.max(e,8)/4;case nt:case ot:return Math.max(t,8)*Math.max(e,8)/2;case lt:case ct:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case ut:case pt:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case dt:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case mt:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case yt:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case gt:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case ft:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case xt:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case bt:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case vt:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Mt:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case wt:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case St:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case _t:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case At:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Tt:case Ct:case It:return Math.ceil(t/4)*Math.ceil(e/4)*16;case zt:case Bt:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Rt:case Et:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function pc(t){switch(t){case F:case k:return{byteLength:1,components:1};case L:case O:case U:return{byteLength:2,components:1};case G:case W:return{byteLength:2,components:4};case V:case N:case D:return{byteLength:4,components:1};case j:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}n.Controls=class extends ie{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){void 0!==t?(null!==this.domElement&&this.disconnect(),this.domElement=t):console.warn('THREE.Controls: connect() now requires an element.')}disconnect(){}dispose(){}update(){}};n.TextureUtils=class{static contain(t,e){return hc(t,e)}static cover(t,e){return lc(t,e)}static fill(t){return cc(t)}static getByteLength(t,e,i,s){return uc(t,e,i,s)}},'undefined'!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register',{detail:{revision:o}})),'undefined'!=typeof window&&(window.__THREE__?console.warn('WARNING: Multiple instances of Three.js being imported.'):window.__THREE__=o)},129,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},130,[131]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-reconciler-constants.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";e.ConcurrentRoot=1,e.ContinuousEventPriority=8,e.DefaultEventPriority=32,e.DiscreteEventPriority=2,e.IdleEventPriority=268435456,e.LegacyRoot=0,e.NoEventPriority=0},131,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createWithEqualityFn=void 0,e.useStoreWithEqualityFn=l;var n=t(r(d[1])),u=t(r(d[2])),c=r(d[3]);const{useSyncExternalStoreWithSelector:o}=u.default,s=t=>t;function l(t,u=s,c){const l=o(t.subscribe,t.getState,t.getInitialState,u,c);return n.default.useDebugValue(l),l}const S=(t,n)=>{const u=(0,c.createStore)(t),o=(t,c=n)=>l(u,t,c);return Object.assign(o,u),o};e.createWithEqualityFn=(t,n)=>t?S(t,n):S},132,[1,25,133,137]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},133,[134]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var u=r(d[0]),n=r(d[1]);var t="function"==typeof Object.is?Object.is:function(u,n){return u===n&&(0!==u||1/u==1/n)||u!=u&&n!=n},l=n.useSyncExternalStore,c=u.useRef,f=u.useEffect,o=u.useMemo,v=u.useDebugValue;e.useSyncExternalStoreWithSelector=function(u,n,s,S,h){var V=c(null);if(null===V.current){var b={hasValue:!1,value:null};V.current=b}else b=V.current;V=o(function(){function u(u){if(!f){if(f=!0,l=u,u=S(u),void 0!==h&&b.hasValue){var n=b.value;if(h(n,u))return c=n}return c=u}if(n=c,t(l,u))return n;var o=S(u);return void 0!==h&&h(n,o)?(l=u,n):(l=u,c=o)}var l,c,f=!1,o=void 0===s?null:s;return[function(){return u(n())},null===o?void 0:function(){return u(o())}]},[n,s,S,h]);var y=l(u,V[0],V[1]);return f(function(){b.hasValue=!0,b.value=y},[y]),v(y),y}},134,[25,135]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},135,[136]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * use-sync-external-store-shim.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var t=r(d[0]);var n="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},u=t.useState,o=t.useEffect,c=t.useLayoutEffect,s=t.useDebugValue;function f(t){var u=t.getSnapshot;t=t.value;try{var o=u();return!n(t,o)}catch(t){return!0}}var v="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,n){var v=n(),S=u({inst:{value:v,getSnapshot:n}}),l=S[0].inst,y=S[1];return c(function(){l.value=v,l.getSnapshot=n,f(l)&&y({inst:l})},[t,v,n]),o(function(){return f(l)&&y({inst:l}),t(function(){f(l)&&y({inst:l})})},[t]),s(v),v};e.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:v},136,[25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createStore=void 0;const t=t=>{let n;const o=new Set,c=(t,c)=>{const s="function"==typeof t?t(n):t;if(!Object.is(s,n)){const t=n;n=(null!=c?c:"object"!=typeof s||null===s)?s:Object.assign({},n,s),o.forEach(o=>o(n,t))}},s=()=>n,l={setState:c,getState:s,getInitialState:()=>u,subscribe:t=>(o.add(t),()=>o.delete(t))},u=n=t(c,s,l);return l};e.createStore=n=>n?t(n):t},137,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},138,[139]);
__d(function(e,n,t,l,r,a,u){
/**
   * @license React
   * react-reconciler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";r.exports=function(e){function t(e,n,t,l){return new Fr(e,n,t,l)}function l(){}function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=va&&e[va]||e["@@iterator"])?e:null}function i(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===ya?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case la:return"Fragment";case ta:return"Portal";case aa:return"Profiler";case ra:return"StrictMode";case ca:return"Suspense";case fa:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oa:return(e.displayName||"Context")+".Provider";case ia:return(e._context.displayName||"Context")+".Consumer";case sa:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case da:return null!==(n=e.displayName||null)?n:i(e.type)||"Memo";case pa:n=e._payload,e=e._init;try{return i(e(n))}catch(e){}}return null}function o(e){if(void 0===ha)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);ha=n&&n[1]||"",ga=-1<e.stack.indexOf("\n    at")?" (<anonymous>)":-1<e.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+ha+e+ga}function s(e,n){if(!e||ka)return"";ka=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var t=function(){throw Error()};if(Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var l=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){l=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){l=e}(t=e())&&"function"==typeof t.catch&&t.catch(function(){})}}catch(e){if(e&&l&&"string"==typeof e.stack)return[e.stack,l.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=l.DetermineComponentFrameRoot(),u=a[0],i=a[1];if(u&&i){var s=u.split("\n"),c=i.split("\n");for(r=l=0;l<s.length&&!s[l].includes("DetermineComponentFrameRoot");)l++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(l===s.length||r===c.length)for(l=s.length-1,r=c.length-1;1<=l&&0<=r&&s[l]!==c[r];)r--;for(;1<=l&&0<=r;l--,r--)if(s[l]!==c[r]){if(1!==l||1!==r)do{if(l--,0>--r||s[l]!==c[r]){var f="\n"+s[l].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}}while(1<=l&&0<=r);break}}}finally{ka=!1,Error.prepareStackTrace=t}return(t=e?e.displayName||e.name:"")?o(t):""}function c(e){switch(e.tag){case 26:case 27:case 5:return o(e.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return e=s(e.type,!1);case 11:return e=s(e.type.render,!1);case 1:return e=s(e.type,!0);default:return""}}function f(e){try{var n="";do{n+=c(e),e=e.return}while(e);return n}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function d(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{!!(4098&(n=e).flags)&&(t=n.return),e=n.return}while(e)}return 3===n.tag?t:null}function p(e){if(d(e)!==e)throw Error(r(188))}function m(e){var n=e.alternate;if(!n){if(null===(n=d(e)))throw Error(r(188));return n!==e?null:e}for(var t=e,l=n;;){var a=t.return;if(null===a)break;var u=a.alternate;if(null===u){if(null!==(l=a.return)){t=l;continue}break}if(a.child===u.child){for(u=a.child;u;){if(u===t)return p(a),e;if(u===l)return p(a),n;u=u.sibling}throw Error(r(188))}if(t.return!==l.return)t=a,l=u;else{for(var i=!1,o=a.child;o;){if(o===t){i=!0,t=a,l=u;break}if(o===l){i=!0,l=a,t=u;break}o=o.sibling}if(!i){for(o=u.child;o;){if(o===t){i=!0,t=u,l=a;break}if(o===l){i=!0,l=u,t=a;break}o=o.sibling}if(!i)throw Error(r(189))}}if(t.alternate!==l)throw Error(r(190))}if(3!==t.tag)throw Error(r(188));return t.stateNode.current===t?e:n}function h(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=h(e)))return n;e=e.sibling}return null}function g(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(4!==e.tag&&null!==(n=g(e)))return n;e=e.sibling}return null}function b(e){return{current:e}}function v(e){0>Ci||(e.current=Ni[Ci],Ni[Ci]=null,Ci--)}function y(e,n){Ci++,Ni[Ci]=e.current,e.current=n}function S(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function k(e,n){var t=e.pendingLanes;if(0===t)return 0;var l=0,r=e.suspendedLanes,a=e.pingedLanes,u=e.warmLanes;e=0!==e.finishedLanes;var i=134217727&t;return 0!==i?0!==(t=i&~r)?l=S(t):0!==(a&=i)?l=S(a):e||0!==(u=i&~u)&&(l=S(u)):0!==(i=t&~r)?l=S(i):0!==a?l=S(a):e||0!==(u=t&~u)&&(l=S(u)),0===l?0:0!==n&&n!==l&&0===(n&r)&&((r=l&-l)>=(u=n&-n)||32===r&&4194176&u)?n:l}function z(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function w(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function x(){var e=Ri;return!(4194176&(Ri<<=1))&&(Ri=128),e}function P(){var e=Ii;return!(62914560&(Ii<<=1))&&(Ii=4194304),e}function N(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function C(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function E(e,n,t,l,r,a){var u=e.pendingLanes;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0;var i=e.entanglements,o=e.expirationTimes,s=e.hiddenUpdates;for(t=u&~t;0<t;){var c=31-_i(t),f=1<<c;i[c]=0,o[c]=-1;var d=s[c];if(null!==d)for(s[c]=null,c=0;c<d.length;c++){var p=d[c];null!==p&&(p.lane&=-536870913)}t&=~f}0!==l&&_(e,l,0),0!==a&&0===r&&0!==e.tag&&(e.suspendedLanes|=a&~(u&~n))}function _(e,n,t){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-_i(n);e.entangledLanes|=n,e.entanglements[l]=1073741824|e.entanglements[l]|4194218&t}function L(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var l=31-_i(t),r=1<<l;r&n|e[l]&n&&(e[l]|=n),t&=~r}}function T(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function R(e){if(Oi&&"function"==typeof Oi.onCommitFiberRoot)try{Oi.onCommitFiberRoot(Vi,e,void 0,!(128&~e.current.flags))}catch(e){}}function I(e){if("function"==typeof Ai&&Bi(e),Oi&&"function"==typeof Oi.setStrictMode)try{Oi.setStrictMode(Vi,e)}catch(e){}}function F(e,n){if("object"==typeof e&&null!==e){var t=Gi.get(e);return void 0!==t?t:(n={value:e,source:n,stack:f(n)},Gi.set(e,n),n)}return{value:e,source:n,stack:f(n)}}function U(e,n){Yi[Ki++]=Xi,Yi[Ki++]=Ji,Ji=e,Xi=n}function Q(e,n,t){Zi[eo++]=to,Zi[eo++]=lo,Zi[eo++]=no,no=e;var l=to;e=lo;var r=32-_i(l)-1;l&=~(1<<r),t+=1;var a=32-_i(n)+r;if(30<a){var u=r-r%5;a=(l&(1<<u)-1).toString(32),l>>=u,r-=u,to=1<<32-_i(n)+r|t<<r|l,lo=a+e}else to=1<<a|t<<r|l,lo=e}function D(e){null!==e.return&&(U(e,1),Q(e,1,0))}function H(e){for(;e===Ji;)Ji=Yi[--Ki],Yi[Ki]=null,Xi=Yi[--Ki],Yi[Ki]=null;for(;e===no;)no=Zi[--eo],Zi[eo]=null,lo=Zi[--eo],Zi[eo]=null,to=Zi[--eo],Zi[eo]=null}function j(e,n){y(uo,n),y(ao,e),y(ro,null),e=Ca(n),v(ro),y(ro,e)}function M(){v(ro),v(ao),v(uo)}function W(e){null!==e.memoizedState&&y(io,e);var n=ro.current,t=Ea(n,e.type);n!==t&&(y(ao,e),y(ro,t))}function $(e){ao.current===e&&(v(ro),v(ao)),io.current===e&&(v(io),ja?tu._currentValue=nu:tu._currentValue2=nu)}function A(e){throw G(F(Error(r(418,"")),e)),mo}function B(e,n){if(!$a)throw Error(r(175));Yu(e.stateNode,e.type,e.memoizedProps,n,e)||A(e)}function V(e){for(oo=e.return;oo;)switch(oo.tag){case 3:case 27:return void(po=!0);case 5:case 13:return void(po=!1);default:oo=oo.return}}function O(e){if(!$a||e!==oo)return!1;if(!co)return V(e),co=!0,!1;var n=!1;if(Si?3!==e.tag&&27!==e.tag&&(5!==e.tag||li(e.type)&&!Fa(e.type,e.memoizedProps))&&(n=!0):3!==e.tag&&(5!==e.tag||li(e.type)&&!Fa(e.type,e.memoizedProps))&&(n=!0),n&&so&&A(e),V(e),13===e.tag){if(!$a)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));so=Xu(e)}else so=oo?$u(e.stateNode):null;return!0}function q(){$a&&(so=oo=null,co=!1)}function G(e){null===fo?fo=[e]:fo.push(e)}function Y(){for(var e=go,n=bo=go=0;n<e;){var t=ho[n];ho[n++]=null;var l=ho[n];ho[n++]=null;var r=ho[n];ho[n++]=null;var a=ho[n];if(ho[n++]=null,null!==l&&null!==r){var u=l.pending;null===u?r.next=r:(r.next=u.next,u.next=r),l.pending=r}0!==a&&Z(t,r,a)}}function K(e,n,t,l){ho[go++]=e,ho[go++]=n,ho[go++]=t,ho[go++]=l,bo|=l,e.lanes|=l,null!==(e=e.alternate)&&(e.lanes|=l)}function J(e,n,t,l){return K(e,n,t,l),ee(e)}function X(e,n){return K(e,null,null,n),ee(e)}function Z(e,n,t){e.lanes|=t;var l=e.alternate;null!==l&&(l.lanes|=t);for(var r=!1,a=e.return;null!==a;)a.childLanes|=t,null!==(l=a.alternate)&&(l.childLanes|=t),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(r=!0)),e=a,a=a.return;r&&null!==n&&3===e.tag&&(a=e.stateNode,r=31-_i(t),null===(e=(a=a.hiddenUpdates)[r])?a[r]=[n]:e.push(n),n.lane=536870912|t)}function ee(e){if(50<dc)throw dc=0,pc=null,Error(r(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}function ne(e){var n;e!==yo&&null===e.next&&(null===yo?vo=yo=e:yo=yo.next=e),ko=!0,So||(So=!0,n=le,ru?au(function(){6&Hs?Fi(ji,n):n()}):Fi(ji,n))}function te(e,n){if(!zo&&ko){zo=!0;do{for(var t=!1,l=vo;null!==l;){if(!n)if(0!==e){var r=l.pendingLanes;if(0===r)var a=0;else{var u=l.suspendedLanes,i=l.pingedLanes;a=(1<<31-_i(42|e)+1)-1,a=201326677&(a&=r&~(u&~i))?201326677&a|1:a?2|a:0}0!==a&&(t=!0,ue(l,a))}else a=Ws,!(3&(a=k(l,l===js?a:0)))||z(l,a)||(t=!0,ue(l,a));l=l.next}}while(t);zo=!1}}function le(){ko=So=!1;var e=0;0!==wo&&(Ga()&&(e=wo),wo=0);for(var n=Hi(),t=null,l=vo;null!==l;){var r=l.next,a=re(l,n);0===a?(l.next=null,null===t?vo=r:t.next=r,null===r&&(yo=t)):(t=l,(0!==e||3&a)&&(ko=!0)),l=r}te(e,!1)}function re(e,n){for(var t=e.suspendedLanes,l=e.pingedLanes,r=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var u=31-_i(a),i=1<<u,o=r[u];-1===o?0!==(i&t)&&0===(i&l)||(r[u]=w(i,n)):o<=n&&(e.expiredLanes|=i),a&=~i}if(t=Ws,t=k(e,e===(n=js)?t:0),l=e.callbackNode,0===t||e===n&&2===$s||null!==e.cancelPendingCommit)return null!==l&&null!==l&&Ui(l),e.callbackNode=null,e.callbackPriority=0;if(!(3&t)||z(e,t)){if((n=t&-t)===e.callbackPriority)return n;switch(null!==l&&Ui(l),T(t)){case 2:case 8:t=Mi;break;case 32:default:t=Wi;break;case 268435456:t=$i}return l=ae.bind(null,e),t=Fi(t,l),e.callbackPriority=n,e.callbackNode=t,n}return null!==l&&null!==l&&Ui(l),e.callbackPriority=2,e.callbackNode=null,2}function ae(e,n){var t=e.callbackNode;if(Nr()&&e.callbackNode!==t)return null;var l=Ws;return 0===(l=k(e,e===js?l:0))?null:(nr(e,l,n),re(e,Hi()),null!=e.callbackNode&&e.callbackNode===t?ae.bind(null,e):null)}function ue(e,n){if(Nr())return null;nr(e,n,!0)}function ie(){return 0===wo&&(wo=x()),wo}function oe(e,n){if(null===xo){var t=xo=[];Po=0,No=ie(),Co={status:"pending",value:void 0,then:function(e){t.push(e)}}}return Po++,n.then(se,se),n}function se(){if(0===--Po&&null!==xo){null!==Co&&(Co.status="fulfilled");var e=xo;xo=null,No=0,Co=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function ce(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fe(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function de(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pe(e,n,t){var l=e.updateQueue;if(null===l)return null;if(l=l.shared,2&Hs){var r=l.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),l.pending=n,n=ee(e),Z(e,null,t),n}return K(e,l,n,t),ee(e)}function me(e,n,t){if(null!==(n=n.updateQueue)&&(n=n.shared,4194176&t)){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,L(e,t)}}function he(e,n){var t=e.updateQueue,l=e.alternate;if(null!==l&&t===(l=l.updateQueue)){var r=null,a=null;if(null!==(t=t.firstBaseUpdate)){do{var u={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};null===a?r=a=u:a=a.next=u,t=t.next}while(null!==t);null===a?r=a=n:a=a.next=n}else r=a=n;return t={baseState:l.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:l.shared,callbacks:l.callbacks},void(e.updateQueue=t)}null===(e=t.lastBaseUpdate)?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function ge(){if(_o){if(null!==Co)throw Co}}function be(e,n,t,l){_o=!1;var r=e.updateQueue;Eo=!1;var a=r.firstBaseUpdate,u=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var o=i,s=o.next;o.next=null,null===u?a=s:u.next=s,u=o;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==u&&(null===i?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=o))}if(null!==a){var f=r.baseState;for(u=0,c=s=o=null,i=a;;){var d=-536870913&i.lane,p=d!==i.lane;if(p?(Ws&d)===d:(l&d)===d){0!==d&&d===No&&(_o=!0),null!==c&&(c=c.next={lane:0,tag:i.tag,payload:i.payload,callback:null,next:null});e:{var m=e,h=i;d=n;var g=t;switch(h.tag){case 1:if("function"==typeof(m=h.payload)){f=m.call(g,f,d);break e}f=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(d="function"==typeof(m=h.payload)?m.call(g,f,d):m))break e;f=Zr({},f,d);break e;case 2:Eo=!0}}null!==(d=i.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[d]:p.push(d))}else p={lane:d,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(s=c=p,o=f):c=c.next=p,u|=d;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(p=i).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===c&&(o=f),r.baseState=o,r.firstBaseUpdate=s,r.lastBaseUpdate=c,null===a&&(r.shared.lanes=0),Ys|=u,e.lanes=u,e.memoizedState=f}}function ve(e,n){if("function"!=typeof e)throw Error(r(191,e));e.call(n)}function ye(e,n){var t=e.callbacks;if(null!==t)for(e.callbacks=null,e=0;e<t.length;e++)ve(t[e],n)}function Se(e,n){if(qi(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var t=Object.keys(e),l=Object.keys(n);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var r=t[l];if(!Lo.call(n,r)||!qi(e[r],n[r]))return!1}return!0}function ke(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ze(){}function we(e,n,t){switch(void 0===(t=e[t])?e.push(n):t!==n&&(n.then(ze,ze),n=t),n.status){case"fulfilled":return n.value;case"rejected":if((e=n.reason)===To)throw Error(r(483));throw e;default:if("string"==typeof n.status)n.then(ze,ze);else{if(null!==(e=js)&&100<e.shellSuspendCounter)throw Error(r(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var t=n;t.status="fulfilled",t.value=e}},function(e){if("pending"===n.status){var t=n;t.status="rejected",t.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":if((e=n.reason)===To)throw Error(r(483));throw e}throw Fo=n,To}}function xe(){if(null===Fo)throw Error(r(459));var e=Fo;return Fo=null,e}function Pe(e){var n=Qo;return Qo+=1,null===Uo&&(Uo=[]),we(Uo,e,n)}function Ne(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function Ce(e,n){if(n.$$typeof===ea)throw Error(r(525));throw e=Object.prototype.toString.call(n),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ee(e){return(0,e._init)(e._payload)}function _e(e){function n(n,t){if(e){var l=n.deletions;null===l?(n.deletions=[t],n.flags|=16):l.push(t)}}function l(t,l){if(!e)return null;for(;null!==l;)n(t,l),l=l.sibling;return null}function u(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function i(e,n){return(e=Qr(e,n)).index=0,e.sibling=null,e}function o(n,t,l){return n.index=l,e?null!==(l=n.alternate)?(l=l.index)<t?(n.flags|=33554434,t):l:(n.flags|=33554434,t):(n.flags|=1048576,t)}function s(n){return e&&null===n.alternate&&(n.flags|=33554434),n}function c(e,n,t,l){return null===n||6!==n.tag?((n=Wr(t,e.mode,l)).return=e,n):((n=i(n,t)).return=e,n)}function f(e,n,t,l){var r=t.type;return r===la?p(e,n,t.props.children,l,t.key):null!==n&&(n.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===pa&&Ee(r)===n.type)?(Ne(n=i(n,t.props),t),n.return=e,n):(Ne(n=Hr(t.type,t.key,t.props,null,e.mode,l),t),n.return=e,n)}function d(e,n,t,l){return null===n||4!==n.tag||n.stateNode.containerInfo!==t.containerInfo||n.stateNode.implementation!==t.implementation?((n=$r(t,e.mode,l)).return=e,n):((n=i(n,t.children||[])).return=e,n)}function p(e,n,t,l,r){return null===n||7!==n.tag?((n=jr(t,e.mode,l,r)).return=e,n):((n=i(n,t)).return=e,n)}function m(e,n,t){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return(n=Wr(""+n,e.mode,t)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case na:return Ne(t=Hr(n.type,n.key,n.props,null,e.mode,t),n),t.return=e,t;case ta:return(n=$r(n,e.mode,t)).return=e,n;case pa:return m(e,n=(0,n._init)(n._payload),t)}if(za(n)||a(n))return(n=jr(n,e.mode,t,null)).return=e,n;if("function"==typeof n.then)return m(e,Pe(n),t);if(n.$$typeof===oa)return m(e,jt(e,n),t);Ce(e,n)}return null}function h(e,n,t,l){var r=null!==n?n.key:null;if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return null!==r?null:c(e,n,""+t,l);if("object"==typeof t&&null!==t){switch(t.$$typeof){case na:return t.key===r?f(e,n,t,l):null;case ta:return t.key===r?d(e,n,t,l):null;case pa:return h(e,n,t=(r=t._init)(t._payload),l)}if(za(t)||a(t))return null!==r?null:p(e,n,t,l,null);if("function"==typeof t.then)return h(e,n,Pe(t),l);if(t.$$typeof===oa)return h(e,n,jt(e,t),l);Ce(e,t)}return null}function g(e,n,t,l,r){if("string"==typeof l&&""!==l||"number"==typeof l||"bigint"==typeof l)return c(n,e=e.get(t)||null,""+l,r);if("object"==typeof l&&null!==l){switch(l.$$typeof){case na:return f(n,e=e.get(null===l.key?t:l.key)||null,l,r);case ta:return d(n,e=e.get(null===l.key?t:l.key)||null,l,r);case pa:return g(e,n,t,l=(0,l._init)(l._payload),r)}if(za(l)||a(l))return p(n,e=e.get(t)||null,l,r,null);if("function"==typeof l.then)return g(e,n,t,Pe(l),r);if(l.$$typeof===oa)return g(e,n,t,jt(n,l),r);Ce(n,l)}return null}function b(t,r,a,i){for(var s=null,c=null,f=r,d=r=0,p=null;null!==f&&d<a.length;d++){f.index>d?(p=f,f=null):p=f.sibling;var b=h(t,f,a[d],i);if(null===b){null===f&&(f=p);break}e&&f&&null===b.alternate&&n(t,f),r=o(b,r,d),null===c?s=b:c.sibling=b,c=b,f=p}if(d===a.length)return l(t,f),co&&U(t,d),s;if(null===f){for(;d<a.length;d++)null!==(f=m(t,a[d],i))&&(r=o(f,r,d),null===c?s=f:c.sibling=f,c=f);return co&&U(t,d),s}for(f=u(f);d<a.length;d++)null!==(p=g(f,t,d,a[d],i))&&(e&&null!==p.alternate&&f.delete(null===p.key?d:p.key),r=o(p,r,d),null===c?s=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return n(t,e)}),co&&U(t,d),s}function v(t,a,i,s){if(null==i)throw Error(r(151));for(var c=null,f=null,d=a,p=a=0,b=null,v=i.next();null!==d&&!v.done;p++,v=i.next()){d.index>p?(b=d,d=null):b=d.sibling;var y=h(t,d,v.value,s);if(null===y){null===d&&(d=b);break}e&&d&&null===y.alternate&&n(t,d),a=o(y,a,p),null===f?c=y:f.sibling=y,f=y,d=b}if(v.done)return l(t,d),co&&U(t,p),c;if(null===d){for(;!v.done;p++,v=i.next())null!==(v=m(t,v.value,s))&&(a=o(v,a,p),null===f?c=v:f.sibling=v,f=v);return co&&U(t,p),c}for(d=u(d);!v.done;p++,v=i.next())null!==(v=g(d,t,p,v.value,s))&&(e&&null!==v.alternate&&d.delete(null===v.key?p:v.key),a=o(v,a,p),null===f?c=v:f.sibling=v,f=v);return e&&d.forEach(function(e){return n(t,e)}),co&&U(t,p),c}function y(e,t,u,o){if("object"==typeof u&&null!==u&&u.type===la&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case na:e:{for(var c=u.key;null!==t;){if(t.key===c){if((c=u.type)===la){if(7===t.tag){l(e,t.sibling),(o=i(t,u.props.children)).return=e,e=o;break e}}else if(t.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===pa&&Ee(c)===t.type){l(e,t.sibling),Ne(o=i(t,u.props),u),o.return=e,e=o;break e}l(e,t);break}n(e,t),t=t.sibling}u.type===la?((o=jr(u.props.children,e.mode,o,u.key)).return=e,e=o):(Ne(o=Hr(u.type,u.key,u.props,null,e.mode,o),u),o.return=e,e=o)}return s(e);case ta:e:{for(c=u.key;null!==t;){if(t.key===c){if(4===t.tag&&t.stateNode.containerInfo===u.containerInfo&&t.stateNode.implementation===u.implementation){l(e,t.sibling),(o=i(t,u.children||[])).return=e,e=o;break e}l(e,t);break}n(e,t),t=t.sibling}(o=$r(u,e.mode,o)).return=e,e=o}return s(e);case pa:return y(e,t,u=(c=u._init)(u._payload),o)}if(za(u))return b(e,t,u,o);if(a(u)){if("function"!=typeof(c=a(u)))throw Error(r(150));return v(e,t,u=c.call(u),o)}if("function"==typeof u.then)return y(e,t,Pe(u),o);if(u.$$typeof===oa)return y(e,t,jt(e,u),o);Ce(e,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==t&&6===t.tag?(l(e,t.sibling),(o=i(t,u)).return=e,e=o):(l(e,t),(o=Wr(u,e.mode,o)).return=e,e=o),s(e)):l(e,t)}return function(e,n,l,r){try{Qo=0;var a=y(e,n,l,r);return Uo=null,a}catch(n){if(n===To)throw n;var u=t(29,n,null,e.mode);return u.lanes=r,u.return=e,u}}}function Le(e,n){y(Mo,e=qs),y(jo,n),qs=e|n.baseLanes}function Te(){y(Mo,qs),y(jo,jo.current)}function Re(){qs=Mo.current,v(jo),v(Mo)}function Ie(e){var n=e.alternate;y(Ao,1&Ao.current),y(Wo,e),null===$o&&(null===n||null!==jo.current||null!==n.memoizedState)&&($o=e)}function Fe(e){if(22===e.tag){if(y(Ao,Ao.current),y(Wo,e),null===$o){var n=e.alternate;null!==n&&null!==n.memoizedState&&($o=e)}}else Ue()}function Ue(){y(Ao,Ao.current),y(Wo,Wo.current)}function Qe(e){v(Wo),$o===e&&($o=null),v(Ao)}function De(e){for(var n=e;null!==n;){if(13===n.tag){var t=n.memoizedState;if(null!==t&&(null===(t=t.dehydrated)||Qu(t)||Du(t)))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(128&n.flags)return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function He(){throw Error(r(321))}function je(e,n){if(null===n)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!qi(e[t],n[t]))return!1;return!0}function Me(e,n,t,l,r,a){return Bo=a,Vo=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Sa.H=null===e||null===e.memoizedState?ls:rs,Ko=!1,a=t(l,r),Ko=!1,Yo&&(a=$e(n,t,l,r)),We(e),a}function We(e){Sa.H=ts;var n=null!==Oo&&null!==Oo.next;if(Bo=0,qo=Oo=Vo=null,Go=!1,Xo=0,Zo=null,n)throw Error(r(300));null===e||ss||null!==(e=e.dependencies)&&Qt(e)&&(ss=!0)}function $e(e,n,t,l){Vo=e;var a=0;do{if(Yo&&(Zo=null),Xo=0,Yo=!1,25<=a)throw Error(r(301));if(a+=1,qo=Oo=null,null!=e.updateQueue){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,null!=u.memoCache&&(u.memoCache.index=0)}Sa.H=as,u=n(t,l)}while(Yo);return u}function Ae(){var e=Sa.H,n=e.useState()[0];return n="function"==typeof n.then?Ye(n):n,e=e.useState()[0],(null!==Oo?Oo.memoizedState:null)!==e&&(Vo.flags|=1024),n}function Be(){var e=0!==Jo;return Jo=0,e}function Ve(e,n,t){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~t}function Oe(e){if(Go){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Go=!1}Bo=0,qo=Oo=Vo=null,Yo=!1,Xo=Jo=0,Zo=null}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Vo.memoizedState=qo=e:qo=qo.next=e,qo}function Ge(){if(null===Oo){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Oo.next;var n=null===qo?Vo.memoizedState:qo.next;if(null!==n)qo=n,Oo=e;else{if(null===e){if(null===Vo.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Oo=e).memoizedState,baseState:Oo.baseState,baseQueue:Oo.baseQueue,queue:Oo.queue,next:null},null===qo?Vo.memoizedState=qo=e:qo=qo.next=e}return qo}function Ye(e){var n=Xo;return Xo+=1,null===Zo&&(Zo=[]),e=we(Zo,e,n),n=Vo,null===(null===qo?n.memoizedState:qo.next)&&(n=n.alternate,Sa.H=null===n||null===n.memoizedState?ls:rs),e}function Ke(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Ye(e);if(e.$$typeof===oa)return Ht(e)}throw Error(r(438,String(e)))}function Je(e){var n=null,t=Vo.updateQueue;if(null!==t&&(n=t.memoCache),null==n){var l=Vo.alternate;null!==l&&(null!==(l=l.updateQueue)&&(null!=(l=l.memoCache)&&(n={data:l.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===t&&(t=ns(),Vo.updateQueue=t),t.memoCache=n,void 0===(t=n.data[n.index]))for(t=n.data[n.index]=Array(e),l=0;l<e;l++)t[l]=ba;return n.index++,t}function Xe(e,n){return"function"==typeof n?n(e):n}function Ze(e){return en(Ge(),Oo,e)}function en(e,n,t){var l=e.queue;if(null===l)throw Error(r(311));l.lastRenderedReducer=t;var a=e.baseQueue,u=l.pending;if(null!==u){if(null!==a){var i=a.next;a.next=u.next,u.next=i}n.baseQueue=a=u,l.pending=null}if(u=e.baseState,null===a)e.memoizedState=u;else{var o=i=null,s=null,c=n=a.next,f=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(Ws&d)===d:(Bo&d)===d){var p=c.revertLane;if(0===p)null!==s&&(s=s.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===No&&(f=!0);else{if((Bo&p)===p){c=c.next,p===No&&(f=!0);continue}d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===s?(o=s=d,i=u):s=s.next=d,Vo.lanes|=p,Ys|=p}d=c.action,Ko&&t(u,d),u=c.hasEagerState?c.eagerState:t(u,d)}else p={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===s?(o=s=p,i=u):s=s.next=p,Vo.lanes|=d,Ys|=d;c=c.next}while(null!==c&&c!==n);if(null===s?i=u:s.next=o,!qi(u,e.memoizedState)&&(ss=!0,f&&null!==(t=Co)))throw t;e.memoizedState=u,e.baseState=i,e.baseQueue=s,l.lastRenderedState=u}return null===a&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nn(e){var n=Ge(),t=n.queue;if(null===t)throw Error(r(311));t.lastRenderedReducer=e;var l=t.dispatch,a=t.pending,u=n.memoizedState;if(null!==a){t.pending=null;var i=a=a.next;do{u=e(u,i.action),i=i.next}while(i!==a);qi(u,n.memoizedState)||(ss=!0),n.memoizedState=u,null===n.baseQueue&&(n.baseState=u),t.lastRenderedState=u}return[u,l]}function tn(e,n,t){var l=Vo,a=Ge(),u=co;if(u){if(void 0===t)throw Error(r(407));t=t()}else t=n();var i=!qi((Oo||a).memoizedState,t);if(i&&(a.memoizedState=t,ss=!0),a=a.queue,En(an.bind(null,l,a,e),[e]),a.getSnapshot!==n||i||null!==qo&&1&qo.memoizedState.tag){if(l.flags|=2048,wn(9,rn.bind(null,l,a,t,n),{destroy:void 0},null),null===js)throw Error(r(349));u||60&Bo||ln(l,n,t)}return t}function ln(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},null===(n=Vo.updateQueue)?(n=ns(),Vo.updateQueue=n,n.stores=[e]):null===(t=n.stores)?n.stores=[e]:t.push(e)}function rn(e,n,t,l){n.value=t,n.getSnapshot=l,un(n)&&on(e)}function an(e,n,t){return t(function(){un(n)&&on(e)})}function un(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!qi(e,t)}catch(e){return!0}}function on(e){var n=X(e,2);null!==n&&er(n,e,2)}function sn(e){var n=qe();if("function"==typeof e){var t=e;if(e=t(),Ko){I(!0);try{t()}finally{I(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:e},n}function cn(e,n,t,l){return e.baseState=t,en(e,Oo,"function"==typeof l?l:Xe)}function fn(e,n,t,l,a){if(Gn(e))throw Error(r(485));if(null!==(e=n.action)){var u={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){u.listeners.push(e)}};null!==Sa.T?t(!0):u.isTransition=!1,l(u),null===(t=n.pending)?(u.next=n.pending=u,dn(n,u)):(u.next=t.next,n.pending=t.next=u)}}function dn(e,n){var t=n.action,l=n.payload,r=e.state;if(n.isTransition){var a=Sa.T,u={};Sa.T=u;try{var i=t(r,l),o=Sa.S;null!==o&&o(u,i),pn(e,n,i)}catch(t){hn(e,n,t)}finally{Sa.T=a}}else try{pn(e,n,a=t(r,l))}catch(t){hn(e,n,t)}}function pn(e,n,t){null!==t&&"object"==typeof t&&"function"==typeof t.then?t.then(function(t){mn(e,n,t)},function(t){return hn(e,n,t)}):mn(e,n,t)}function mn(e,n,t){n.status="fulfilled",n.value=t,gn(n),e.state=t,null!==(n=e.pending)&&((t=n.next)===n?e.pending=null:(t=t.next,n.next=t,dn(e,t)))}function hn(e,n,t){var l=e.pending;if(e.pending=null,null!==l){l=l.next;do{n.status="rejected",n.reason=t,gn(n),n=n.next}while(n!==l)}e.action=null}function gn(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bn(e,n){return n}function vn(e,n){if(co){var t=js.formState;if(null!==t){e:{var l=Vo;if(co){if(so){var r=Mu(so,po);if(r){so=$u(r),l=Wu(r);break e}}A(l)}l=!1}l&&(n=t[0])}}(t=qe()).memoizedState=t.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bn,lastRenderedState:n},t.queue=l,t=Vn.bind(null,Vo,l),l.dispatch=t,l=sn(!1);var a=qn.bind(null,Vo,!1,l.queue);return r={state:n,dispatch:null,action:e,pending:null},(l=qe()).queue=r,t=fn.bind(null,Vo,r,a,t),r.dispatch=t,l.memoizedState=e,[n,t,!1]}function yn(e){return Sn(Ge(),Oo,e)}function Sn(e,n,t){n=en(e,n,bn)[0],e=Ze(Xe)[0],n="object"==typeof n&&null!==n&&"function"==typeof n.then?Ye(n):n;var l=Ge(),r=l.queue,a=r.dispatch;return t!==l.memoizedState&&(Vo.flags|=2048,wn(9,kn.bind(null,r,t),{destroy:void 0},null)),[n,a,e]}function kn(e,n){e.action=n}function zn(e){var n=Ge(),t=Oo;if(null!==t)return Sn(n,t,e);Ge(),n=n.memoizedState;var l=(t=Ge()).queue.dispatch;return t.memoizedState=e,[n,l,!1]}function wn(e,n,t,l){return e={tag:e,create:n,inst:t,deps:l,next:null},null===(n=Vo.updateQueue)&&(n=ns(),Vo.updateQueue=n),null===(t=n.lastEffect)?n.lastEffect=e.next=e:(l=t.next,t.next=e,e.next=l,n.lastEffect=e),e}function xn(){return Ge().memoizedState}function Pn(e,n,t,l){var r=qe();Vo.flags|=e,r.memoizedState=wn(1|n,t,{destroy:void 0},void 0===l?null:l)}function Nn(e,n,t,l){var r=Ge();l=void 0===l?null:l;var a=r.memoizedState.inst;null!==Oo&&null!==l&&je(l,Oo.memoizedState.deps)?r.memoizedState=wn(n,t,a,l):(Vo.flags|=e,r.memoizedState=wn(1|n,t,a,l))}function Cn(e,n){Pn(8390656,8,e,n)}function En(e,n){Nn(2048,8,e,n)}function _n(e,n){return Nn(4,2,e,n)}function Ln(e,n){return Nn(4,4,e,n)}function Tn(e,n){if("function"==typeof n){e=e();var t=n(e);return function(){"function"==typeof t?t():n(null)}}if(null!=n)return e=e(),n.current=e,function(){n.current=null}}function Rn(e,n,t){t=null!=t?t.concat([e]):null,Nn(4,4,Tn.bind(null,n,e),t)}function In(){}function Fn(e,n){var t=Ge();n=void 0===n?null:n;var l=t.memoizedState;return null!==n&&je(n,l[1])?l[0]:(t.memoizedState=[e,n],e)}function Un(e,n){var t=Ge();n=void 0===n?null:n;var l=t.memoizedState;if(null!==n&&je(n,l[1]))return l[0];if(l=e(),Ko){I(!0);try{e()}finally{I(!1)}}return t.memoizedState=[l,n],l}function Qn(e,n,t){return void 0===t||1073741824&Bo?e.memoizedState=n:(e.memoizedState=t,e=Zl(),Vo.lanes|=e,Ys|=e,t)}function Dn(e,n,t,l){return qi(t,n)?t:null!==jo.current?(e=Qn(e,t,l),qi(e,n)||(ss=!0),e):42&Bo?(e=Zl(),Vo.lanes|=e,Ys|=e,n):(ss=!0,e.memoizedState=t)}function Hn(e,n,t,l,r){var a=Oa();Va(0!==a&&8>a?a:8);var u,i,o,s=Sa.T,c={};Sa.T=c,qn(e,!1,n,t);try{var f=r(),d=Sa.S;if(null!==d&&d(c,f),null!==f&&"object"==typeof f&&"function"==typeof f.then)On(e,n,(u=l,i=[],o={status:"pending",value:null,reason:null,then:function(e){i.push(e)}},f.then(function(){o.status="fulfilled",o.value=u;for(var e=0;e<i.length;e++)(0,i[e])(u)},function(e){for(o.status="rejected",o.reason=e,e=0;e<i.length;e++)(0,i[e])(void 0)}),o),Xl());else On(e,n,l,Xl())}catch(t){On(e,n,{then:function(){},status:"rejected",reason:t},Xl())}finally{Va(a),Sa.T=s}}function jn(e){var n=e.memoizedState;if(null!==n)return n;var t={};return(n={memoizedState:nu,baseState:nu,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:nu},next:null}).next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xe,lastRenderedState:t},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function Mn(){return Ht(tu)}function Wn(){return Ge().memoizedState}function $n(){return Ge().memoizedState}function An(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var t=Xl(),l=pe(n,e=de(t),t);return null!==l&&(er(l,n,t),me(l,n,t)),n={cache:Wt()},void(e.payload=n)}n=n.return}}function Bn(e,n,t){var l=Xl();t={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Gn(e)?Yn(n,t):null!==(t=J(e,n,t,l))&&(er(t,e,l),Kn(t,n,l))}function Vn(e,n,t){On(e,n,t,Xl())}function On(e,n,t,l){var r={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Gn(e))Yn(n,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=n.lastRenderedReducer))try{var u=n.lastRenderedState,i=a(u,t);if(r.hasEagerState=!0,r.eagerState=i,qi(i,u))return K(e,n,r,0),null===js&&Y(),!1}catch(e){}if(null!==(t=J(e,n,r,l)))return er(t,e,l),Kn(t,n,l),!0}return!1}function qn(e,n,t,l){if(l={lane:2,revertLane:ie(),action:l,hasEagerState:!1,eagerState:null,next:null},Gn(e)){if(n)throw Error(r(479))}else null!==(n=J(e,t,l,2))&&er(n,e,2)}function Gn(e){var n=e.alternate;return e===Vo||null!==n&&n===Vo}function Yn(e,n){Yo=Go=!0;var t=e.pending;null===t?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Kn(e,n,t){if(4194176&t){var l=n.lanes;t|=l&=e.pendingLanes,n.lanes=t,L(e,t)}}function Jn(e,n,t,l){t=null==(t=t(l,n=e.memoizedState))?n:Zr({},n,t),e.memoizedState=t,0===e.lanes&&(e.updateQueue.baseState=t)}function Xn(e,n,t,l,r,a,u){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(l,a,u):!n.prototype||!n.prototype.isPureReactComponent||(!Se(t,l)||!Se(r,a))}function Zn(e,n,t,l){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(t,l),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(t,l),n.state!==e&&us.enqueueReplaceState(n,n.state,null)}function et(e,n){var t=n;if("ref"in n)for(var l in t={},n)"ref"!==l&&(t[l]=n[l]);if(e=e.defaultProps)for(var r in t===n&&(t=Zr({},t)),e)void 0===t[r]&&(t[r]=e[r]);return t}function nt(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(e){setTimeout(function(){throw e})}}function tt(e,n,t){try{(0,e.onCaughtError)(t.value,{componentStack:t.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function lt(e,n,t){return(t=de(t)).tag=3,t.payload={element:null},t.callback=function(){nt(e,n)},t}function rt(e){return(e=de(e)).tag=3,e}function at(e,n,t,l){var r=t.type.getDerivedStateFromError;if("function"==typeof r){var a=l.value;e.payload=function(){return r(a)},e.callback=function(){tt(n,t,l)}}var u=t.stateNode;null!==u&&"function"==typeof u.componentDidCatch&&(e.callback=function(){tt(n,t,l),"function"!=typeof r&&(null===uc?uc=new Set([this]):uc.add(this));var e=l.stack;this.componentDidCatch(l.value,{componentStack:null!==e?e:""})})}function ut(e,n,t,l,a){if(t.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){if(null!==(n=t.alternate)&&Ut(n,t,a,!0),null!==(t=Wo.current)){switch(t.tag){case 13:return null===$o?pr():null===t.alternate&&0===Gs&&(Gs=3),t.flags&=-257,t.flags|=65536,t.lanes=a,l===Io?t.flags|=16384:(null===(n=t.updateQueue)?t.updateQueue=new Set([l]):n.add(l),_r(e,l,a)),!1;case 22:return t.flags|=65536,l===Io?t.flags|=16384:(null===(n=t.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},t.updateQueue=n):null===(t=n.retryQueue)?n.retryQueue=new Set([l]):t.add(l),_r(e,l,a)),!1}throw Error(r(435,t.tag))}return _r(e,l,a),pr(),!1}if(co)return null!==(n=Wo.current)?(!(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=a,l!==mo&&G(F(e=Error(r(422),{cause:l}),t))):(l!==mo&&G(F(n=Error(r(423),{cause:l}),t)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,l=F(l,t),he(e,a=lt(e.stateNode,l,a)),4!==Gs&&(Gs=2)),!1;var u=Error(r(520),{cause:l});if(u=F(u,t),null===ec?ec=[u]:ec.push(u),4!==Gs&&(Gs=2),null===n)return!0;l=F(l,t),t=n;do{switch(t.tag){case 3:return t.flags|=65536,e=a&-a,t.lanes|=e,he(t,e=lt(t.stateNode,l,e)),!1;case 1:if(n=t.type,u=t.stateNode,!(128&t.flags||"function"!=typeof n.getDerivedStateFromError&&(null===u||"function"!=typeof u.componentDidCatch||null!==uc&&uc.has(u))))return t.flags|=65536,a&=-a,t.lanes|=a,at(a=rt(a),e,t,l),he(t,a),!1}t=t.return}while(null!==t);return!1}function it(e,n,t,l){n.child=null===e?Ho(n,null,t,l):Do(n,e.child,t,l)}function ot(e,n,t,l,r){t=t.render;var a=n.ref;if("ref"in l){var u={};for(var i in l)"ref"!==i&&(u[i]=l[i])}else u=l;return Dt(n),l=Me(e,n,t,u,a,r),i=Be(),null===e||ss?(co&&i&&D(n),n.flags|=1,it(e,n,l,r),n.child):(Ve(e,n,r),Ct(e,n,r))}function st(e,n,t,l,r){if(null===e){var a=t.type;return"function"!=typeof a||Ur(a)||void 0!==a.defaultProps||null!==t.compare?((e=Hr(t.type,null,l,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=a,ct(e,n,a,l,r))}if(a=e.child,!Et(e,r)){var u=a.memoizedProps;if((t=null!==(t=t.compare)?t:Se)(u,l)&&e.ref===n.ref)return Ct(e,n,r)}return n.flags|=1,(e=Qr(a,l)).ref=n.ref,e.return=n,n.child=e}function ct(e,n,t,l,r){if(null!==e){var a=e.memoizedProps;if(Se(a,l)&&e.ref===n.ref){if(ss=!1,n.pendingProps=l=a,!Et(e,r))return n.lanes=e.lanes,Ct(e,n,r);131072&e.flags&&(ss=!0)}}return mt(e,n,t,l,r)}function ft(e,n,t){var l=n.pendingProps,r=l.children,a=!!(2&n.stateNode._pendingVisibility),u=null!==e?e.memoizedState:null;if(pt(e,n),"hidden"===l.mode||a){if(128&n.flags){if(l=null!==u?u.baseLanes|t:t,null!==e){for(r=n.child=e.child,a=0;null!==r;)a=a|r.lanes|r.childLanes,r=r.sibling;n.childLanes=a&~l}else n.childLanes=0,n.child=null;return dt(e,n,l,t)}if(!(536870912&t))return n.lanes=n.childLanes=536870912,dt(e,n,null!==u?u.baseLanes|t:t,t);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Bt(n,null!==u?u.cachePool:null),null!==u?Le(n,u):Te(),Fe(n)}else null!==u?(Bt(n,u.cachePool),Le(n,u),Ue(),n.memoizedState=null):(null!==e&&Bt(n,null),Te(),Ue());return it(e,n,r,t),n.child}function dt(e,n,t,l){var r=At();return r=null===r?null:{parent:ja?bs._currentValue:bs._currentValue2,pool:r},n.memoizedState={baseLanes:t,cachePool:r},null!==e&&Bt(n,null),Te(),Fe(n),null!==e&&Ut(e,n,l,!0),null}function pt(e,n){var t=n.ref;if(null===t)null!==e&&null!==e.ref&&(n.flags|=2097664);else{if("function"!=typeof t&&"object"!=typeof t)throw Error(r(284));null!==e&&e.ref===t||(n.flags|=2097664)}}function mt(e,n,t,l,r){return Dt(n),t=Me(e,n,t,l,void 0,r),l=Be(),null===e||ss?(co&&l&&D(n),n.flags|=1,it(e,n,t,r),n.child):(Ve(e,n,r),Ct(e,n,r))}function ht(e,n,t,l,r,a){return Dt(n),n.updateQueue=null,t=$e(n,l,t,r),We(e),l=Be(),null===e||ss?(co&&l&&D(n),n.flags|=1,it(e,n,t,a),n.child):(Ve(e,n,a),Ct(e,n,a))}function gt(e,n,t,l,r){if(Dt(n),null===n.stateNode){var a=Ei,u=t.contextType;"object"==typeof u&&null!==u&&(a=Ht(u)),a=new t(l,a),n.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=us,n.stateNode=a,a._reactInternals=n,(a=n.stateNode).props=l,a.state=n.memoizedState,a.refs={},ce(n),u=t.contextType,a.context="object"==typeof u&&null!==u?Ht(u):Ei,a.state=n.memoizedState,"function"==typeof(u=t.getDerivedStateFromProps)&&(Jn(n,t,u,l),a.state=n.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(u=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),u!==a.state&&us.enqueueReplaceState(a,a.state,null),be(n,l,a,r),ge(),a.state=n.memoizedState),"function"==typeof a.componentDidMount&&(n.flags|=4194308),l=!0}else if(null===e){a=n.stateNode;var i=n.memoizedProps,o=et(t,i);a.props=o;var s=a.context,c=t.contextType;u=Ei,"object"==typeof c&&null!==c&&(u=Ht(c));var f=t.getDerivedStateFromProps;c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate,i=n.pendingProps!==i,c||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i||s!==u)&&Zn(n,a,l,u),Eo=!1;var d=n.memoizedState;a.state=d,be(n,l,a,r),ge(),s=n.memoizedState,i||d!==s||Eo?("function"==typeof f&&(Jn(n,t,f,l),s=n.memoizedState),(o=Eo||Xn(n,t,o,l,d,s,u))?(c||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(n.flags|=4194308)):("function"==typeof a.componentDidMount&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=s),a.props=l,a.state=s,a.context=u,l=o):("function"==typeof a.componentDidMount&&(n.flags|=4194308),l=!1)}else{a=n.stateNode,fe(e,n),c=et(t,u=n.memoizedProps),a.props=c,f=n.pendingProps,d=a.context,s=t.contextType,o=Ei,"object"==typeof s&&null!==s&&(o=Ht(s)),(s="function"==typeof(i=t.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(u!==f||d!==o)&&Zn(n,a,l,o),Eo=!1,d=n.memoizedState,a.state=d,be(n,l,a,r),ge();var p=n.memoizedState;u!==f||d!==p||Eo||null!==e&&null!==e.dependencies&&Qt(e.dependencies)?("function"==typeof i&&(Jn(n,t,i,l),p=n.memoizedState),(c=Eo||Xn(n,t,c,l,d,p,o)||null!==e&&null!==e.dependencies&&Qt(e.dependencies))?(s||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(l,p,o),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(l,p,o)),"function"==typeof a.componentDidUpdate&&(n.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=p),a.props=l,a.state=p,a.context=o,l=c):("function"!=typeof a.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(n.flags|=1024),l=!1)}return a=l,pt(e,n),l=!!(128&n.flags),a||l?(a=n.stateNode,t=l&&"function"!=typeof t.getDerivedStateFromError?null:a.render(),n.flags|=1,null!==e&&l?(n.child=Do(n,e.child,null,r),n.child=Do(n,null,t,r)):it(e,n,t,r),n.memoizedState=a.state,e=n.child):e=Ct(e,n,r),e}function bt(e,n,t,l){return q(),n.flags|=256,it(e,n,t,l),n.child}function vt(e){return{baseLanes:e,cachePool:Vt()}}function yt(e,n,t){return e=null!==e?e.childLanes&~t:0,n&&(e|=Xs),e}function St(e,n,l){var a,u=n.pendingProps,i=!1,o=!!(128&n.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&!!(2&Ao.current)),a&&(i=!0,n.flags&=-129),a=!!(32&n.flags),n.flags&=-33,null===e){if(co){if(i?Ie(n):Ue(),co){var s,c=so;(s=c)&&(null!==(c=Gu(c,po))?(n.memoizedState={dehydrated:c,treeContext:null!==no?{id:to,overflow:lo}:null,retryLane:536870912},(s=t(18,null,null,0)).stateNode=c,s.return=n,n.child=s,oo=n,so=null,s=!0):s=!1),s||A(n)}if(null!==(c=n.memoizedState)&&null!==(c=c.dehydrated))return Du(c)?n.lanes=16:n.lanes=536870912,null;Qe(n)}return c=u.children,u=u.fallback,i?(Ue(),c=zt({mode:"hidden",children:c},i=n.mode),u=jr(u,i,l,null),c.return=n,u.return=n,c.sibling=u,n.child=c,(i=n.child).memoizedState=vt(l),i.childLanes=yt(e,a,l),n.memoizedState=cs,u):(Ie(n),kt(n,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(o)256&n.flags?(Ie(n),n.flags&=-257,n=wt(e,n,l)):null!==n.memoizedState?(Ue(),n.child=e.child,n.flags|=128,n=null):(Ue(),i=u.fallback,c=n.mode,u=zt({mode:"visible",children:u.children},c),(i=jr(i,c,l,null)).flags|=2,u.return=n,i.return=n,u.sibling=i,n.child=u,Do(n,e.child,null,l),(u=n.child).memoizedState=vt(l),u.childLanes=yt(e,a,l),n.memoizedState=cs,n=i);else if(Ie(n),Du(c))a=Hu(c).digest,(u=Error(r(419))).stack="",u.digest=a,G({value:u,source:null,stack:null}),n=wt(e,n,l);else if(ss||Ut(e,n,l,!1),a=0!==(l&e.childLanes),ss||a){if(null!==(a=js)){if(42&(u=l&-l))u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(0!==(u=0!==(u&(a.suspendedLanes|l))?0:u)&&u!==s.retryLane)throw s.retryLane=u,X(e,u),er(a,e,u),os}Qu(c)||pr(),n=wt(e,n,l)}else Qu(c)?(n.flags|=128,n.child=e.child,n=Rr.bind(null,e),ju(c,n),n=null):(e=s.treeContext,$a&&(so=Vu(c),oo=n,co=!0,fo=null,po=!1,null!==e&&(Zi[eo++]=to,Zi[eo++]=lo,Zi[eo++]=no,to=e.id,lo=e.overflow,no=n)),(n=kt(n,u.children)).flags|=4096);return n}return i?(Ue(),i=u.fallback,c=n.mode,o=(s=e.child).sibling,(u=Qr(s,{mode:"hidden",children:u.children})).subtreeFlags=31457280&s.subtreeFlags,null!==o?i=Qr(o,i):(i=jr(i,c,l,null)).flags|=2,i.return=n,u.return=n,u.sibling=i,n.child=u,u=i,i=n.child,null===(c=e.child.memoizedState)?c=vt(l):(null!==(s=c.cachePool)?(o=ja?bs._currentValue:bs._currentValue2,s=s.parent!==o?{parent:o,pool:o}:s):s=Vt(),c={baseLanes:c.baseLanes|l,cachePool:s}),i.memoizedState=c,i.childLanes=yt(e,a,l),n.memoizedState=cs,u):(Ie(n),e=(l=e.child).sibling,(l=Qr(l,{mode:"visible",children:u.children})).return=n,l.sibling=null,null!==e&&(null===(a=n.deletions)?(n.deletions=[e],n.flags|=16):a.push(e)),n.child=l,n.memoizedState=null,l)}function kt(e,n){return(n=zt({mode:"visible",children:n},e.mode)).return=e,e.child=n}function zt(e,n){return Mr(e,n,0,null)}function wt(e,n,t){return Do(n,e.child,null,t),(e=kt(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function xt(e,n,t){e.lanes|=n;var l=e.alternate;null!==l&&(l.lanes|=n),It(e.return,n,t)}function Pt(e,n,t,l,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:r}:(a.isBackwards=n,a.rendering=null,a.renderingStartTime=0,a.last=l,a.tail=t,a.tailMode=r)}function Nt(e,n,t){var l=n.pendingProps,r=l.revealOrder,a=l.tail;if(it(e,n,l.children,t),2&(l=Ao.current))l=1&l|2,n.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&xt(e,t,n);else if(19===e.tag)xt(e,t,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(y(Ao,l),r){case"forwards":for(t=n.child,r=null;null!==t;)null!==(e=t.alternate)&&null===De(e)&&(r=t),t=t.sibling;null===(t=r)?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),Pt(n,!1,r,t,a);break;case"backwards":for(t=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===De(e)){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}Pt(n,!0,t,null,a);break;case"together":Pt(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ct(e,n,t){if(null!==e&&(n.dependencies=e.dependencies),Ys|=n.lanes,0===(t&n.childLanes)){if(null===e)return null;if(Ut(e,n,t,!1),0===(t&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(r(153));if(null!==n.child){for(t=Qr(e=n.child,e.pendingProps),n.child=t,t.return=n;null!==e.sibling;)e=e.sibling,(t=t.sibling=Qr(e,e.pendingProps)).return=n;t.sibling=null}return n.child}function Et(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Qt(e))}function _t(e,n,t){switch(n.tag){case 3:j(n,n.stateNode.containerInfo),Tt(n,bs,e.memoizedState.cache),q();break;case 27:case 5:W(n);break;case 4:j(n,n.stateNode.containerInfo);break;case 10:Tt(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(null!==l)return null!==l.dehydrated?(Ie(n),n.flags|=128,null):0!==(t&n.child.childLanes)?St(e,n,t):(Ie(n),null!==(e=Ct(e,n,t))?e.sibling:null);Ie(n);break;case 19:var r=!!(128&e.flags);if((l=0!==(t&n.childLanes))||(Ut(e,n,t,!1),l=0!==(t&n.childLanes)),r){if(l)return Nt(e,n,t);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),y(Ao,Ao.current),l)break;return null;case 22:case 23:return n.lanes=0,ft(e,n,t);case 24:Tt(n,bs,e.memoizedState.cache)}return Ct(e,n,t)}function Lt(e,n,t){if(null!==e)if(e.memoizedProps!==n.pendingProps)ss=!0;else{if(!(Et(e,t)||128&n.flags))return ss=!1,_t(e,n,t);ss=!!(131072&e.flags)}else ss=!1,co&&1048576&n.flags&&Q(n,Xi,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,a=l._init;if(l=a(l._payload),n.type=l,"function"!=typeof l){if(null!=l){if((a=l.$$typeof)===sa){n.tag=11,n=ot(null,n,l,e,t);break e}if(a===da){n.tag=14,n=st(null,n,l,e,t);break e}}throw n=i(l)||l,Error(r(306,n,""))}Ur(l)?(e=et(l,e),n.tag=1,n=gt(null,n,l,e,t)):(n.tag=0,n=mt(null,n,l,e,t))}return n;case 0:return mt(e,n,n.type,n.pendingProps,t);case 1:return gt(e,n,l=n.type,a=et(l,n.pendingProps),t);case 3:e:{if(j(n,n.stateNode.containerInfo),null===e)throw Error(r(387));var u=n.pendingProps;l=(a=n.memoizedState).element,fe(e,n),be(n,u,null,t);var o=n.memoizedState;if(u=o.cache,Tt(n,bs,u),u!==a.cache&&Ft(n,[bs],t,!0),ge(),u=o.element,$a&&a.isDehydrated){if(a={element:u,isDehydrated:!1,cache:o.cache},n.updateQueue.baseState=a,n.memoizedState=a,256&n.flags){n=bt(e,n,u,t);break e}if(u!==l){G(l=F(Error(r(424)),n)),n=bt(e,n,u,t);break e}for($a&&(so=Bu(n.stateNode.containerInfo),oo=n,co=!0,fo=null,po=!0),t=Ho(n,null,u,t),n.child=t;t;)t.flags=-3&t.flags|4096,t=t.sibling}else{if(q(),u===l){n=Ct(e,n,t);break e}it(e,n,u,t)}n=n.child}return n;case 26:if(ui)return pt(e,n),null===e?(t=si(n.type,null,n.pendingProps,null))?n.memoizedState=t:co||(n.stateNode=hi(n.type,n.pendingProps,uo.current,n)):n.memoizedState=si(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:if(Si)return W(n),null===e&&Si&&co&&(l=n.stateNode=ki(n.type,n.pendingProps,uo.current,ro.current,!1),oo=n,po=!0,so=Au(l)),l=n.pendingProps.children,null!==e||co?it(e,n,l,t):n.child=Do(n,null,l,t),pt(e,n),n.child;case 5:return null===e&&co&&(ri(n.type,n.pendingProps,ro.current),(a=l=so)&&(null!==(l=Ou(l,n.type,n.pendingProps,po))?(n.stateNode=l,oo=n,so=Au(l),po=!1,a=!0):a=!1),a||A(n)),W(n),a=n.type,u=n.pendingProps,o=null!==e?e.memoizedProps:null,l=u.children,Fa(a,u)?l=null:null!==o&&Fa(a,o)&&(n.flags|=32),null!==n.memoizedState&&(a=Me(e,n,Ae,null,null,t),ja?tu._currentValue=a:tu._currentValue2=a),pt(e,n),it(e,n,l,t),n.child;case 6:return null===e&&co&&(ai(n.pendingProps,ro.current),(e=t=so)&&(null!==(t=qu(t,n.pendingProps,po))?(n.stateNode=t,oo=n,so=null,e=!0):e=!1),e||A(n)),null;case 13:return St(e,n,t);case 4:return j(n,n.stateNode.containerInfo),l=n.pendingProps,null===e?n.child=Do(n,null,l,t):it(e,n,l,t),n.child;case 11:return ot(e,n,n.type,n.pendingProps,t);case 7:return it(e,n,n.pendingProps,t),n.child;case 8:case 12:return it(e,n,n.pendingProps.children,t),n.child;case 10:return l=n.pendingProps,Tt(n,n.type,l.value),it(e,n,l.children,t),n.child;case 9:return a=n.type._context,l=n.pendingProps.children,Dt(n),l=l(a=Ht(a)),n.flags|=1,it(e,n,l,t),n.child;case 14:return st(e,n,n.type,n.pendingProps,t);case 15:return ct(e,n,n.type,n.pendingProps,t);case 19:return Nt(e,n,t);case 22:return ft(e,n,t);case 24:return Dt(n),l=Ht(bs),null===e?(null===(a=At())&&(a=js,u=Wt(),a.pooledCache=u,u.refCount++,null!==u&&(a.pooledCacheLanes|=t),a=u),n.memoizedState={parent:l,cache:a},ce(n),Tt(n,bs,a)):(0!==(e.lanes&t)&&(fe(e,n),be(n,null,null,t),ge()),a=e.memoizedState,u=n.memoizedState,a.parent!==l?(a={parent:l,cache:l},n.memoizedState=a,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=a),Tt(n,bs,l)):(l=u.cache,Tt(n,bs,l),l!==a.cache&&Ft(n,[bs],t,!0))),it(e,n,n.pendingProps.children,t),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Tt(e,n,t){ja?(y(fs,n._currentValue),n._currentValue=t):(y(fs,n._currentValue2),n._currentValue2=t)}function Rt(e){var n=fs.current;ja?e._currentValue=n:e._currentValue2=n,v(fs)}function It(e,n,t){for(;null!==e;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==l&&(l.childLanes|=n)):null!==l&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===t)break;e=e.return}}function Ft(e,n,t,l){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var u=a.dependencies;if(null!==u){var i=a.child;u=u.firstContext;e:for(;null!==u;){var o=u;u=a;for(var s=0;s<n.length;s++)if(o.context===n[s]){u.lanes|=t,null!==(o=u.alternate)&&(o.lanes|=t),It(u.return,t,e),l||(i=null);break e}u=o.next}}else if(18===a.tag){if(null===(i=a.return))throw Error(r(341));i.lanes|=t,null!==(u=i.alternate)&&(u.lanes|=t),It(i,t,e),i=null}else i=a.child;if(null!==i)i.return=a;else for(i=a;null!==i;){if(i===e){i=null;break}if(null!==(a=i.sibling)){a.return=i.return,i=a;break}i=i.return}a=i}}function Ut(e,n,t,l){e=null;for(var a=n,u=!1;null!==a;){if(!u)if(524288&a.flags)u=!0;else if(262144&a.flags)break;if(10===a.tag){var i=a.alternate;if(null===i)throw Error(r(387));if(null!==(i=i.memoizedProps)){var o=a.type;qi(a.pendingProps.value,i.value)||(null!==e?e.push(o):e=[o])}}else if(a===io.current){if(null===(i=a.alternate))throw Error(r(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(tu):e=[tu])}a=a.return}null!==e&&Ft(n,e,t,l),n.flags|=262144}function Qt(e){for(e=e.firstContext;null!==e;){var n=e.context;if(!qi(ja?n._currentValue:n._currentValue2,e.memoizedValue))return!0;e=e.next}return!1}function Dt(e){ds=e,ps=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ht(e){return Mt(ds,e)}function jt(e,n){return null===ds&&Dt(e),Mt(e,n)}function Mt(e,n){var t=ja?n._currentValue:n._currentValue2;if(n={context:n,memoizedValue:t,next:null},null===ps){if(null===e)throw Error(r(308));ps=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ps=ps.next=n;return t}function Wt(){return{controller:new ms,data:new Map,refCount:0}}function $t(e){e.refCount--,0===e.refCount&&hs(gs,function(){e.controller.abort()})}function At(){var e=ys.current;return null!==e?e:js.pooledCache}function Bt(e,n){y(ys,null===n?ys.current:n.pool)}function Vt(){var e=At();return null===e?null:{parent:ja?bs._currentValue:bs._currentValue2,pool:e}}function Ot(e){e.flags|=4}function qt(e,n){if(null!==e&&e.child===n.child)return!1;if(16&n.flags)return!0;for(e=n.child;null!==e;){if(13878&e.flags||13878&e.subtreeFlags)return!0;e=e.sibling}return!1}function Gt(e,n,t,l){if(Ma)for(t=n.child;null!==t;){if(5===t.tag||6===t.tag)Ra(e,t.stateNode);else if(!(4===t.tag||Si&&27===t.tag)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===n)break;for(;null===t.sibling;){if(null===t.return||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else if(Wa)for(var r=n.child;null!==r;){if(5===r.tag){var a=r.stateNode;t&&l&&(a=Fu(a,r.type,r.memoizedProps)),Ra(e,a)}else if(6===r.tag)a=r.stateNode,t&&l&&(a=Uu(a,r.memoizedProps)),Ra(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Gt(e,r,!0,!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Yt(e,n,t,l){if(Wa)for(var r=n.child;null!==r;){if(5===r.tag){var a=r.stateNode;t&&l&&(a=Fu(a,r.type,r.memoizedProps)),Tu(e,a)}else if(6===r.tag)a=r.stateNode,t&&l&&(a=Uu(a,r.memoizedProps)),Tu(e,a);else if(4!==r.tag)if(22===r.tag&&null!==r.memoizedState)null!==(a=r.child)&&(a.return=r),Yt(e,r,!(null!==r.memoizedProps&&"manual"===r.memoizedProps.mode),!0);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function Kt(e,n){if(Wa&&qt(e,n)){var t=(e=n.stateNode).containerInfo,l=Lu();Yt(l,n,!1,!1),e.pendingChildren=l,Ot(n),Ru(t,l)}}function Jt(e,n,t,l){if(Ma)e.memoizedProps!==l&&Ot(n);else if(Wa){var r=e.stateNode,a=e.memoizedProps;if((e=qt(e,n))||a!==l){var u=ro.current;(a=_u(r,t,a,l,!e,null))===r?n.stateNode=r:(Ia(a,t,l,u)&&Ot(n),n.stateNode=a,e?Gt(a,n,!1,!1):Ot(n))}else n.stateNode=r}}function Xt(e,n,t){if(Ka(n,t)){if(e.flags|=16777216,!Ja(n,t)){if(!cr())throw Fo=Io,Ro;e.flags|=8192}}else e.flags&=-16777217}function Zt(e,n){if(bi(n)){if(e.flags|=16777216,!vi(n)){if(!cr())throw Fo=Io,Ro;e.flags|=8192}}else e.flags&=-16777217}function el(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?P():536870912,e.lanes|=n,Zs|=n)}function nl(e,n){if(!co)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;null!==n;)null!==n.alternate&&(t=n),n=n.sibling;null===t?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var l=null;null!==t;)null!==t.alternate&&(l=t),t=t.sibling;null===l?n||null===e.tail?e.tail=null:e.tail.sibling=null:l.sibling=null}}function tl(e){var n=null!==e.alternate&&e.alternate.child===e.child,t=0,l=0;if(n)for(var r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=31457280&r.subtreeFlags,l|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)t|=r.lanes|r.childLanes,l|=r.subtreeFlags,l|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=l,e.childLanes=t,n}function ll(e,n,t){var l=n.pendingProps;switch(H(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return tl(n),null;case 3:return t=n.stateNode,l=null,null!==e&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Rt(bs),M(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),null!==e&&null!==e.child||(O(n)?Ot(n):null===e||e.memoizedState.isDehydrated&&!(256&n.flags)||(n.flags|=1024,null!==fo&&(tr(fo),fo=null))),Kt(e,n),tl(n),null;case 26:if(ui){t=n.type;var a=n.memoizedState;return null===e?(Ot(n),null!==a?(tl(n),Zt(n,a)):(tl(n),Xt(n,t,l))):a?a!==e.memoizedState?(Ot(n),tl(n),Zt(n,a)):(tl(n),n.flags&=-16777217):(Ma?e.memoizedProps!==l&&Ot(n):Jt(e,n,t,l),tl(n),Xt(n,t,l)),null}case 27:if(Si){if($(n),t=uo.current,a=n.type,null!==e&&null!=n.stateNode)Ma?e.memoizedProps!==l&&Ot(n):Jt(e,n,a,l);else{if(!l){if(null===n.stateNode)throw Error(r(166));return tl(n),null}e=ro.current,O(n)?B(n,e):(e=ki(a,l,t,e,!0),n.stateNode=e,Ot(n))}return tl(n),null}case 5:if($(n),t=n.type,null!==e&&null!=n.stateNode)Jt(e,n,t,l);else{if(!l){if(null===n.stateNode)throw Error(r(166));return tl(n),null}e=ro.current,O(n)?B(n,e):(Gt(a=Ta(t,l,uo.current,e,n),n,!1,!1),n.stateNode=a,Ia(a,t,l,e)&&Ot(n))}return tl(n),Xt(n,n.type,n.pendingProps),null;case 6:if(e&&null!=n.stateNode)t=e.memoizedProps,Ma?t!==l&&Ot(n):Wa&&(t!==l?(n.stateNode=Ua(l,uo.current,ro.current,n),Ot(n)):n.stateNode=e.stateNode);else{if("string"!=typeof l&&null===n.stateNode)throw Error(r(166));if(e=uo.current,t=ro.current,O(n)){if(!$a)throw Error(r(176));if(e=n.stateNode,t=n.memoizedProps,l=null,null!==(a=oo))switch(a.tag){case 27:case 5:l=a.memoizedProps}Ku(e,t,n,l)||A(n)}else n.stateNode=Ua(l,e,t,n)}return tl(n),null;case 13:if(l=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=O(n),null!==l&&null!==l.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!$a)throw Error(r(344));if(!(a=null!==(a=n.memoizedState)?a.dehydrated:null))throw Error(r(317));Ju(a,n)}else q(),!(128&n.flags)&&(n.memoizedState=null),n.flags|=4;tl(n),a=!1}else null!==fo&&(tr(fo),fo=null),a=!0;if(!a)return 256&n.flags?(Qe(n),n):(Qe(n),null)}if(Qe(n),128&n.flags)return n.lanes=t,n;if(t=null!==l,e=null!==e&&null!==e.memoizedState,t){a=null,null!==(l=n.child).alternate&&null!==l.alternate.memoizedState&&null!==l.alternate.memoizedState.cachePool&&(a=l.alternate.memoizedState.cachePool.pool);var u=null;null!==l.memoizedState&&null!==l.memoizedState.cachePool&&(u=l.memoizedState.cachePool.pool),u!==a&&(l.flags|=2048)}return t!==e&&t&&(n.child.flags|=8192),el(n,n.updateQueue),tl(n),null;case 4:return M(),Kt(e,n),null===e&&Ba(n.stateNode.containerInfo),tl(n),null;case 10:return Rt(n.type),tl(n),null;case 19:if(v(Ao),null===(a=n.memoizedState))return tl(n),null;if(l=!!(128&n.flags),null===(u=a.rendering))if(l)nl(a,!1);else{if(0!==Gs||null!==e&&128&e.flags)for(e=n.child;null!==e;){if(null!==(u=De(e))){for(n.flags|=128,nl(a,!1),e=u.updateQueue,n.updateQueue=e,el(n,e),n.subtreeFlags=0,e=t,t=n.child;null!==t;)Dr(t,e),t=t.sibling;return y(Ao,1&Ao.current|2),n.child}e=e.sibling}null!==a.tail&&Hi()>rc&&(n.flags|=128,l=!0,nl(a,!1),n.lanes=4194304)}else{if(!l)if(null!==(e=De(u))){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,el(n,e),nl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!co)return tl(n),null}else 2*Hi()-a.renderingStartTime>rc&&536870912!==t&&(n.flags|=128,l=!0,nl(a,!1),n.lanes=4194304);a.isBackwards?(u.sibling=n.child,n.child=u):(null!==(e=a.last)?e.sibling=u:n.child=u,a.last=u)}return null!==a.tail?(n=a.tail,a.rendering=n,a.tail=n.sibling,a.renderingStartTime=Hi(),n.sibling=null,e=Ao.current,y(Ao,l?1&e|2:1&e),n):(tl(n),null);case 22:case 23:return Qe(n),Re(),l=null!==n.memoizedState,null!==e?null!==e.memoizedState!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?!!(536870912&t)&&!(128&n.flags)&&(tl(n),6&n.subtreeFlags&&(n.flags|=8192)):tl(n),null!==(t=n.updateQueue)&&el(n,t.retryQueue),t=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),l=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(l=n.memoizedState.cachePool.pool),l!==t&&(n.flags|=2048),null!==e&&v(ys),null;case 24:return t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),Rt(bs),tl(n),null;case 25:return null}throw Error(r(156,n.tag))}function rl(e,n){switch(H(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return Rt(bs),M(),65536&(e=n.flags)&&!(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return $(n),null;case 13:if(Qe(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(r(340));q()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return v(Ao),null;case 4:return M(),null;case 10:return Rt(n.type),null;case 22:case 23:return Qe(n),Re(),null!==e&&v(ys),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return Rt(bs),null;default:return null}}function al(e,n){switch(H(n),n.tag){case 3:Rt(bs),M();break;case 26:case 27:case 5:$(n);break;case 4:M();break;case 13:Qe(n);break;case 19:v(Ao);break;case 10:Rt(n.type);break;case 22:case 23:Qe(n),Re(),null!==e&&v(ys);break;case 24:Rt(bs)}}function ul(e,n){try{var t=n.updateQueue,l=null!==t?t.lastEffect:null;if(null!==l){var r=l.next;t=r;do{if((t.tag&e)===e){l=void 0;var a=t.create,u=t.inst;l=a(),u.destroy=l}t=t.next}while(t!==r)}}catch(e){Er(n,n.return,e)}}function il(e,n,t){try{var l=n.updateQueue,r=null!==l?l.lastEffect:null;if(null!==r){var a=r.next;l=a;do{if((l.tag&e)===e){var u=l.inst,i=u.destroy;if(void 0!==i){u.destroy=void 0,r=n;var o=t;try{i()}catch(e){Er(r,o,e)}}}l=l.next}while(l!==a)}}catch(e){Er(n,n.return,e)}}function ol(e){var n=e.updateQueue;if(null!==n){var t=e.stateNode;try{ye(n,t)}catch(n){Er(e,e.return,n)}}}function sl(e,n,t){t.props=et(e.type,e.memoizedProps),t.state=e.memoizedState;try{t.componentWillUnmount()}catch(t){Er(e,n,t)}}function cl(e,n){try{var t=e.ref;if(null!==t){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=Na(l);break;default:r=l}"function"==typeof t?e.refCleanup=t(r):t.current=r}}catch(t){Er(e,n,t)}}function fl(e,n){var t=e.ref,l=e.refCleanup;if(null!==t)if("function"==typeof l)try{l()}catch(t){Er(e,n,t)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof t)try{t(null)}catch(t){Er(e,n,t)}else t.current=null}function dl(e){var n=e.type,t=e.memoizedProps,l=e.stateNode;try{bu(l,n,t,e)}catch(n){Er(e,e.return,n)}}function pl(e,n,t){try{vu(e.stateNode,e.type,t,n,e)}catch(n){Er(e,e.return,n)}}function ml(e){return 5===e.tag||3===e.tag||!!ui&&26===e.tag||!!Si&&27===e.tag||4===e.tag}function hl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&(!Si||27!==e.tag)&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,n,t){var l=e.tag;if(5===l||6===l)e=e.stateNode,n?Su(t,e,n):hu(t,e);else if(!(4===l||Si&&27===l)&&null!==(e=e.child))for(gl(e,n,t),e=e.sibling;null!==e;)gl(e,n,t),e=e.sibling}function bl(e,n,t){var l=e.tag;if(5===l||6===l)e=e.stateNode,n?yu(t,e,n):mu(t,e);else if(!(4===l||Si&&27===l)&&null!==(e=e.child))for(bl(e,n,t),e=e.sibling;null!==e;)bl(e,n,t),e=e.sibling}function vl(e,n,t){e=e.containerInfo;try{Iu(e,t)}catch(e){Er(n,n.return,e)}}function yl(e,n){for(_a(e.containerInfo),xs=n;null!==xs;)if(n=(e=xs).child,1028&e.subtreeFlags&&null!==n)n.return=e,xs=n;else for(;null!==xs;){var t=(e=xs).alternate;switch(n=e.flags,e.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&n&&null!==t){n=void 0;var l=e,a=t.memoizedProps;t=t.memoizedState;var u=l.stateNode;try{var i=et(l.type,a,(l.elementType,l.type));n=u.getSnapshotBeforeUpdate(i,t),u.__reactInternalSnapshotBeforeUpdate=n}catch(e){Er(l,l.return,e)}}break;case 3:1024&n&&Ma&&Eu(e.stateNode.containerInfo);break;default:if(1024&n)throw Error(r(163))}if(null!==(n=e.sibling)){n.return=e.return,xs=n;break}xs=e.return}return i=Ps,Ps=!1,i}function Sl(e,n,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Tl(e,t),4&l&&ul(5,t);break;case 1:if(Tl(e,t),4&l)if(e=t.stateNode,null===n)try{e.componentDidMount()}catch(e){Er(t,t.return,e)}else{var r=et(t.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Er(t,t.return,e)}}64&l&&ol(t),512&l&&cl(t,t.return);break;case 3:if(Tl(e,t),64&l&&null!==(l=t.updateQueue)){if(e=null,null!==t.child)switch(t.child.tag){case 27:case 5:e=Na(t.child.stateNode);break;case 1:e=t.child.stateNode}try{ye(l,e)}catch(e){Er(t,t.return,e)}}break;case 26:if(ui){Tl(e,t),512&l&&cl(t,t.return);break}case 27:case 5:Tl(e,t),null===n&&4&l&&dl(t),512&l&&cl(t,t.return);break;case 12:Tl(e,t);break;case 13:Tl(e,t),4&l&&xl(e,t);break;case 22:if(!(r=null!==t.memoizedState||Ss)){n=null!==n&&null!==n.memoizedState||ks;var a=Ss,u=ks;Ss=r,(ks=n)&&!u?Il(e,t,!!(8772&t.subtreeFlags)):Tl(e,t),Ss=a,ks=u}512&l&&("manual"===t.memoizedProps.mode?cl(t,t.return):fl(t,t.return));break;default:Tl(e,t)}}function kl(e){var n=e.alternate;null!==n&&(e.alternate=null,kl(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&Ya(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zl(e,n,t){for(t=t.child;null!==t;)wl(e,n,t),t=t.sibling}function wl(e,n,t){if(Oi&&"function"==typeof Oi.onCommitFiberUnmount)try{Oi.onCommitFiberUnmount(Vi,t)}catch(e){}switch(t.tag){case 26:if(ui){ks||fl(t,n),zl(e,n,t),t.memoizedState?fi(t.memoizedState):t.stateNode&&mi(t.stateNode);break}case 27:if(Si){ks||fl(t,n);var l=Ns,r=Cs;Ns=t.stateNode,zl(e,n,t),xi(t.stateNode),Ns=l,Cs=r;break}case 5:ks||fl(t,n);case 6:if(Ma){if(l=Ns,r=Cs,Ns=null,zl(e,n,t),Cs=r,null!==(Ns=l))if(Cs)try{zu(Ns,t.stateNode)}catch(e){Er(t,n,e)}else try{ku(Ns,t.stateNode)}catch(e){Er(t,n,e)}}else zl(e,n,t);break;case 18:Ma&&null!==Ns&&(Cs?ti(Ns,t.stateNode):ni(Ns,t.stateNode));break;case 4:Ma?(l=Ns,r=Cs,Ns=t.stateNode.containerInfo,Cs=!0,zl(e,n,t),Ns=l,Cs=r):(Wa&&vl(t.stateNode,t,Lu()),zl(e,n,t));break;case 0:case 11:case 14:case 15:ks||il(2,t,n),ks||il(4,t,n),zl(e,n,t);break;case 1:ks||(fl(t,n),"function"==typeof(l=t.stateNode).componentWillUnmount&&sl(t,n,l)),zl(e,n,t);break;case 21:zl(e,n,t);break;case 22:ks||fl(t,n),ks=(l=ks)||null!==t.memoizedState,zl(e,n,t),ks=l;break;default:zl(e,n,t)}}function xl(e,n){if($a&&null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{ei(e)}catch(e){Er(n,n.return,e)}}function Pl(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new ws),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new ws),n;default:throw Error(r(435,e.tag))}}function Nl(e,n){var t=Pl(e);n.forEach(function(n){var l=Ir.bind(null,e,n);t.has(n)||(t.add(n),n.then(l,l))})}function Cl(e,n){var t=n.deletions;if(null!==t)for(var l=0;l<t.length;l++){var a=t[l],u=e,i=n;if(Ma){var o=i;e:for(;null!==o;){switch(o.tag){case 27:case 5:Ns=o.stateNode,Cs=!1;break e;case 3:case 4:Ns=o.stateNode.containerInfo,Cs=!0;break e}o=o.return}if(null===Ns)throw Error(r(160));wl(u,i,a),Ns=null,Cs=!1}else wl(u,i,a);null!==(u=a.alternate)&&(u.return=null),a.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)El(n,e),n=n.sibling}function El(e,n){var t=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cl(n,e),_l(e),4&l&&(il(3,e,e.return),ul(3,e),il(5,e,e.return));break;case 1:Cl(n,e),_l(e),512&l&&(ks||null===t||fl(t,t.return)),64&l&&Ss&&(null!==(e=e.updateQueue)&&(null!==(l=e.callbacks)&&(t=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===t?l:t.concat(l))));break;case 26:if(ui){var a=Es;Cl(n,e),_l(e),512&l&&(ks||null===t||fl(t,t.return)),4&l&&(l=null!==t?t.memoizedState:null,n=e.memoizedState,null===t?null===n?null===e.stateNode?e.stateNode=di(a,e.type,e.memoizedProps,e):pi(a,e.type,e.stateNode):e.stateNode=ci(a,n,e.memoizedProps):l!==n?(null===l?null!==t.stateNode&&mi(t.stateNode):fi(l),null===n?pi(a,e.type,e.stateNode):ci(a,n,e.memoizedProps)):null===n&&null!==e.stateNode&&pl(e,e.memoizedProps,t.memoizedProps));break}case 27:if(Si&&4&l&&null===e.alternate){a=e.stateNode;var u=e.memoizedProps;try{zi(a),wi(e.type,u,a,e)}catch(n){Er(e,e.return,n)}}case 5:if(Cl(n,e),_l(e),512&l&&(ks||null===t||fl(t,t.return)),Ma){if(32&e.flags){n=e.stateNode;try{wu(n)}catch(n){Er(e,e.return,n)}}4&l&&null!=e.stateNode&&pl(e,n=e.memoizedProps,null!==t?t.memoizedProps:n),1024&l&&(zs=!0)}break;case 6:if(Cl(n,e),_l(e),4&l&&Ma){if(null===e.stateNode)throw Error(r(162));l=e.memoizedProps,t=null!==t?t.memoizedProps:l,n=e.stateNode;try{gu(n,t,l)}catch(n){Er(e,e.return,n)}}break;case 3:if(ui?(gi(),a=Es,Es=oi(n.containerInfo),Cl(n,e),Es=a):Cl(n,e),_l(e),4&l){if(Ma&&$a&&null!==t&&t.memoizedState.isDehydrated)try{Zu(n.containerInfo)}catch(n){Er(e,e.return,n)}if(Wa){l=n.containerInfo,t=n.pendingChildren;try{Iu(l,t)}catch(n){Er(e,e.return,n)}}}zs&&(zs=!1,Ll(e));break;case 4:ui?(t=Es,Es=oi(e.stateNode.containerInfo),Cl(n,e),_l(e),Es=t):(Cl(n,e),_l(e)),4&l&&Wa&&vl(e.stateNode,e,e.stateNode.pendingChildren);break;case 12:Cl(n,e),_l(e);break;case 13:Cl(n,e),_l(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==t&&null!==t.memoizedState)&&(lc=Hi()),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,Nl(e,l)));break;case 22:512&l&&(ks||null===t||fl(t,t.return)),a=null!==e.memoizedState;var i=null!==t&&null!==t.memoizedState,o=Ss,s=ks;if(Ss=o||a,ks=s||i,Cl(n,e),ks=s,Ss=o,_l(e),(n=e.stateNode)._current=e,n._visibility&=-3,n._visibility|=2&n._pendingVisibility,8192&l&&(n._visibility=a?-2&n._visibility:1|n._visibility,a&&(n=Ss||ks,null===t||i||n||Rl(e)),Ma&&(null===e.memoizedProps||"manual"!==e.memoizedProps.mode)))e:if(t=null,Ma)for(n=e;;){if(5===n.tag||ui&&26===n.tag||Si&&27===n.tag){if(null===t){i=t=n;try{u=i.stateNode,a?xu(u):Nu(i.stateNode,i.memoizedProps)}catch(e){Er(i,i.return,e)}}}else if(6===n.tag){if(null===t){i=n;try{var c=i.stateNode;a?Pu(c):Cu(c,i.memoizedProps)}catch(e){Er(i,i.return,e)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;t===n&&(t=null),n=n.return}t===n&&(t=null),n.sibling.return=n.return,n=n.sibling}4&l&&(null!==(l=e.updateQueue)&&(null!==(t=l.retryQueue)&&(l.retryQueue=null,Nl(e,t))));break;case 19:Cl(n,e),_l(e),4&l&&(null!==(l=e.updateQueue)&&(e.updateQueue=null,Nl(e,l)));break;case 21:break;default:Cl(n,e),_l(e)}}function _l(e){var n=e.flags;if(2&n){try{if(Ma&&(!Si||27!==e.tag)){e:{for(var t=e.return;null!==t;){if(ml(t)){var l=t;break e}t=t.return}throw Error(r(160))}switch(l.tag){case 27:if(Si){var a=l.stateNode;bl(e,hl(e),a);break}case 5:var u=l.stateNode;32&l.flags&&(wu(u),l.flags&=-33),bl(e,hl(e),u);break;case 3:case 4:var i=l.stateNode.containerInfo;gl(e,hl(e),i);break;default:throw Error(r(161))}}}catch(n){Er(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Ll(n),5===n.tag&&1024&n.flags&&lu(n.stateNode),e=e.sibling}}function Tl(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)Sl(e,n.alternate,n),n=n.sibling}function Rl(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:il(4,n,n.return),Rl(n);break;case 1:fl(n,n.return);var t=n.stateNode;"function"==typeof t.componentWillUnmount&&sl(n,n.return,t),Rl(n);break;case 26:case 27:case 5:fl(n,n.return),Rl(n);break;case 22:fl(n,n.return),null===n.memoizedState&&Rl(n);break;default:Rl(n)}e=e.sibling}}function Il(e,n,t){for(t=t&&!!(8772&n.subtreeFlags),n=n.child;null!==n;){var l=n.alternate,r=e,a=n,u=a.flags;switch(a.tag){case 0:case 11:case 15:Il(r,a,t),ul(4,a);break;case 1:if(Il(r,a,t),"function"==typeof(r=(l=a).stateNode).componentDidMount)try{r.componentDidMount()}catch(e){Er(l,l.return,e)}if(null!==(r=(l=a).updateQueue)){var i=l.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)ve(o[r],i)}catch(e){Er(l,l.return,e)}}t&&64&u&&ol(a),cl(a,a.return);break;case 26:case 27:case 5:Il(r,a,t),t&&null===l&&4&u&&dl(a),cl(a,a.return);break;case 12:default:Il(r,a,t);break;case 13:Il(r,a,t),t&&4&u&&xl(r,a);break;case 22:null===a.memoizedState&&Il(r,a,t),cl(a,a.return)}n=n.sibling}}function Fl(e,n){var t=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(t=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==t&&(null!=e&&e.refCount++,null!=t&&$t(t))}function Ul(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&$t(e))}function Ql(e,n,t,l){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)Dl(e,n,t,l),n=n.sibling}function Dl(e,n,t,l){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n,t,l),2048&r&&ul(9,n);break;case 3:Ql(e,n,t,l),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&$t(e)));break;case 12:if(2048&r){Ql(e,n,t,l),e=n.stateNode;try{var a=n.memoizedProps,u=a.id,i=a.onPostCommit;"function"==typeof i&&i(u,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(e){Er(n,n.return,e)}}else Ql(e,n,t,l);break;case 23:break;case 22:a=n.stateNode,null!==n.memoizedState?4&a._visibility?Ql(e,n,t,l):jl(e,n):4&a._visibility?Ql(e,n,t,l):(a._visibility|=4,Hl(e,n,t,l,!!(10256&n.subtreeFlags))),2048&r&&Fl(n.alternate,n);break;case 24:Ql(e,n,t,l),2048&r&&Ul(n.alternate,n);break;default:Ql(e,n,t,l)}}function Hl(e,n,t,l,r){for(r=r&&!!(10256&n.subtreeFlags),n=n.child;null!==n;){var a=e,u=n,i=t,o=l,s=u.flags;switch(u.tag){case 0:case 11:case 15:Hl(a,u,i,o,r),ul(8,u);break;case 23:break;case 22:var c=u.stateNode;null!==u.memoizedState?4&c._visibility?Hl(a,u,i,o,r):jl(a,u):(c._visibility|=4,Hl(a,u,i,o,r)),r&&2048&s&&Fl(u.alternate,u);break;case 24:Hl(a,u,i,o,r),r&&2048&s&&Ul(u.alternate,u);break;default:Hl(a,u,i,o,r)}n=n.sibling}}function jl(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var t=e,l=n,r=l.flags;switch(l.tag){case 22:jl(t,l),2048&r&&Fl(l.alternate,l);break;case 24:jl(t,l),2048&r&&Ul(l.alternate,l);break;default:jl(t,l)}n=n.sibling}}function Ml(e){if(e.subtreeFlags&_s)for(e=e.child;null!==e;)Wl(e),e=e.sibling}function Wl(e){switch(e.tag){case 26:Ml(e),e.flags&_s&&(null!==e.memoizedState?yi(Es,e.memoizedState,e.memoizedProps):Za(e.type,e.memoizedProps));break;case 5:Ml(e),e.flags&_s&&Za(e.type,e.memoizedProps);break;case 3:case 4:if(ui){var n=Es;Es=oi(e.stateNode.containerInfo),Ml(e),Es=n}else Ml(e);break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=_s,_s=16777216,Ml(e),_s=n):Ml(e));break;default:Ml(e)}}function $l(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function Al(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];xs=l,Ol(l,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Bl(e),e=e.sibling}function Bl(e){switch(e.tag){case 0:case 11:case 15:Al(e),2048&e.flags&&il(9,e,e.return);break;case 3:case 12:default:Al(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&4&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-5,Vl(e)):Al(e)}}function Vl(e){var n=e.deletions;if(16&e.flags){if(null!==n)for(var t=0;t<n.length;t++){var l=n[t];xs=l,Ol(l,e)}$l(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:il(8,n,n.return),Vl(n);break;case 22:4&(t=n.stateNode)._visibility&&(t._visibility&=-5,Vl(n));break;default:Vl(n)}e=e.sibling}}function Ol(e,n){for(;null!==xs;){var t=xs;switch(t.tag){case 0:case 11:case 15:il(8,t,n);break;case 23:case 22:if(null!==t.memoizedState&&null!==t.memoizedState.cachePool){var l=t.memoizedState.cachePool.pool;null!=l&&l.refCount++}break;case 24:$t(t.memoizedState.cache)}if(null!==(l=t.child))l.return=t,xs=l;else e:for(t=e;null!==xs;){var r=(l=xs).sibling,a=l.return;if(kl(l),l===t){xs=null;break e}if(null!==r){r.return=a,xs=r;break e}xs=a}}}function ql(e){var n=Aa(e);if(null!=n){if("string"!=typeof n.memoizedProps["data-testname"])throw Error(r(364));return n}if(null===(e=iu(e)))throw Error(r(362));return e.stateNode.current}function Gl(e,n){var t=e.tag;switch(n.$$typeof){case Ts:if(e.type===n.value)return!0;break;case Rs:e:{for(n=n.value,e=[e,0],t=0;t<e.length;){var l=e[t++],a=l.tag,u=e[t++],i=n[u];if(5!==a&&26!==a&&27!==a||!cu(l)){for(;null!=i&&Gl(l,i);)i=n[++u];if(u===n.length){n=!0;break e}for(l=l.child;null!==l;)e.push(l,u),l=l.sibling}}n=!1}return n;case Is:if((5===t||26===t||27===t)&&fu(e.stateNode,n.value))return!0;break;case Us:if((5===t||6===t||26===t||27===t)&&(null!==(e=su(e))&&0<=e.indexOf(n.value)))return!0;break;case Fs:if((5===t||26===t||27===t)&&("string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function Yl(e){switch(e.$$typeof){case Ts:return"<"+(i(e.value)||"Unknown")+">";case Rs:return":has("+(Yl(e)||"")+")";case Is:return'[role="'+e.value+'"]';case Us:return'"'+e.value+'"';case Fs:return'[data-testname="'+e.value+'"]';default:throw Error(r(365))}}function Kl(e,n){var t=[];e=[e,0];for(var l=0;l<e.length;){var r=e[l++],a=r.tag,u=e[l++],i=n[u];if(5!==a&&26!==a&&27!==a||!cu(r)){for(;null!=i&&Gl(r,i);)i=n[++u];if(u===n.length)t.push(r);else for(r=r.child;null!==r;)e.push(r,u),r=r.sibling}}return t}function Jl(e,n){if(!uu)throw Error(r(363));e=Kl(e=ql(e),n),n=[],e=Array.from(e);for(var t=0;t<e.length;){var l=e[t++],a=l.tag;if(5===a||26===a||27===a)cu(l)||n.push(l.stateNode);else for(l=l.child;null!==l;)e.push(l),l=l.sibling}return n}function Xl(){if(2&Hs&&0!==Ws)return Ws&-Ws;if(null!==Sa.T){return 0!==No?No:ie()}return qa()}function Zl(){0===Xs&&(Xs=536870912&Ws&&!co?536870912:x());var e=Wo.current;return null!==e&&(e.flags|=32),Xs}function er(e,n,t){(e===js&&2===$s||null!==e.cancelPendingCommit)&&(or(e,0),ar(e,Ws,Xs,!1)),C(e,t),2&Hs&&e===js||(e===js&&(!(2&Hs)&&(Ks|=t),4===Gs&&ar(e,Ws,Xs,!1)),ne(e))}function nr(e,n,t){if(6&Hs)throw Error(r(327));for(var l=!t&&!(60&n)&&0===(n&e.expiredLanes)||z(e,n),a=l?gr(e,n):mr(e,n,!0),u=l;;){if(0===a){Vs&&!l&&ar(e,n,0,!1);break}if(6===a)ar(e,n,0,!Bs);else{if(t=e.current.alternate,u&&!rr(t)){a=mr(e,n,!1),u=!1;continue}if(2===a){if(u=n,e.errorRecoveryDisabledLanes&u)var i=0;else i=0!==(i=-536870913&e.pendingLanes)?i:536870912&i?536870912:0;if(0!==i){n=i;e:{var o=e;a=ec;var s=$a&&o.current.memoizedState.isDehydrated;if(s&&(or(o,i).flags|=256),2!==(i=mr(o,i,!1))){if(Os&&!s){o.errorRecoveryDisabledLanes|=u,Ks|=u,a=4;break e}u=nc,nc=a,null!==u&&tr(u)}a=i}if(u=!1,2!==a)continue}}if(1===a){or(e,0),ar(e,n,0,!0);break}e:{switch(l=e,a){case 0:case 1:throw Error(r(345));case 4:if((4194176&n)===n){ar(l,n,Xs,!Bs);break e}break;case 2:nc=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=t,l.finishedLanes=n,(62914560&n)===n&&10<(u=lc+300-Hi())){if(ar(l,n,Xs,!Bs),0!==k(l,0))break e;l.timeoutHandle=Qa(lr.bind(null,l,t,nc,ac,tc,n,Xs,Ks,Zs,Bs,2,-0,0),u)}else lr(l,t,nc,ac,tc,n,Xs,Ks,Zs,Bs,0,-0,0)}}break}ne(e)}function tr(e){null===nc?nc=e:nc.push.apply(nc,e)}function lr(e,n,t,l,r,a,u,i,o,s,c,f,d){var p=n.subtreeFlags;if((8192&p||!(16785408&~p))&&(Xa(),Wl(n),null!==(n=eu())))return e.cancelPendingCommit=n(wr.bind(null,e,t,l,r,u,i,o,1,f,d)),void ar(e,a,u,!s);wr(e,t,l,r,u,i,o,c,f,d)}function rr(e){for(var n=e;;){var t=n.tag;if((0===t||11===t||15===t)&&16384&n.flags&&(null!==(t=n.updateQueue)&&null!==(t=t.stores)))for(var l=0;l<t.length;l++){var r=t[l],a=r.getSnapshot;r=r.value;try{if(!qi(a(),r))return!1}catch(e){return!1}}if(t=n.child,16384&n.subtreeFlags&&null!==t)t.return=n,n=t;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(e,n,t,l){n&=~Js,n&=~Ks,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var r=n;0<r;){var a=31-_i(r),u=1<<a;l[a]=-1,r&=~u}0!==t&&_(e,t,n)}function ur(){return!!(6&Hs)||(te(0,!1),!1)}function ir(){if(null!==Ms){if(0===$s)var e=Ms.return;else ps=ds=null,Oe(e=Ms),Uo=null,Qo=0,e=Ms;for(;null!==e;)al(e.alternate,e),e=e.return;Ms=null}}function or(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;t!==Ha&&(e.timeoutHandle=Ha,Da(t)),null!==(t=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,t()),ir(),js=e,Ms=t=Qr(e.current,null),Ws=n,$s=0,As=null,Bs=!1,Vs=z(e,n),Os=!1,Zs=Xs=Js=Ks=Ys=Gs=0,nc=ec=null,tc=!1,8&n&&(n|=32&n);var l=e.entangledLanes;if(0!==l)for(e=e.entanglements,l&=n;0<l;){var r=31-_i(l),a=1<<r;n|=e[r],l&=~a}return qs=n,Y(),t}function sr(e,n){Vo=null,Sa.H=ts,n===To?(n=xe(),$s=3):n===Ro?(n=xe(),$s=4):$s=n===os?8:null!==n&&"object"==typeof n&&"function"==typeof n.then?6:1,As=n,null===Ms&&(Gs=1,nt(e,F(n,e.current)))}function cr(){var e=Wo.current;return null===e||((4194176&Ws)===Ws?null===$o:!!((62914560&Ws)===Ws||536870912&Ws)&&e===$o)}function fr(){var e=Sa.H;return Sa.H=ts,null===e?ts:e}function dr(){var e=Sa.A;return Sa.A=Ls,e}function pr(){Gs=4,Bs||(4194176&Ws)!==Ws&&null!==Wo.current||(Vs=!0),!(134217727&Ys)&&!(134217727&Ks)||null===js||ar(js,Ws,Xs,!1)}function mr(e,n,t){var l=Hs;Hs|=2;var r=fr(),a=dr();js===e&&Ws===n||(ac=null,or(e,n)),n=!1;var u=Gs;e:for(;;)try{if(0!==$s&&null!==Ms){var i=Ms,o=As;switch($s){case 8:ir(),u=6;break e;case 3:case 2:case 6:null===Wo.current&&(n=!0);var s=$s;if($s=0,As=null,Sr(e,i,o,s),t&&Vs){u=0;break e}break;default:s=$s,$s=0,As=null,Sr(e,i,o,s)}}hr(),u=Gs;break}catch(n){sr(e,n)}return n&&e.shellSuspendCounter++,ps=ds=null,Hs=l,Sa.H=r,Sa.A=a,null===Ms&&(js=null,Ws=0,Y()),u}function hr(){for(;null!==Ms;)vr(Ms)}function gr(e,n){var t=Hs;Hs|=2;var l=fr(),a=dr();js!==e||Ws!==n?(ac=null,rc=Hi()+500,or(e,n)):Vs=z(e,n);e:for(;;)try{if(0!==$s&&null!==Ms){n=Ms;var u=As;n:switch($s){case 1:$s=0,As=null,Sr(e,n,u,1);break;case 2:if(ke(u)){$s=0,As=null,yr(n);break}n=function(){2===$s&&js===e&&($s=7),ne(e)},u.then(n,n);break e;case 3:$s=7;break e;case 4:$s=5;break e;case 7:ke(u)?($s=0,As=null,yr(n)):($s=0,As=null,Sr(e,n,u,7));break;case 5:var i=null;switch(Ms.tag){case 26:i=Ms.memoizedState;case 5:case 27:var o=Ms,s=o.type,c=o.pendingProps;if(i?vi(i):Ja(s,c)){$s=0,As=null;var f=o.sibling;if(null!==f)Ms=f;else{var d=o.return;null!==d?(Ms=d,kr(d)):Ms=null}break n}}$s=0,As=null,Sr(e,n,u,5);break;case 6:$s=0,As=null,Sr(e,n,u,6);break;case 8:ir(),Gs=6;break e;default:throw Error(r(462))}}br();break}catch(n){sr(e,n)}return ps=ds=null,Sa.H=l,Sa.A=a,Hs=t,null!==Ms?0:(js=null,Ws=0,Y(),Gs)}function br(){for(;null!==Ms&&!Qi();)vr(Ms)}function vr(e){var n=Lt(e.alternate,e,qs);e.memoizedProps=e.pendingProps,null===n?kr(e):Ms=n}function yr(e){var n=e,t=n.alternate;switch(n.tag){case 15:case 0:n=ht(t,n,n.pendingProps,n.type,void 0,Ws);break;case 11:n=ht(t,n,n.pendingProps,n.type.render,n.ref,Ws);break;case 5:Oe(n);default:al(t,n),n=Lt(t,n=Ms=Dr(n,qs),qs)}e.memoizedProps=e.pendingProps,null===n?kr(e):Ms=n}function Sr(e,n,t,l){ps=ds=null,Oe(n),Uo=null,Qo=0;var r=n.return;try{if(ut(e,r,n,t,Ws))return Gs=1,nt(e,F(t,e.current)),void(Ms=null)}catch(n){if(null!==r)throw Ms=r,n;return Gs=1,nt(e,F(t,e.current)),void(Ms=null)}32768&n.flags?(co||1===l?e=!0:Vs||536870912&Ws?e=!1:(Bs=e=!0,(2===l||3===l||6===l)&&(null!==(l=Wo.current)&&13===l.tag&&(l.flags|=16384))),zr(n,e)):kr(n)}function kr(e){var n=e;do{if(32768&n.flags)return void zr(n,Bs);e=n.return;var t=ll(n.alternate,n,qs);if(null!==t)return void(Ms=t);if(null!==(n=n.sibling))return void(Ms=n);Ms=n=e}while(null!==n);0===Gs&&(Gs=5)}function zr(e,n){do{var t=rl(e.alternate,e);if(null!==t)return t.flags&=32767,void(Ms=t);if(null!==(t=e.return)&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!n&&null!==(e=e.sibling))return void(Ms=e);Ms=e=t}while(null!==e);Gs=6,Ms=null}function wr(e,n,t,l,r,a,u,i,o,s){var c=Sa.T,f=Oa();try{Va(2),Sa.T=null,xr(e,n,t,l,f,r,a,u)}finally{Sa.T=c,Va(f)}}function xr(e,n,t,l,a,u,i,o){do{Nr()}while(null!==oc);if(6&Hs)throw Error(r(327));var s=e.finishedWork;if(l=e.finishedLanes,null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=s.lanes|s.childLanes;if(E(e,l,c|=bo,u,i,o),e===js&&(Ms=js=null,Ws=0),!(10256&s.subtreeFlags)&&!(10256&s.flags)||ic||(ic=!0,cc=c,fc=t,Fi(Wi,function(){return Nr(),null})),t=!!(15990&s.flags),15990&s.subtreeFlags||t?(t=Sa.T,Sa.T=null,u=Oa(),Va(2),i=Hs,Hs|=4,yl(e,s),El(s,e),La(e.containerInfo),e.current=s,Sl(e,s.alternate,s),Di(),Hs=i,Va(u),Sa.T=t):e.current=s,ic?(ic=!1,oc=e,sc=l):Pr(e,c),0===(c=e.pendingLanes)&&(uc=null),R(s.stateNode),ne(e),null!==n)for(a=e.onRecoverableError,s=0;s<n.length;s++)a((c=n[s]).value,{componentStack:c.stack});return 3&sc&&Nr(),c=e.pendingLanes,4194218&l&&42&c?e===pc?dc++:(dc=0,pc=e):dc=0,te(0,!1),null}function Pr(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,$t(n)))}function Nr(){if(null!==oc){var e=oc,n=cc;cc=0;var t=T(sc),l=32>t?32:t;t=Sa.T;var a=Oa();try{if(Va(l),Sa.T=null,null===oc)var u=!1;else{l=fc,fc=null;var i=oc,o=sc;if(oc=null,sc=0,6&Hs)throw Error(r(331));var s=Hs;if(Hs|=4,Bl(i.current),Dl(i,i.current,o,l),Hs=s,te(0,!1),Oi&&"function"==typeof Oi.onPostCommitFiberRoot)try{Oi.onPostCommitFiberRoot(Vi,i)}catch(e){}u=!0}return u}finally{Va(a),Sa.T=t,Pr(e,n)}}return!1}function Cr(e,n,t){n=F(t,n),null!==(e=pe(e,n=lt(e.stateNode,n,2),2))&&(C(e,2),ne(e))}function Er(e,n,t){if(3===e.tag)Cr(e,e,t);else for(;null!==n;){if(3===n.tag){Cr(n,e,t);break}if(1===n.tag){var l=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof l.componentDidCatch&&(null===uc||!uc.has(l))){e=F(t,e),null!==(l=pe(n,t=rt(2),2))&&(at(t,l,n,e),C(l,2),ne(l));break}}n=n.return}}function _r(e,n,t){var l=e.pingCache;if(null===l){l=e.pingCache=new Ds;var r=new Set;l.set(n,r)}else void 0===(r=l.get(n))&&(r=new Set,l.set(n,r));r.has(t)||(Os=!0,r.add(t),e=Lr.bind(null,e,n,t),n.then(e,e))}function Lr(e,n,t){var l=e.pingCache;null!==l&&l.delete(n),e.pingedLanes|=e.suspendedLanes&t,e.warmLanes&=~t,js===e&&(Ws&t)===t&&(4===Gs||3===Gs&&(62914560&Ws)===Ws&&300>Hi()-lc?!(2&Hs)&&or(e,0):Js|=t,Zs===Ws&&(Zs=0)),ne(e)}function Tr(e,n){0===n&&(n=P()),null!==(e=X(e,n))&&(C(e,n),ne(e))}function Rr(e){var n=e.memoizedState,t=0;null!==n&&(t=n.retryLane),Tr(e,t)}function Ir(e,n){var t=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;null!==a&&(t=a.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==l&&l.delete(n),Tr(e,t)}function Fr(e,n,t,l){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Qr(e,n){var l=e.alternate;return null===l?((l=t(e.tag,n,e.key,e.mode)).elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=31457280&e.flags,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Dr(e,n){e.flags&=31457282;var t=e.alternate;return null===t?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=t.childLanes,e.lanes=t.lanes,e.child=t.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=t.memoizedProps,e.memoizedState=t.memoizedState,e.updateQueue=t.updateQueue,e.type=t.type,n=t.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hr(e,n,l,a,u,i){var o=0;if(a=e,"function"==typeof e)Ur(e)&&(o=1);else if("string"==typeof e)o=ui&&Si?ii(e,l,ro.current)?26:Pi(e)?27:5:ui?ii(e,l,ro.current)?26:5:Si&&Pi(e)?27:5;else e:switch(e){case la:return jr(l.children,u,i,n);case ra:o=8,u|=24;break;case aa:return(e=t(12,l,n,2|u)).elementType=aa,e.lanes=i,e;case ca:return(e=t(13,l,n,u)).elementType=ca,e.lanes=i,e;case fa:return(e=t(19,l,n,u)).elementType=fa,e.lanes=i,e;case ma:return Mr(l,u,i,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case ua:case oa:o=10;break e;case ia:o=9;break e;case sa:o=11;break e;case da:o=14;break e;case pa:o=16,a=null;break e}o=29,l=Error(r(130,null===e?"null":typeof e,"")),a=null}return(n=t(o,l,n,u)).elementType=e,n.type=a,n.lanes=i,n}function jr(e,n,l,r){return(e=t(7,e,r,n)).lanes=l,e}function Mr(e,n,l,a){(e=t(22,e,a,n)).elementType=ma,e.lanes=l;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=u._current;if(null===e)throw Error(r(456));if(!(2&u._pendingVisibility)){var n=X(e,2);null!==n&&(u._pendingVisibility|=2,er(n,0,2))}},attach:function(){var e=u._current;if(null===e)throw Error(r(456));if(2&u._pendingVisibility){var n=X(e,2);null!==n&&(u._pendingVisibility&=-3,er(n,0,2))}}};return e.stateNode=u,e}function Wr(e,n,l){return(e=t(6,e,null,n)).lanes=l,e}function $r(e,n,l){return(n=t(4,null!==e.children?e.children:[],e.key,n)).lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ar(e,n,t,l,r,a,u,i){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ha,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.hiddenUpdates=N(null),this.identifierPrefix=l,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=i,this.incompleteTransitions=new Map}function Br(e,n,l,r,a,u,i,o,s,c,f,d){return e=new Ar(e,n,l,i,o,s,c,d),n=1,!0===u&&(n|=24),u=t(3,null,null,n),e.current=u,u.stateNode=e,(n=Wt()).refCount++,e.pooledCache=n,n.refCount++,u.memoizedState={element:r,isDehydrated:l,cache:n},ce(u),e}function Vr(e){return e?e=Ei:Ei}function Or(e){var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return null===(e=null!==(e=m(n))?h(e):null)?null:Na(e.stateNode)}function qr(e,n,t,l,r,a){r=Vr(r),null===l.context?l.context=r:l.pendingContext=r,(l=de(n)).payload={element:t},null!==(a=void 0===a?null:a)&&(l.callback=a),null!==(t=pe(e,l,n))&&(er(t,0,n),me(t,e,n))}function Gr(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var t=e.retryLane;e.retryLane=0!==t&&t<n?t:n}}function Yr(e,n){Gr(e,n),(e=e.alternate)&&Gr(e,n)}var Kr={},Jr=n(u[0]),Xr=n(u[1]),Zr=Object.assign,ea=Symbol.for("react.element"),na=Symbol.for("react.transitional.element"),ta=Symbol.for("react.portal"),la=Symbol.for("react.fragment"),ra=Symbol.for("react.strict_mode"),aa=Symbol.for("react.profiler"),ua=Symbol.for("react.provider"),ia=Symbol.for("react.consumer"),oa=Symbol.for("react.context"),sa=Symbol.for("react.forward_ref"),ca=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),da=Symbol.for("react.memo"),pa=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var ma=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var ha,ga,ba=Symbol.for("react.memo_cache_sentinel"),va=Symbol.iterator,ya=Symbol.for("react.client.reference"),Sa=Jr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ka=!1,za=Array.isArray,wa=e.rendererVersion,xa=e.rendererPackageName,Pa=e.extraDevToolsConfig,Na=e.getPublicInstance,Ca=e.getRootHostContext,Ea=e.getChildHostContext,_a=e.prepareForCommit,La=e.resetAfterCommit,Ta=e.createInstance,Ra=e.appendInitialChild,Ia=e.finalizeInitialChildren,Fa=e.shouldSetTextContent,Ua=e.createTextInstance,Qa=e.scheduleTimeout,Da=e.cancelTimeout,Ha=e.noTimeout,ja=e.isPrimaryRenderer;e.warnsIfNotActing;var Ma=e.supportsMutation,Wa=e.supportsPersistence,$a=e.supportsHydration,Aa=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Ba=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Va=e.setCurrentUpdatePriority,Oa=e.getCurrentUpdatePriority,qa=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Ga=e.shouldAttemptEagerTransition,Ya=e.detachDeletedInstance;e.requestPostPaintCallback;var Ka=e.maySuspendCommit,Ja=e.preloadInstance,Xa=e.startSuspendingCommit,Za=e.suspendInstance,eu=e.waitForCommitToBeReady,nu=e.NotPendingTransition,tu=e.HostTransitionContext,lu=e.resetFormInstance;e.bindToConsole;var ru=e.supportsMicrotasks,au=e.scheduleMicrotask,uu=e.supportsTestSelectors,iu=e.findFiberRoot,ou=e.getBoundingRect,su=e.getTextContent,cu=e.isHiddenSubtree,fu=e.matchAccessibilityRole,du=e.setFocusIfFocusable,pu=e.setupIntersectionObserver,mu=e.appendChild,hu=e.appendChildToContainer,gu=e.commitTextUpdate,bu=e.commitMount,vu=e.commitUpdate,yu=e.insertBefore,Su=e.insertInContainerBefore,ku=e.removeChild,zu=e.removeChildFromContainer,wu=e.resetTextContent,xu=e.hideInstance,Pu=e.hideTextInstance,Nu=e.unhideInstance,Cu=e.unhideTextInstance,Eu=e.clearContainer,_u=e.cloneInstance,Lu=e.createContainerChildSet,Tu=e.appendChildToContainerChildSet,Ru=e.finalizeContainerChildren,Iu=e.replaceContainerChildren,Fu=e.cloneHiddenInstance,Uu=e.cloneHiddenTextInstance,Qu=e.isSuspenseInstancePending,Du=e.isSuspenseInstanceFallback,Hu=e.getSuspenseInstanceFallbackErrorDetails,ju=e.registerSuspenseInstanceRetry,Mu=e.canHydrateFormStateMarker,Wu=e.isFormStateMarkerMatching,$u=e.getNextHydratableSibling,Au=e.getFirstHydratableChild,Bu=e.getFirstHydratableChildWithinContainer,Vu=e.getFirstHydratableChildWithinSuspenseInstance,Ou=e.canHydrateInstance,qu=e.canHydrateTextInstance,Gu=e.canHydrateSuspenseInstance,Yu=e.hydrateInstance,Ku=e.hydrateTextInstance,Ju=e.hydrateSuspenseInstance,Xu=e.getNextHydratableInstanceAfterSuspenseInstance,Zu=e.commitHydratedContainer,ei=e.commitHydratedSuspenseInstance,ni=e.clearSuspenseBoundary,ti=e.clearSuspenseBoundaryFromContainer,li=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var ri=e.validateHydratableInstance,ai=e.validateHydratableTextInstance,ui=e.supportsResources,ii=e.isHostHoistableType,oi=e.getHoistableRoot,si=e.getResource,ci=e.acquireResource,fi=e.releaseResource,di=e.hydrateHoistable,pi=e.mountHoistable,mi=e.unmountHoistable,hi=e.createHoistableInstance,gi=e.prepareToCommitHoistables,bi=e.mayResourceSuspendCommit,vi=e.preloadResource,yi=e.suspendResource,Si=e.supportsSingletons,ki=e.resolveSingletonInstance,zi=e.clearSingleton,wi=e.acquireSingletonInstance,xi=e.releaseSingletonInstance,Pi=e.isHostSingletonType,Ni=[],Ci=-1,Ei={},_i=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Li(e)/Ti|0)|0},Li=Math.log,Ti=Math.LN2,Ri=128,Ii=4194304,Fi=Xr.unstable_scheduleCallback,Ui=Xr.unstable_cancelCallback,Qi=Xr.unstable_shouldYield,Di=Xr.unstable_requestPaint,Hi=Xr.unstable_now,ji=Xr.unstable_ImmediatePriority,Mi=Xr.unstable_UserBlockingPriority,Wi=Xr.unstable_NormalPriority,$i=Xr.unstable_IdlePriority,Ai=Xr.log,Bi=Xr.unstable_setDisableYieldValue,Vi=null,Oi=null,qi="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Gi=new WeakMap,Yi=[],Ki=0,Ji=null,Xi=0,Zi=[],eo=0,no=null,to=1,lo="",ro=b(null),ao=b(null),uo=b(null),io=b(null),oo=null,so=null,co=!1,fo=null,po=!1,mo=Error(r(519)),ho=[],go=0,bo=0,vo=null,yo=null,So=!1,ko=!1,zo=!1,wo=0,xo=null,Po=0,No=0,Co=null,Eo=!1,_o=!1,Lo=Object.prototype.hasOwnProperty,To=Error(r(460)),Ro=Error(r(474)),Io={then:function(){}},Fo=null,Uo=null,Qo=0,Do=_e(!0),Ho=_e(!1),jo=b(null),Mo=b(0),Wo=b(null),$o=null,Ao=b(0),Bo=0,Vo=null,Oo=null,qo=null,Go=!1,Yo=!1,Ko=!1,Jo=0,Xo=0,Zo=null,es=0,ns=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},ts={readContext:Ht,use:Ke,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He};ts.useCacheRefresh=He,ts.useMemoCache=He,ts.useHostTransitionStatus=He,ts.useFormState=He,ts.useActionState=He,ts.useOptimistic=He;var ls={readContext:Ht,use:Ke,useCallback:function(e,n){return qe().memoizedState=[e,void 0===n?null:n],e},useContext:Ht,useEffect:Cn,useImperativeHandle:function(e,n,t){t=null!=t?t.concat([e]):null,Pn(4194308,4,Tn.bind(null,n,e),t)},useLayoutEffect:function(e,n){return Pn(4194308,4,e,n)},useInsertionEffect:function(e,n){Pn(4,2,e,n)},useMemo:function(e,n){var t=qe();n=void 0===n?null:n;var l=e();if(Ko){I(!0);try{e()}finally{I(!1)}}return t.memoizedState=[l,n],l},useReducer:function(e,n,t){var l=qe();if(void 0!==t){var r=t(n);if(Ko){I(!0);try{t(n)}finally{I(!1)}}}else r=n;return l.memoizedState=l.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Bn.bind(null,Vo,e),[l.memoizedState,e]},useRef:function(e){return e={current:e},qe().memoizedState=e},useState:function(e){var n=(e=sn(e)).queue,t=Vn.bind(null,Vo,n);return n.dispatch=t,[e.memoizedState,t]},useDebugValue:In,useDeferredValue:function(e,n){return Qn(qe(),e,n)},useTransition:function(){var e=sn(!1);return e=Hn.bind(null,Vo,e.queue,!0,!1),qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,t){var l=Vo,a=qe();if(co){if(void 0===t)throw Error(r(407));t=t()}else{if(t=n(),null===js)throw Error(r(349));60&Ws||ln(l,n,t)}a.memoizedState=t;var u={value:t,getSnapshot:n};return a.queue=u,Cn(an.bind(null,l,u,e),[e]),l.flags|=2048,wn(9,rn.bind(null,l,u,t,n),{destroy:void 0},null),t},useId:function(){var e=qe(),n=js.identifierPrefix;if(co){var t=lo;n=":"+n+"R"+(t=(to&~(1<<32-_i(to)-1)).toString(32)+t),0<(t=Jo++)&&(n+="H"+t.toString(32)),n+=":"}else n=":"+n+"r"+(t=es++).toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return qe().memoizedState=An.bind(null,Vo)}};ls.useMemoCache=Je,ls.useHostTransitionStatus=Mn,ls.useFormState=vn,ls.useActionState=vn,ls.useOptimistic=function(e){var n=qe();n.memoizedState=n.baseState=e;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=t,n=qn.bind(null,Vo,!0,t),t.dispatch=n,[e,n]};var rs={readContext:Ht,use:Ke,useCallback:Fn,useContext:Ht,useEffect:En,useImperativeHandle:Rn,useInsertionEffect:_n,useLayoutEffect:Ln,useMemo:Un,useReducer:Ze,useRef:xn,useState:function(){return Ze(Xe)},useDebugValue:In,useDeferredValue:function(e,n){return Dn(Ge(),Oo.memoizedState,e,n)},useTransition:function(){var e=Ze(Xe)[0],n=Ge().memoizedState;return["boolean"==typeof e?e:Ye(e),n]},useSyncExternalStore:tn,useId:Wn};rs.useCacheRefresh=$n,rs.useMemoCache=Je,rs.useHostTransitionStatus=Mn,rs.useFormState=yn,rs.useActionState=yn,rs.useOptimistic=function(e,n){return cn(Ge(),0,e,n)};var as={readContext:Ht,use:Ke,useCallback:Fn,useContext:Ht,useEffect:En,useImperativeHandle:Rn,useInsertionEffect:_n,useLayoutEffect:Ln,useMemo:Un,useReducer:nn,useRef:xn,useState:function(){return nn(Xe)},useDebugValue:In,useDeferredValue:function(e,n){var t=Ge();return null===Oo?Qn(t,e,n):Dn(t,Oo.memoizedState,e,n)},useTransition:function(){var e=nn(Xe)[0],n=Ge().memoizedState;return["boolean"==typeof e?e:Ye(e),n]},useSyncExternalStore:tn,useId:Wn};as.useCacheRefresh=$n,as.useMemoCache=Je,as.useHostTransitionStatus=Mn,as.useFormState=zn,as.useActionState=zn,as.useOptimistic=function(e,n){var t=Ge();return null!==Oo?cn(t,0,e,n):(t.baseState=e,[e,t.queue.dispatch])};var us={isMounted:function(e){return!!(e=e._reactInternals)&&d(e)===e},enqueueSetState:function(e,n,t){e=e._reactInternals;var l=Xl(),r=de(l);r.payload=n,null!=t&&(r.callback=t),null!==(n=pe(e,r,l))&&(er(n,0,l),me(n,e,l))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var l=Xl(),r=de(l);r.tag=1,r.payload=n,null!=t&&(r.callback=t),null!==(n=pe(e,r,l))&&(er(n,0,l),me(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Xl(),l=de(t);l.tag=2,null!=n&&(l.callback=n),null!==(n=pe(e,l,t))&&(er(n,0,t),me(n,e,t))}},is="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},os=Error(r(461)),ss=!1,cs={dehydrated:null,treeContext:null,retryLane:0},fs=b(null),ds=null,ps=null,ms="undefined"!=typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,t){e.push(t)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},hs=Xr.unstable_scheduleCallback,gs=Xr.unstable_NormalPriority,bs={$$typeof:oa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},vs=Sa.S;Sa.S=function(e,n){"object"==typeof n&&null!==n&&"function"==typeof n.then&&oe(0,n),null!==vs&&vs(e,n)};var ys=b(null),Ss=!1,ks=!1,zs=!1,ws="function"==typeof WeakSet?WeakSet:Set,xs=null,Ps=!1,Ns=null,Cs=!1,Es=null,_s=8192,Ls={getCacheForType:function(e){var n=Ht(bs),t=n.data.get(e);return void 0===t&&(t=e(),n.data.set(e,t)),t}},Ts=0,Rs=1,Is=2,Fs=3,Us=4;if("function"==typeof Symbol&&Symbol.for){var Qs=Symbol.for;Ts=Qs("selector.component"),Rs=Qs("selector.has_pseudo_class"),Is=Qs("selector.role"),Fs=Qs("selector.test_id"),Us=Qs("selector.text")}var Ds="function"==typeof WeakMap?WeakMap:Map,Hs=0,js=null,Ms=null,Ws=0,$s=0,As=null,Bs=!1,Vs=!1,Os=!1,qs=0,Gs=0,Ys=0,Ks=0,Js=0,Xs=0,Zs=0,ec=null,nc=null,tc=!1,lc=0,rc=1/0,ac=null,uc=null,ic=!1,oc=null,sc=0,cc=0,fc=null,dc=0,pc=null;return Kr.attemptContinuousHydration=function(e){if(13===e.tag){var n=X(e,67108864);null!==n&&er(n,0,67108864),Yr(e,67108864)}},Kr.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var n=Xl(),t=X(e,n);null!==t&&er(t,0,n),Yr(e,n)}},Kr.attemptSynchronousHydration=function(e){switch(e.tag){case 3:if((e=e.stateNode).current.memoizedState.isDehydrated){var n=S(e.pendingLanes);if(0!==n){for(e.pendingLanes|=2,e.entangledLanes|=2;n;){var t=1<<31-_i(n);e.entanglements[1]|=t,n&=~t}ne(e),!(6&Hs)&&(rc=Hi()+500,te(0,!1))}}break;case 13:null!==(n=X(e,2))&&er(n,0,2),ur(),Yr(e,2)}},Kr.batchedUpdates=function(e,n){return e(n)},Kr.createComponentSelector=function(e){return{$$typeof:Ts,value:e}},Kr.createContainer=function(e,n,t,l,r,a,u,i,o,s){return Br(e,n,!1,null,0,l,a,u,i,o,0,null)},Kr.createHasPseudoClassSelector=function(e){return{$$typeof:Rs,value:e}},Kr.createHydrationContainer=function(e,n,t,l,r,a,u,i,o,s,c,f,d){return(e=Br(t,l,!0,e,0,a,i,o,s,c,0,d)).context=Vr(null),t=e.current,(r=de(l=Xl())).callback=null!=n?n:null,pe(t,r,l),e.current.lanes=l,C(e,l),ne(e),e},Kr.createPortal=function(e,n,t){var l=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:ta,key:null==l?null:""+l,children:e,containerInfo:n,implementation:t}},Kr.createRoleSelector=function(e){return{$$typeof:Is,value:e}},Kr.createTestNameSelector=function(e){return{$$typeof:Fs,value:e}},Kr.createTextSelector=function(e){return{$$typeof:Us,value:e}},Kr.defaultOnCaughtError=function(e){console.error(e)},Kr.defaultOnRecoverableError=function(e){is(e)},Kr.defaultOnUncaughtError=function(e){is(e)},Kr.deferredUpdates=function(e){var n=Sa.T,t=Oa();try{return Va(32),Sa.T=null,e()}finally{Va(t),Sa.T=n}},Kr.discreteUpdates=function(e,n,t,l,r){var a=Sa.T,u=Oa();try{return Va(2),Sa.T=null,e(n,t,l,r)}finally{Va(u),Sa.T=a,0===Hs&&(rc=Hi()+500)}},Kr.findAllNodes=Jl,Kr.findBoundingRects=function(e,n){if(!uu)throw Error(r(363));n=Jl(e,n),e=[];for(var t=0;t<n.length;t++)e.push(ou(n[t]));for(n=e.length-1;0<n;n--)for(var l=(t=e[n]).x,a=l+t.width,u=t.y,i=u+t.height,o=n-1;0<=o;o--)if(n!==o){var s=e[o],c=s.x,f=c+s.width,d=s.y,p=d+s.height;if(l>=c&&u>=d&&a<=f&&i<=p){e.splice(n,1);break}if(!(l!==c||t.width!==s.width||p<u||d>i)){d>u&&(s.height+=d-u,s.y=u),p<i&&(s.height=i-d),e.splice(n,1);break}if(!(u!==d||t.height!==s.height||f<l||c>a)){c>l&&(s.width+=c-l,s.x=l),f<a&&(s.width=a-c),e.splice(n,1);break}}return e},Kr.findHostInstance=Or,Kr.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=m(e))?g(e):null)?null:Na(e.stateNode)},Kr.findHostInstanceWithWarning=function(e){return Or(e)},Kr.flushPassiveEffects=Nr,Kr.flushSyncFromReconciler=function(e){var n=Hs;Hs|=1;var t=Sa.T,l=Oa();try{if(Va(2),Sa.T=null,e)return e()}finally{Va(l),Sa.T=t,!(6&(Hs=n))&&te(0,!1)}},Kr.flushSyncWork=ur,Kr.focusWithin=function(e,n){if(!uu)throw Error(r(363));for(n=Kl(e=ql(e),n),n=Array.from(n),e=0;e<n.length;){var t=n[e++],l=t.tag;if(!cu(t)){if((5===l||26===l||27===l)&&du(t.stateNode))return!0;for(t=t.child;null!==t;)n.push(t),t=t.sibling}}return!1},Kr.getFindAllNodesFailureDescription=function(e,n){if(!uu)throw Error(r(363));var t=0,l=[];e=[ql(e),0];for(var a=0;a<e.length;){var u=e[a++],i=u.tag,o=e[a++],s=n[o];if((5!==i&&26!==i&&27!==i||!cu(u))&&(Gl(u,s)&&(l.push(Yl(s)),++o>t&&(t=o)),o<n.length))for(u=u.child;null!==u;)e.push(u,o),u=u.sibling}if(t<n.length){for(e=[];t<n.length;t++)e.push(Yl(n[t]));return"findAllNodes was able to match part of the selector:\n  "+l.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},Kr.getPublicRootInstance=function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 27:case 5:return Na(e.child.stateNode);default:return e.child.stateNode}},Kr.injectIntoDevTools=function(){var e={bundleType:0,version:wa,rendererPackageName:xa,currentDispatcherRef:Sa,findFiberByHostInstance:Aa,reconcilerVersion:"19.0.0"};if(null!==Pa&&(e.rendererConfig=Pa),"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)e=!0;else{try{Vi=n.inject(e),Oi=n}catch(e){}e=!!n.checkDCE}}return e},Kr.isAlreadyRendering=function(){return!1},Kr.observeVisibleRects=function(e,n,t,l){if(!uu)throw Error(r(363));e=Jl(e,n);var a=pu(e,t,l).disconnect;return{disconnect:function(){a()}}},Kr.shouldError=function(){return null},Kr.shouldSuspend=function(){return!1},Kr.startHostTransition=function(e,n,t,a){if(5!==e.tag)throw Error(r(476));var u=jn(e).queue;Hn(e,u,n,nu,null===t?l:function(){var n=jn(e).next.queue;return On(e,n,{},Xl()),t(a)})},Kr.updateContainer=function(e,n,t,l){var r=n.current,a=Xl();return qr(r,a,e,n,t,l),a},Kr.updateContainerSync=function(e,n,t,l){return 0===n.tag&&Nr(),qr(n.current,2,e,n,t,l),2},Kr},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})},139,[25,23]);
__d(function(g,r,_i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.suspend=e.preload=e.peek=e.clear=void 0;const t=[];function o(t,o,n=(t,o)=>t===o){if(t===o)return!0;if(!t||!o)return!1;const i=t.length;if(o.length!==i)return!1;for(let s=0;s<i;s++)if(!n(t[s],o[s]))return!1;return!0}function n(n,i=null,s=!1,l={}){null===i&&(i=[n]);for(const n of t)if(o(i,n.keys,n.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(n,'error'))throw n.error;if(Object.prototype.hasOwnProperty.call(n,'response'))return l.lifespan&&l.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,l.lifespan)),n.response;if(!s)throw n.promise}const u={keys:i,equal:l.equal,remove:()=>{const o=t.indexOf(u);-1!==o&&t.splice(o,1)},promise:(p=n,'object'==typeof p&&'function'==typeof p.then?n:n(...i)).then(t=>{u.response=t,l.lifespan&&l.lifespan>0&&(u.timeout=setTimeout(u.remove,l.lifespan))}).catch(t=>u.error=t)};var p;if(t.push(u),!s)throw u.promise}e.suspend=(t,o,i)=>n(t,o,!1,i);e.preload=(t,o,i)=>{n(t,o,!0,i)};e.peek=n=>{var i;return null==(i=t.find(t=>o(n,t.keys,t.equal)))?void 0:i.response};e.clear=n=>{if(void 0===n||0===n.length)t.splice(0,t.length);else{const i=t.find(t=>o(n,t.keys,t.equal));i&&i.remove()}}},140,[]);
__d(function(g,r,i,a,m,e,d){'use strict';m.exports=r(d[0])},141,[142]);
__d(function(g,r,i,a,m,e,d){
/**
   * @license React
   * react-jsx-runtime.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
"use strict";var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(t,o,f){var l=null;if(void 0!==f&&(l=""+f),void 0!==o.key&&(l=""+o.key),"key"in o)for(var y in f={},o)"key"!==y&&(f[y]=o[y]);else f=o;return o=f.ref,{$$typeof:n,type:t,key:l,ref:void 0!==o?o:null,props:f}}e.Fragment=t,e.jsx=o,e.jsxs=o},142,[]);
__d(function(g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.FiberProvider=void 0,_e.traverseFiber=n,_e.useContainer=function(){const t=i(),r=e.useMemo(()=>n(t,!0,e=>{var t;return null!=(null==(t=e.stateNode)?void 0:t.containerInfo)}),[t]);return null==r?void 0:r.stateNode.containerInfo},_e.useContextBridge=function(){const t=a();return e.useMemo(()=>Array.from(t.keys()).reduce((n,r)=>o=>e.createElement(n,null,e.createElement(r.Provider,Object.assign({},o,{value:t.get(r)}))),t=>e.createElement(u,Object.assign({},t))),[t])},_e.useContextMap=a,_e.useFiber=i,_e.useNearestChild=function(r){const o=i(),u=e.useRef(void 0);return t(()=>{var e;u.current=null==(e=n(o,!1,e=>"string"==typeof e.type&&(void 0===r||e.type===r)))?void 0:e.stateNode},[o]),u},_e.useNearestParent=function(r){const o=i(),u=e.useRef(void 0);return t(()=>{var e;u.current=null==(e=n(o,!0,e=>"string"==typeof e.type&&(void 0===r||e.type===r)))?void 0:e.stateNode},[o]),u};var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?o(i,t,u):i[t]=e[t]);return i})(e,t)})(_r(_d[0]));const t=(()=>{var e,t;return"undefined"!=typeof window&&((null==(e=window.document)?void 0:e.createElement)||"ReactNative"===(null==(t=window.navigator)?void 0:t.product))})()?e.useLayoutEffect:e.useEffect;function n(e,t,r){if(!e)return;if(!0===r(e))return e;let o=t?e.return:e.child;for(;o;){const e=n(o,t,r);if(e)return e;o=t?null:o.sibling}}function r(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}const o=r(e.createContext(null));class u extends e.Component{render(){return e.createElement(o.Provider,{value:this._reactInternals},this.props.children)}}function i(){const t=e.useContext(o);if(null===t)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const r=e.useId();return e.useMemo(()=>{for(const e of[t,null==t?void 0:t.alternate]){if(!e)continue;const t=n(e,!1,e=>{let t=e.memoizedState;for(;t;){if(t.memoizedState===r)return!0;t=t.next}});if(t)return t}},[t,r])}_e.FiberProvider=u;const s=Symbol.for("react.context"),c=e=>null!==e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===s;function a(){const t=i(),[n]=e.useState(()=>new Map);n.clear();let u=t;for(;u;){const t=u.type;c(t)&&t!==o&&!n.has(t)&&n.set(t,e.use(r(t))),u=u.return}return n}},143,[25]);
__d(function(_g,_r,_i,_a,_m,_e,_d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({debounce:i,scroll:c,polyfill:l,offsetSize:u}={debounce:0,scroll:!1,offsetSize:!1}){const a=l||("undefined"==typeof window?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[d,f]=(0,e.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),w=(0,e.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:d,orientationHandler:null}),v=i?"number"==typeof i?i:i.scroll:null,h=i?"number"==typeof i?i:i.resize:null,m=(0,e.useRef)(!1);(0,e.useEffect)(()=>(m.current=!0,()=>{m.current=!1}));const[b,E,g]=(0,e.useMemo)(()=>{const e=()=>{if(!w.current.element)return;const{left:e,top:n,width:t,height:r,bottom:o,right:i,x:c,y:l}=w.current.element.getBoundingClientRect(),a={left:e,top:n,width:t,height:r,bottom:o,right:i,x:c,y:l};w.current.element instanceof HTMLElement&&u&&(a.height=w.current.element.offsetHeight,a.width=w.current.element.offsetWidth),Object.freeze(a),m.current&&!s(w.current.lastBounds,a)&&f(w.current.lastBounds=a)};return[e,h?n(e,h):e,v?n(e,v):e]},[f,u,v,h]);function p(){w.current.scrollContainers&&(w.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),w.current.scrollContainers=null),w.current.resizeObserver&&(w.current.resizeObserver.disconnect(),w.current.resizeObserver=null),w.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",w.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",w.current.orientationHandler))}function z(){w.current.element&&(w.current.resizeObserver=new a(g),w.current.resizeObserver.observe(w.current.element),c&&w.current.scrollContainers&&w.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})),w.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",w.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",w.current.orientationHandler))}return r(g,!!c),t(E),(0,e.useEffect)(()=>{p(),z()},[c,g,E]),(0,e.useEffect)(()=>p,[]),[e=>{!e||e===w.current.element||(p(),w.current.element=e,w.current.scrollContainers=o(e),z())},d,b]};var e=_r(_d[0]);function n(e,n){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>e(...r),n)}}function t(n){(0,e.useEffect)(()=>{const e=n;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n])}function r(n,t){(0,e.useEffect)(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}},[n,t])}function o(e){const n=[];if(!e||e===document.body)return n;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[t,r,i].some(e=>"auto"===e||"scroll"===e)&&n.push(e),[...n,...o(e.parentElement)]}const i=["x","y","top","bottom","left","right","width","height"],s=(e,n)=>i.every(t=>e[t]===n[t])},144,[25]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({game:e,onPillarReached:u,setGame:I,endGame:h}){const[f,x]=(0,t.useState)([0,n.CONFIG.PILLAR_HEIGHT+n.CONFIG.BALL_RADIUS+.5,0]),[L,O]=(0,t.useState)(!1),[b,A]=(0,t.useState)({x:0,z:0}),[C,G]=(0,t.useState)(null),[S,y]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e.playing&&0===e.score&&A({x:0,z:0})},[e.playing,e.score]);const[_,j]=(0,t.useState)(o.themeManager.getCurrentTheme());(0,t.useEffect)(()=>{const e=e=>{j(e)};return o.themeManager.addListener(e),()=>{o.themeManager.removeListener(e)}},[]),(0,t.useEffect)(()=>{if(e.targetPillarIndex>0&&e.pillars[e.targetPillarIndex]){const t=e.pillars[e.targetPillarIndex],l=e.pillars[0],i=[t.x-l.x,n.CONFIG.PILLAR_HEIGHT+n.CONFIG.BALL_RADIUS+.5,t.z-l.z];x(i),O(!0),y(!1),A({x:-t.x,z:-t.z})}},[e.targetPillarIndex,e.pillars]);const P=(0,t.useCallback)(()=>{O(!1),setTimeout(()=>u(),50)},[u]),w=(0,t.useMemo)(()=>{if(!e.playing||!e.pillars.length)return[0,n.CONFIG.PILLAR_HEIGHT+n.CONFIG.BALL_RADIUS+.5,0];const t=e.pillars[0],l=e.ballAngle*Math.PI/180,i=n.CONFIG.ROTATION_RADIUS;return[t.x+Math.cos(l)*i+b.x,n.CONFIG.PILLAR_HEIGHT+n.CONFIG.BALL_RADIUS+1.5,t.z+Math.sin(l)*i+b.z]},[e.ballAngle,e.playing,e.pillars,b]),F=(0,t.useCallback)(()=>{if(!e.playing||!e.pillars.length||L)return;const t=e.pillars[0],l=e.ballAngle*Math.PI/180,i=n.CONFIG.ROTATION_RADIUS,o=(t.x,Math.cos(l),n.CONFIG.PILLAR_HEIGHT,n.CONFIG.BALL_RADIUS,t.z,Math.sin(l),(0,r.checkBallCollision)(e));if(o>0&&e.pillars[o]){const t=e.pillars[o],l=[t.x+b.x,n.CONFIG.PILLAR_HEIGHT+n.CONFIG.BALL_RADIUS+.5,t.z+b.z];G(l),y(!0),setTimeout(()=>{y(!1)},2e3)}},[e,b,L]);return(0,l.useFrame)((t,l)=>{if(e.playing&&!e.paused&&I){const e=75;I(t=>{const i=t.ballAngle,n=(i+t.ballSpeed*l*e)%360,o=i>n&&i>270&&n<90||i<90&&n>270&&t.ballDirection<0;let r=t.rotationCount||0,s=t.ballScale;return o&&(r+=1,s>.2&&(s=Math.max(.2,.95*t.ballScale))),Object.assign({},t,{ballAngle:n,ballScale:s,rotationCount:r})})}}),(0,t.useEffect)(()=>{e.showProjection&&(F(),I(e=>Object.assign({},e,{showProjection:!1})))},[e.showProjection,F,I]),e.playing?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("ambientLight",{intensity:.3}),(0,p.jsx)("directionalLight",{position:[10,25,8],intensity:1,castShadow:!0,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-far":50,"shadow-camera-left":-20,"shadow-camera-right":20,"shadow-camera-top":20,"shadow-camera-bottom":-20}),(0,p.jsx)("pointLight",{position:[5,15,5],intensity:.6,color:new i.Color(_.pillar).multiplyScalar(.8)}),(0,p.jsx)("pointLight",{position:[-8,20,-8],intensity:.4,color:new i.Color(_.ball)}),(0,p.jsx)("directionalLight",{position:[-15,10,-15],intensity:.3,color:new i.Color(4474111)}),(0,p.jsx)("fog",{attach:"fog",args:[_.bg,n.CONFIG.FOG[0],n.CONFIG.FOG[1]]}),(0,p.jsxs)("mesh",{position:[0,-.1,0],receiveShadow:!0,children:[(0,p.jsx)("planeGeometry",{args:[200,200]}),(0,p.jsx)("meshLambertMaterial",{color:new i.Color(_.bg).multiplyScalar(1.2),transparent:!0,opacity:.3})]}),e.pillars.map((e,t)=>(0,p.jsx)(c.default,{position:[e.x+b.x,0,e.z+b.z],radius:e.r,color:_.pillar,opacity:Math.max(1-.1*t,.4),pillarIndex:t},e.id)),(0,p.jsx)(s.default,{position:w,targetPosition:f,isJumping:L,rotationSpeed:e.ballSpeed,onJumpComplete:P,color:_.ball,scale:e.ballScale,isOrbiting:!0}),S&&C&&(0,p.jsx)(s.default,{position:C,color:_.ball,scale:.8,isOrbiting:!1,isProjection:!0})]}):null};var t=u(_r(d[1])),l=_r(d[2]),i=u(_r(d[3])),n=_r(d[4]),o=_r(d[5]),r=_r(d[6]),s=e(_r(d[7])),c=e(_r(d[8])),p=_r(d[9]);function u(e,t){if("function"==typeof WeakMap)var l=new WeakMap,i=new WeakMap;return(u=function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(n=t?i:l){if(n.has(e))return n.get(e);n.set(e,r)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?n(r,t,o):r[t]=e[t]);return r})(e,t)}},145,[1,25,125,128,146,147,148,149,150,141]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.STORAGE_KEYS=e.PERFORMANCE=e.MOBILE_OPTIMIZATIONS=e.CONFIG=e.COLOR_SCHEMES=void 0;l(r(d[1]));var n=l(r(d[2]));const{width:E,height:t}=n.default.get('window'),A=E>=768,p=!0,s=e.PERFORMANCE={GEOMETRY_SEGMENTS:24,PIXEL_RATIO:Math.min('undefined'!=typeof window&&window.devicePixelRatio||1,2),TARGET_FPS:60,SHADOW_MAP_SIZE:2048,ANTIALIAS:p,PRECISION:'highp',ENABLE_SHADOWS:p,ENABLE_FOG:!0,ENABLE_BLOOM:p,PILLAR_LOD_DISTANCE:50,BALL_LOD_DISTANCE:30};e.CONFIG={PILLAR_COUNT:6,PILLAR_DISTANCE:12,PILLAR_RADIUS:[3,6],PILLAR_HEIGHT:18,TOLERANCE:.9,BALL_RADIUS:1.69,BALL_HEIGHT:2,BALL_SHRINK:[1,.2,.05],ROTATION_RADIUS:10,SPEED:{BASE:2,SCORE_INCREMENT:.2,TIME_INCREMENT:.1,MAX:999},CAMERA:{FOV:A?45:49,Y:80,Z:-25,LOOK_Y:20,FOLLOW_SPEED:.12},FOG:[25,100],GEOMETRY_SEGMENTS:s.GEOMETRY_SEGMENTS},e.COLOR_SCHEMES=[{bg:657935,pillar:1710638,ball:54527,name:'Midnight Ocean',description:'Deep blue serenity'},{bg:1703987,pillar:2956137,ball:16739229,name:'Cosmic Rose',description:'Galactic romance'},{bg:986915,pillar:1450302,ball:8141549,name:'Deep Purple',description:'Royal elegance'},{bg:4386,pillar:13158,ball:65416,name:'Neon Matrix',description:'Digital awakening'},{bg:2956032,pillar:4860928,ball:16753920,name:'Golden Hour',description:'Sunset warmth'},{bg:1968686,pillar:4004472,ball:16724838,name:'Electric Dreams',description:'Vibrant energy'},{bg:857121,pillar:1981066,ball:65535,name:'Cyber Blue',description:'Future tech'},{bg:2754629,pillar:4988309,ball:16498468,name:'Royal Sunset',description:'Majestic twilight'},{bg:792088,pillar:2042167,ball:1096065,name:'Forest Night',description:'Nature\'s calm'},{bg:2039583,pillar:3621201,ball:16096779,name:'Urban Glow',description:'City lights'},{bg:4524554,pillar:8330525,ball:16739179,name:'Crimson Fire',description:'Passionate flame'},{bg:664896,pillar:1982639,ball:6333946,name:'Arctic Blue',description:'Frozen beauty'},{bg:1712172,pillar:2963272,ball:10451690,name:'Twilight Mist',description:'Evening magic'},{bg:2951764,pillar:5972406,ball:12616956,name:'Mystic Purple',description:'Enchanted realm'},{bg:991271,pillar:2112067,ball:3003583,name:'Ocean Depths',description:'Aquatic mystery'},{bg:3938320,pillar:8138002,ball:16486972,name:'Autumn Blaze',description:'Fall splendor'},{bg:1842206,pillar:2894894,ball:31487,name:'Classic Dark',description:'Timeless style'},{bg:15921911,pillar:15066602,ball:31487,name:'Pure Light',description:'Clean minimalism'},{bg:657930,pillar:1842206,ball:3199320,name:'Matrix Green',description:'Code reality'},{bg:2758672,pillar:4528643,ball:16347926,name:'Desert Storm',description:'Sandy adventure'}],e.MOBILE_OPTIMIZATIONS={MAX_GEOMETRY_POOL_SIZE:50,MAX_MATERIAL_POOL_SIZE:30,MEMORY_CLEANUP_INTERVAL:5e3,PERFORMANCE_CHECK_INTERVAL:1e3,TARGET_FRAME_TIME:16.67,PERFORMANCE_ADJUSTMENT_COOLDOWN:2e3,QUALITY_LEVELS:{LOW:{pillarSegments:8,shadowMapSize:512,enableShadows:!1,enableAntialiasing:!1,pixelRatio:1},MEDIUM:{pillarSegments:16,shadowMapSize:1024,enableShadows:!0,enableAntialiasing:!1,pixelRatio:1.5},HIGH:{pillarSegments:32,shadowMapSize:2048,enableShadows:!0,enableAntialiasing:!0,pixelRatio:2}},LOD_DISTANCES:{PILLAR_NEAR:25,PILLAR_FAR:50,BALL_NEAR:15,BALL_FAR:30}},e.STORAGE_KEYS={GAME_SETTINGS:'pillarValley3D_gameSettings',PERFORMANCE_SETTINGS:'pillarValley3D_performanceSettings'}},146,[1,86,123]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.themeManager=e.setTheme=e.setRandomTheme=e.nextTheme=e.getCurrentThemeIndex=e.getCurrentTheme=void 0;var n=r(d[1]);t(r(d[2]));const h=e.themeManager=new class{constructor(){this.currentThemeIndex=0,this.listeners=[],this.loadSavedTheme().catch(t=>{})}async loadSavedTheme(){try{let t=null;if('undefined'!=typeof window&&window.localStorage&&(t=localStorage.getItem('pillarValley_selectedTheme')),null!==t){const h=parseInt(t,10);h>=0&&h<n.COLOR_SCHEMES.length&&(this.currentThemeIndex=h)}}catch(t){}}async saveCurrentTheme(){try{const t=this.currentThemeIndex.toString();'undefined'!=typeof window&&window.localStorage&&localStorage.setItem('pillarValley_selectedTheme',t)}catch(t){}}getCurrentTheme(){return n.COLOR_SCHEMES[this.currentThemeIndex]||n.COLOR_SCHEMES[0]}getCurrentThemeIndex(){return this.currentThemeIndex}setTheme(t){return t>=0&&t<n.COLOR_SCHEMES.length&&(this.currentThemeIndex=t,this.saveCurrentTheme(),this.notifyListeners(),!0)}nextTheme(){const t=(this.currentThemeIndex+1)%n.COLOR_SCHEMES.length;return this.setTheme(t)}previousTheme(){const t=0===this.currentThemeIndex?n.COLOR_SCHEMES.length-1:this.currentThemeIndex-1;return this.setTheme(t)}getRandomTheme(){if(n.COLOR_SCHEMES.length<=1)return this.currentThemeIndex;let t;do{t=Math.floor(Math.random()*n.COLOR_SCHEMES.length)}while(t===this.currentThemeIndex);return t}setRandomTheme(){const t=this.getRandomTheme();return this.setTheme(t)}addListener(t){'function'==typeof t&&-1===this.listeners.indexOf(t)&&this.listeners.push(t)}removeListener(t){const n=this.listeners.indexOf(t);-1!==n&&this.listeners.splice(n,1)}notifyListeners(){const t=this.getCurrentTheme();for(let n=0;n<this.listeners.length;n++)try{this.listeners[n](t,this.currentThemeIndex)}catch(t){}}getAllThemes(){return n.COLOR_SCHEMES}getThemeByIndex(t){return n.COLOR_SCHEMES[t]||n.COLOR_SCHEMES[0]}};e.getCurrentTheme=()=>h.getCurrentTheme();e.getCurrentThemeIndex=()=>h.getCurrentThemeIndex();e.setTheme=t=>h.setTheme(t);e.nextTheme=()=>h.nextTheme();e.setRandomTheme=()=>h.setRandomTheme()},147,[1,146,86]);
__d(function(_g,_r,_i,a,m,e,_d){Object.defineProperty(e,"__esModule",{value:!0}),e.random=e.isValidHex=e.isLightColor=e.hexToColor=e.getNextAngle=e.distance=e.colorToHex=e.checkBallCollision=e.calculateTimeBonus=e.calculateBaseSpeed=e.calculateBallScale=void 0;var l=_r(_d[0]);const t=(l,t)=>l+Math.random()*(t-l);e.random=t;const o=(l,t,o,r)=>Math.sqrt((l-o)**2+(t-r)**2);e.distance=o;e.getNextAngle=()=>t(Math.PI/3,Math.PI/2);e.colorToHex=l=>null==l?'#000000':`#${l.toString(16).padStart(6,'0')}`;e.hexToColor=l=>parseInt(l.replace('#',''),16);e.isValidHex=l=>/^#[0-9A-F]{6}$/i.test(l);e.isLightColor=l=>{if(null==l)return!1;const t=l.toString(16).padStart(6,'0');return(299*parseInt(t.slice(0,2),16)+587*parseInt(t.slice(2,4),16)+114*parseInt(t.slice(4,6),16))/1e3>128};e.calculateBaseSpeed=t=>l.CONFIG.SPEED.BASE+t*l.CONFIG.SPEED.SCORE_INCREMENT;e.calculateTimeBonus=t=>Math.floor(t/1e3)*l.CONFIG.SPEED.TIME_INCREMENT;e.calculateBallScale=t=>{const o=Math.floor(t/1e3);return Math.max(l.CONFIG.BALL_SHRINK[0]*Math.pow(.95,o),l.CONFIG.BALL_SHRINK[1])};e.checkBallCollision=t=>{if(!t.playing||!t.pillars.length)return-1;const r=t.ballAngle*Math.PI/180,n=t.pillars[0];let s=l.CONFIG.ROTATION_RADIUS;if(t.pillars.length>1){let l=1/0;for(let r=1;r<t.pillars.length;r++){const s=t.pillars[r],i=o(n.x,n.z,s.x,s.z);i<l&&(l=i)}s=l}const i=n.x+Math.cos(r)*s,c=n.z+Math.sin(r)*s;for(let l=1;l<t.pillars.length;l++){const r=t.pillars[l];if(o(i,c,r.x,r.z)<=1.2*r.r)return l}return-1}},148,[146]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({position:i,targetPosition:s,isJumping:c,rotationSpeed:l,onJumpComplete:u,color:p,scale:f=1,isOrbiting:h=!1,isProjection:M=!1}){const y=(0,e.useRef)(),w=(0,e.useRef)(),[S,_]=(0,e.useState)(0),P=(0,e.useMemo)(()=>new r.SphereGeometry(n.CONFIG.BALL_RADIUS,20,16),[]),j=(0,e.useMemo)(()=>new r.MeshPhongMaterial({color:new r.Color(p),emissive:new r.Color(p).multiplyScalar(M?.3:.15),shininess:100,specular:new r.Color(16777215).multiplyScalar(.5),transparent:M,opacity:M?.7:1}),[p,M]),O=(0,e.useMemo)(()=>new r.SphereGeometry(1.3*n.CONFIG.BALL_RADIUS,16,12),[]),k=(0,e.useMemo)(()=>new r.MeshBasicMaterial({color:new r.Color(p),transparent:!0,opacity:M?.1:.2,side:r.BackSide}),[p,M]);return(0,t.useFrame)((e,t)=>{if(y.current){if(M){i&&3===i.length&&y.current.position.set(i[0],i[1],i[2]);const r=f*(1+.2*Math.sin(4*e.clock.elapsedTime));y.current.scale.setScalar(r),y.current.rotation.y+=1*t}else{if(h&&l>0&&(y.current.rotation.y+=t*l*1.2,y.current.position.y=i[1]+.1*Math.sin(3*e.clock.elapsedTime)),c&&S<1){const e=Math.min(S+6*t,1);if(_(e),s&&3===s.length){const t=e,r=i,n=s,o=t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,c=4,l=r[0]+(n[0]-r[0])*o,u=r[2]+(n[2]-r[2])*o,p=r[1]+(n[1]-r[1])*o+c*Math.sin(Math.PI*t);y.current.position.set(l,p,u),y.current.rotation.x=.5*Math.sin(Math.PI*t),y.current.rotation.z=.3*Math.sin(Math.PI*t*2)}e>=1&&u&&(y.current.rotation.x=0,y.current.rotation.z=0,u(),_(0))}else if(!c&&i&&3===i.length){const e=y.current.position,n=new r.Vector3(i[0],i[1],i[2]);e.lerp(n,8*t)}y.current.scale.setScalar(f)}w.current&&(w.current.rotation.y+=.5*t,w.current.scale.setScalar(f*(1+.1*Math.sin(2*e.clock.elapsedTime))))}}),(0,o.jsxs)("group",{children:[(0,o.jsx)("mesh",{ref:y,geometry:P,material:j,castShadow:!0,receiveShadow:!0}),!M&&(0,o.jsx)("mesh",{ref:w,geometry:O,material:k,position:i})]})};var e=i(_r(d[0])),t=_r(d[1]),r=i(_r(d[2])),n=_r(d[3]),o=_r(d[4]);function i(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(i=function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?o(s,t,i):s[t]=e[t]);return s})(e,t)}},149,[25,125,128,146,141]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({position:n,radius:i,color:l,opacity:s=1}){const u=(0,e.useMemo)(()=>new o.CylinderGeometry(i,1.1*i,t.CONFIG.PILLAR_HEIGHT,24,1),[i]),c=(0,e.useMemo)(()=>new o.MeshPhongMaterial({color:new o.Color(l),transparent:s<1,opacity:s,shininess:30,specular:new o.Color(l).multiplyScalar(.3),emissive:new o.Color(l).multiplyScalar(.05)}),[l,s]),p=(0,e.useMemo)(()=>new o.CylinderGeometry(.95*i,.95*i,.5,24),[i]),f=(0,e.useMemo)(()=>new o.MeshPhongMaterial({color:new o.Color(l).multiplyScalar(1.2),emissive:new o.Color(l).multiplyScalar(.1),transparent:s<1,opacity:s}),[l,s]);return(0,r.jsxs)("group",{position:n,children:[(0,r.jsx)("mesh",{position:[0,t.CONFIG.PILLAR_HEIGHT/2,0],geometry:u,material:c,castShadow:!0,receiveShadow:!0}),(0,r.jsx)("mesh",{position:[0,t.CONFIG.PILLAR_HEIGHT+.25,0],geometry:p,material:f,castShadow:!0})]})};var e=n(_r(d[0])),o=n(_r(d[1])),t=_r(d[2]),r=_r(d[3]);function n(e,o){if("function"==typeof WeakMap)var t=new WeakMap,r=new WeakMap;return(n=function(e,o){if(!o&&e&&e.__esModule)return e;var n,i,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=o?r:t){if(n.has(e))return n.get(e);n.set(e,l)}for(const o in e)"default"!==o&&{}.hasOwnProperty.call(e,o)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,o))&&(i.get||i.set)?n(l,o,i):l[o]=e[o]);return l})(e,o)}},150,[25,128,146,141]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){let{title:s,onPress:u,icon:y,variant:x="primary",size:z="medium",disabled:S=!1,style:k,textStyle:j,iconColor:v}=t,O=(0,o.default)(t,p);const P=(()=>{switch(x){case'primary':default:return{backgroundColor:'rgba(0, 122, 255, 0.15)',borderColor:'rgba(0, 122, 255, 0.3)'};case'secondary':return{backgroundColor:'rgba(142, 142, 147, 0.12)',borderColor:'rgba(142, 142, 147, 0.25)'};case'accent':return{backgroundColor:'rgba(0, 122, 255, 0.2)',borderColor:'rgba(0, 122, 255, 0.4)'}}})(),F=(()=>{switch(z){case'small':return{paddingHorizontal:C?16:20,paddingVertical:C?8:10,borderRadius:C?10:12};case'large':return{paddingHorizontal:C?24:32,paddingVertical:C?14:16,borderRadius:C?14:16};default:return{paddingHorizontal:C?20:24,paddingVertical:C?10:12,borderRadius:C?12:14}}})(),H=(()=>{switch(z){case'small':return{fontSize:C?14:15,fontWeight:'600',letterSpacing:-.24};case'large':return{fontSize:C?17:19,fontWeight:'600',letterSpacing:-.41};default:return{fontSize:C?16:17,fontWeight:'600',letterSpacing:-.32}}})(),I=(()=>{switch(z){case'small':return C?14:16;case'large':return C?20:24;default:return C?16:18}})();return(0,h.jsx)(n.default,Object.assign({style:[w.cleanButton,F,{backgroundColor:P.backgroundColor,borderColor:P.borderColor},S&&w.disabled,k],onPress:()=>{!S&&u&&(f.HapticFeedback.light(),u())},activeOpacity:S?1:.7},O,{children:(0,h.jsxs)(c.default,{style:w.buttonContent,children:[y&&(0,h.jsx)(b.default,{name:y,size:I,color:v||(S?'rgba(255, 255, 255, 0.3)':'rgba(255, 255, 255, 0.9)'),style:w.buttonIcon}),s&&(0,h.jsx)(l.default,{style:[w.buttonText,H,{color:S?'rgba(255, 255, 255, 0.3)':'rgba(255, 255, 255, 0.9)'},j],children:s})]})}))};var o=t(r(d[1])),n=(t(r(d[2])),t(r(d[3]))),l=t(r(d[4])),c=t(r(d[5])),s=t(r(d[6])),u=(t(r(d[7])),t(r(d[8]))),b=t(r(d[9])),f=r(d[10]),h=r(d[11]);const p=["title","onPress","icon","variant","size","disabled","style","textStyle","iconColor"],{width:y}=u.default.get('window'),C=y<375;const w=s.default.create({cleanButton:{borderWidth:.5,backdropFilter:'blur(20px)',alignItems:'center',justifyContent:'center',shadowColor:'rgba(0, 0, 0, 0.15)',shadowOffset:{width:0,height:1},shadowOpacity:.2,shadowRadius:3,elevation:2},buttonContent:{flexDirection:'row',alignItems:'center',gap:6},buttonIcon:{},buttonText:{textAlign:'center',opacity:1,includeFontPadding:!1,fontFamily:'System'},disabled:{opacity:.3,backgroundColor:'rgba(142, 142, 147, 0.06)',borderColor:'rgba(142, 142, 147, 0.12)'}})},151,[1,126,25,119,122,88,33,86,123,152,225,141]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},152,[1,153]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1])),f=t(r(d[2])),l=t(r(d[3]));e.default=(0,u.default)(l.default,'ionicons',f.default)},153,[1,154,223,224]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"DEFAULT_ICON_COLOR",{enumerable:!0,get:function(){return s.DEFAULT_ICON_COLOR}}),Object.defineProperty(_e,"DEFAULT_ICON_SIZE",{enumerable:!0,get:function(){return s.DEFAULT_ICON_SIZE}}),_e.default=function(t,u,f,c){const l={[u]:f},p=(0,s.default)(t,u,null,c);return class s extends n.default.Component{static defaultProps=p.defaultProps;static Button=(0,r.default)(s);static glyphMap=t;static getRawGlyphMap=()=>t;static getFontFamily=()=>u;static loadFont=()=>e.loadAsync(l);static font=l;_mounted=!1;state={fontIsLoaded:e.isLoaded(u)};async componentDidMount(){this._mounted=!0,this.state.fontIsLoaded||(await e.loadAsync(l),this._mounted&&this.setState({fontIsLoaded:!0}))}componentWillUnmount(){this._mounted=!1}setNativeProps(t){this._icon&&this._icon.setNativeProps(t)}render(){return this.state.fontIsLoaded?(0,i.jsx)(p,Object.assign({ref:t=>{this._icon=t}},this.props)):(0,i.jsx)(o.default,{})}}};var e=u(_r(d[1])),n=t(_r(d[2])),o=t(_r(d[3])),s=u(_r(d[4])),r=t(_r(d[5])),i=_r(d[6]);function u(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(u=function(t,e){if(!e&&t&&t.__esModule)return t;var s,r,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(s=e?o:n){if(s.has(t))return s.get(t);s.set(t,i)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((r=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(r.get||r.set)?s(i,e,r):i[e]=t[e]);return i})(t,e)}},154,[1,155,25,122,217,220,141]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0});var t={useFonts:!0};Object.defineProperty(e,"useFonts",{enumerable:!0,get:function(){return u.useFonts}});var n=r(d[0]);Object.keys(n).forEach(function(o){"default"!==o&&"__esModule"!==o&&(Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===n[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return n[o]}}))});var o=r(d[1]);Object.keys(o).forEach(function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||n in e&&e[n]===o[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return o[n]}}))});var u=r(d[2])},155,[156,214,216]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"FontDisplay",{enumerable:!0,get:function(){return s.FontDisplay}}),e.getLoadedFonts=function(){return t.default.getLoadedFonts()},e.isLoaded=f,e.isLoading=function(o){return o in u.loadPromises},e.loadAsync=function(o,t){const s='undefined'==typeof window;if('object'==typeof o){if(t)return Promise.reject(new n.CodedError("ERR_FONT_API",`No fontFamily can be used for the provided source: ${t}. The second argument of \`loadAsync()\` can only be used with a \`string\` value as the first argument.`));const l=o,u=Object.keys(l);return s?(u.map(o=>(0,c.registerStaticFont)(o,l[o])),Promise.resolve()):Promise.all(u.map(o=>y(o,l[o]))).then(()=>{})}if(s)return(0,c.registerStaticFont)(o,t),Promise.resolve();return y(o,t)},e.unloadAllAsync=async function(){if(!t.default.unloadAllAsync)throw new n.UnavailabilityError('expo-font','unloadAllAsync');if(Object.keys(u.loadPromises).length)throw new n.CodedError("ERR_UNLOAD",`Cannot unload fonts while they're still loading: ${Object.keys(u.loadPromises).join(', ')}`);(0,u.purgeCache)(),await t.default.unloadAllAsync()},e.unloadAsync=async function(o,s){if(!t.default.unloadAsync)throw new n.UnavailabilityError('expo-font','unloadAsync');if('object'==typeof o){if(s)throw new n.CodedError("ERR_FONT_API",`No fontFamily can be used for the provided options: ${s}. The second argument of \`unloadAsync()\` can only be used with a \`string\` value as the first argument.`);const t=o,l=Object.keys(t);return void await Promise.all(l.map(o=>w(o,t[o])))}return await w(o,s)};var n=r(d[1]),t=o(r(d[2])),s=r(d[3]),l=r(d[4]),u=r(d[5]),c=r(d[6]);function f(o){return(0,u.isLoadedInCache)(o)||!!t.default.isLoaded(o)}async function y(o,t){if(!t)throw new n.CodedError("ERR_FONT_SOURCE",`Cannot load null or undefined font source: { "${o}": ${t} }. Expected asset of type \`FontSource\` for fontFamily of name: "${o}"`);if(f(o))return;if(u.loadPromises.hasOwnProperty(o))return u.loadPromises[o];const s=(0,l.getAssetForSource)(t);u.loadPromises[o]=(async()=>{try{await(0,l.loadSingleFontAsync)(o,s),(0,u.markLoaded)(o)}finally{delete u.loadPromises[o]}})(),await u.loadPromises[o]}async function w(o,s){if(f(o)){if((0,u.purgeFontFamilyFromCache)(o),!o)throw new n.CodedError("ERR_FONT_FAMILY","Cannot unload an empty name");await t.default.unloadAsync(o,s)}}},156,[1,157,194,196,197,212,213]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var n={NativeModule:!0,SharedObject:!0,SharedRef:!0,Platform:!0,uuid:!0,EventEmitter:!0,requireNativeViewManager:!0,CodedError:!0,UnavailabilityError:!0,LegacyEventEmitter:!0,NativeModulesProxy:!0};Object.defineProperty(e,"CodedError",{enumerable:!0,get:function(){return _.CodedError}}),Object.defineProperty(e,"EventEmitter",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"LegacyEventEmitter",{enumerable:!0,get:function(){return w.LegacyEventEmitter}}),Object.defineProperty(e,"NativeModule",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"NativeModulesProxy",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"Platform",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"SharedObject",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"SharedRef",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"UnavailabilityError",{enumerable:!0,get:function(){return M.UnavailabilityError}}),Object.defineProperty(e,"requireNativeViewManager",{enumerable:!0,get:function(){return y.requireNativeViewManager}}),Object.defineProperty(e,"uuid",{enumerable:!0,get:function(){return l.default}}),r(d[1]),r(d[2]);var o=t(r(d[3])),u=t(r(d[4])),c=t(r(d[5])),f=t(r(d[6])),l=t(r(d[7])),b=t(r(d[8])),y=r(d[9]),O=r(d[10]);Object.keys(O).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===O[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return O[t]}}))});var p=r(d[11]);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))});var j=r(d[12]);Object.keys(j).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===j[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return j[t]}}))});var P=r(d[13]);Object.keys(P).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===P[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return P[t]}}))});var s=r(d[14]);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))});var v=r(d[15]);Object.keys(v).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===v[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}}))});var E=r(d[16]);Object.keys(E).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===E[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}}))});var h=r(d[17]);Object.keys(h).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||t in e&&e[t]===h[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))});var _=r(d[18]),M=r(d[19]),w=r(d[20]),k=t(r(d[21]))},157,[1,158,159,168,171,172,173,161,175,176,179,180,181,182,183,184,185,186,178,177,187,193]);
__d(function(g,r,i,a,m,e,d){},158,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0});var t={registerWebGlobals:!0};e.registerWebGlobals=b;var l=r(d[1]),n=o(r(d[2])),u=r(d[3]);function b(){globalThis.expo||(globalThis.expo={EventEmitter:l.EventEmitter,NativeModule:l.NativeModule,SharedObject:l.SharedObject,SharedRef:l.SharedRef,modules:globalThis.ExpoDomWebView?.expoModulesProxy??{},uuidv4:n.default.v4,uuidv5:n.default.v5,getViewConfig:()=>{throw new Error('Method not implemented.')},reloadAppAsync:async()=>{window.location.reload()}})}Object.keys(u).forEach(function(o){"default"!==o&&"__esModule"!==o&&(Object.prototype.hasOwnProperty.call(t,o)||o in e&&e[o]===u[o]||Object.defineProperty(e,o,{enumerable:!0,get:function(){return u[o]}}))}),b()},159,[1,160,161,167]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.SharedRef=e.SharedObject=e.NativeModule=e.EventEmitter=void 0;class t{addListener(t,s){this.listeners||(this.listeners=new Map),this.listeners?.has(t)||this.listeners?.set(t,new Set);const n=this.listenerCount(t);return this.listeners?.get(t)?.add(s),0===n&&1===this.listenerCount(t)&&this.startObserving(t),{remove:()=>{this.removeListener(t,s)}}}removeListener(t,s){const n=this.listeners?.get(t)?.delete(s);0===this.listenerCount(t)&&n&&this.stopObserving(t)}removeAllListeners(t){const s=this.listenerCount(t);this.listeners?.get(t)?.clear(),s>0&&this.stopObserving(t)}emit(t,...s){new Set(this.listeners?.get(t)).forEach(t=>{try{t(...s)}catch(t){console.error(t)}})}listenerCount(t){return this.listeners?.get(t)?.size??0}startObserving(t){}stopObserving(t){}}e.EventEmitter=t;e.NativeModule=class extends t{};class s extends t{release(){}}e.SharedObject=s;e.SharedRef=class extends s{nativeRefType='unknown'}},160,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}});var n=t(r(d[1]))},161,[1,162]);
__d(function(g,r,i,a,m,e,d){var _interopRequireDefault=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _sha=_interopRequireDefault(r(d[1])),_v=_interopRequireDefault(r(d[2])),_uuid=r(d[3]);function uuidv4(){return'undefined'==typeof crypto&&'undefined'==typeof window?eval('require')('node:crypto').randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:(0,_v.default)('v5',80,_sha.default),namespace:_uuid.Uuidv5Namespace};var _default=e.default=uuid},162,[1,163,164,166]);
__d(function(g,r,_i,_a,m,_e,_d){'use strict';function e(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:case 3:return t^n^o;case 2:return t&n^t&o^n&o;default:return 0}}function t(e,t){return e<<t|e>>>32-t}Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;_e.default=function(n){const o=[1518500249,1859775393,2400959708,3395469782],l=[1732584193,4023233417,2562383102,271733878,3285377520];if('string'==typeof n){const e=unescape(encodeURIComponent(n));n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t)}n.push(128);const c=n.length/4+2,f=Math.ceil(c/16),a=new Array(f);for(let e=0;e<f;e++){a[e]=new Array(16);for(let t=0;t<16;t++)a[e][t]=n[64*e+4*t]<<24|n[64*e+4*t+1]<<16|n[64*e+4*t+2]<<8|n[64*e+4*t+3]}a[f-1][14]=8*(n.length-1)/Math.pow(2,32),a[f-1][14]=Math.floor(a[f-1][14]),a[f-1][15]=8*(n.length-1)&4294967295;for(let n=0;n<f;n++){const c=new Array(80);for(let e=0;e<16;e++)c[e]=a[n][e];for(let e=16;e<80;e++)c[e]=t(c[e-3]^c[e-8]^c[e-14]^c[e-16],1);let f=l[0],u=l[1],s=l[2],h=l[3],i=l[4];for(let n=0;n<80;n++){const l=Math.floor(n/20),a=t(f,5)+e(l,u,s,h)+i+o[l]+c[n]>>>0;i=h,h=s,s=t(u,30)>>>0,u=f,f=a}l[0]=l[0]+f>>>0,l[1]=l[1]+u>>>0,l[2]=l[2]+s>>>0,l[3]=l[3]+h>>>0,l[4]=l[4]+i>>>0}return[l[0]>>24&255,l[0]>>16&255,l[0]>>8&255,255&l[0],l[1]>>24&255,l[1]>>16&255,l[1]>>8&255,255&l[1],l[2]>>24&255,l[2]>>16&255,l[2]>>8&255,255&l[2],l[3]>>24&255,l[3]>>16&255,l[3]>>8&255,255&l[3],l[4]>>24&255,l[4]>>16&255,l[4]>>8&255,255&l[4]]}},163,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,u,f){const s=function(t,s,i,y){const l=i&&y||0;if('string'==typeof t&&(t=c(t)),'string'==typeof s&&(s=o(s)),!Array.isArray(t))throw TypeError('value must be an array of bytes');if(!Array.isArray(s)||16!==s.length)throw TypeError('namespace must be uuid string or an Array of 16 byte values');const b=f(s.concat(t));if(b[6]=15&b[6]|u,b[8]=63&b[8]|128,i)for(let t=0;t<16;++t)i[l+t]=b[t];return(0,n.default)(b)};try{s.name=t}catch{}return s.DNS='6ba7b810-9dad-11d1-80b4-00c04fd430c8',s.URL='6ba7b811-9dad-11d1-80b4-00c04fd430c8',s};var n=t(r(d[1]));function o(t){const n=[];return t.replace(/[a-fA-F0-9]{2}/g,t=>(n.push(parseInt(t,16)),'')),n}function c(t){t=unescape(encodeURIComponent(t));const n=new Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n}},164,[1,165]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const t=[];for(let n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.default=function(n,o){let u=o||0;const f=t;return[f[n[u++]],f[n[u++]],f[n[u++]],f[n[u++]],'-',f[n[u++]],f[n[u++]],'-',f[n[u++]],f[n[u++]],'-',f[n[u++]],f[n[u++]],'-',f[n[u++]],f[n[u++]],f[n[u++]],f[n[u++]],f[n[u++]],f[n[u++]]].join('')}},165,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.Uuidv5Namespace=void 0;e.Uuidv5Namespace=(function(b){return b.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",b.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",b.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",b.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",b})({})},166,[]);
__d(function(g,r,i,a,m,e,d){},167,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(0,r(d[0]).ensureNativeModulesAreInstalled)();e.default=globalThis.expo.NativeModule},168,[169]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.ensureNativeModulesAreInstalled=function(){if(globalThis.expo)return;try{(0,o.registerWebGlobals)()}catch(l){console.error(`Unable to install Expo modules: ${l}`)}};l(r(d[1])),l(r(d[2]));var o=r(d[3])},169,[1,170,86,159]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u={UIManager:t(r(d[1])).default};e.default=u},170,[1,101]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(0,r(d[0]).ensureNativeModulesAreInstalled)();const l=globalThis.expo.SharedObject;e.default=l},171,[169]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(0,r(d[0]).ensureNativeModulesAreInstalled)();const l=globalThis.expo.SharedRef;e.default=l},172,[169]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=n(r(d[1])),s=r(d[2]);const l={OS:"web",select:'undefined'!=typeof window?t.default.select:function(n){return n.hasOwnProperty("web")?n.web:n.hasOwnProperty('default')?n.default:void 0},isDOMAvailable:s.isDOMAvailable,canUseEventListeners:s.canUseEventListeners,canUseViewport:s.canUseViewport,isAsyncDebugging:s.isAsyncDebugging};e.default=l},173,[1,86,174]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.isDOMAvailable=e.isAsyncDebugging=e.canUseViewport=e.canUseEventListeners=void 0;const n=e.isDOMAvailable='undefined'!=typeof window&&!!window.document?.createElement;e.canUseEventListeners=n&&!(!window.addEventListener&&!window.attachEvent),e.canUseViewport=n&&!!window.screen,e.isAsyncDebugging=!1},174,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,(0,r(d[0]).ensureNativeModulesAreInstalled)();e.default=globalThis.expo.EventEmitter},175,[169]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.requireNativeViewManager=function(o,t){throw new n.UnavailabilityError('expo-modules-core','requireNativeViewManager')};var n=r(d[0])},176,[177]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.UnavailabilityError=void 0;var l=r(d[1]);o(r(d[2]));class n extends l.CodedError{constructor(o,l){super('ERR_UNAVAILABLE',`The method or property ${o}.${l} is not available on web, are you sure you've linked all the native dependencies properly?`)}}e.UnavailabilityError=n},177,[1,178,173]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.CodedError=void 0;class o extends Error{constructor(o,s){super(s),this.code=o}}e.CodedError=o},178,[]);
__d(function(g,r,i,a,m,e,d){function o(o){return'object'==typeof globalThis.ExpoDomWebView&&null!=globalThis?.expo?.modules?globalThis.expo?.modules?.[o]??null:null}Object.defineProperty(e,"__esModule",{value:!0}),e.requireNativeModule=function(n){const l=o(n);if(null!=l)return l;if('undefined'==typeof window)return{};throw new Error(`Cannot find native module '${n}'`)},e.requireOptionalNativeModule=o},179,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.registerWebModule=function(s,l){if((0,o.ensureNativeModulesAreInstalled)(),!(l=l??s.name))throw new Error('Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.');globalThis?.expo?.modules||(globalThis.expo.modules={});if(globalThis.expo.modules[l])return globalThis.expo.modules[l];return globalThis.expo.modules[l]=new s,globalThis.expo.modules[l]};var o=r(d[0])},180,[169]);
__d(function(g,r,i,a,m,e,d){},181,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.PermissionStatus=void 0;e.PermissionStatus=(function(n){return n.GRANTED="granted",n.UNDETERMINED="undetermined",n.DENIED="denied",n})({})},182,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.createPermissionHook=function(t){return n=>s(t,n)};var n=t(r(d[1])),u=r(d[2]);const c=["get","request"];function s(t,s){const o=(0,u.useRef)(!0),[f,l]=(0,u.useState)(null),h=s||{},{get:b=!0,request:k=!1}=h,v=(0,n.default)(h,c),y=(0,u.useCallback)(async()=>{const n=await t.getMethod(Object.keys(v).length>0?v:void 0);return o.current&&l(n),n},[t.getMethod]),M=(0,u.useCallback)(async()=>{const n=await t.requestMethod(Object.keys(v).length>0?v:void 0);return o.current&&l(n),n},[t.requestMethod]);return(0,u.useEffect)(function(){k&&M(),!k&&b&&y()},[b,k,M,y]),(0,u.useEffect)(function(){return o.current=!0,()=>{o.current=!1}},[]),[f,M,y]}},183,[1,126,25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.createSnapshotFriendlyRef=function(){return(0,n.createRef)()};var n=r(d[0])},184,[25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useReleasingSharedObject=function(t,u){const c=(0,n.useRef)(null),s=(0,n.useRef)(!1),l=(0,n.useRef)(u);null==c.current&&(c.current=t());const f=(0,n.useMemo)(()=>{let n=c.current;const f=l.current?.length===u.length&&u.every((n,t)=>n===l.current[t]);return n&&f?s.current=!0:(c.current?.release(),n=t(),c.current=n,l.current=u),n},u);return(0,n.useEffect)(()=>(s.current=!1,()=>{!s.current&&c.current&&c.current.release()}),[]),f};var n=r(d[0])},185,[25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.reloadAppAsync=async function(o="Reloaded from JS call"){await(globalThis.expo?.reloadAppAsync(o))}},186,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.LegacyEventEmitter=void 0;var n=t(r(d[1])),s=t(r(d[2]));t(r(d[3]));const o='@@nativeEmitterSubscription@@';e.LegacyEventEmitter=class{_listenerCount=0;constructor(t){if(t.__expo_module_name__)return t;this._nativeModule=t,this._eventEmitter=new s.default(t)}addListener(t,n){!this._listenerCount&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;const s=this._eventEmitter.addListener(t,n),v={[o]:s,remove:()=>{this.removeSubscription(v)}};return v}removeAllListeners(t){const s=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(t):this._eventEmitter.listeners(t).length;this._eventEmitter.removeAllListeners(t),this._listenerCount-=s,(0,n.default)(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}removeSubscription(t){const n=t,s=n[o];s&&('remove'in s&&s.remove?.(),this._listenerCount--,delete n[o],t.remove=()=>{},!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}emit(t,...n){this._eventEmitter.emit(t,...n)}}},187,[1,188,189,86]);
__d(function(g,r,i,_a,m,_e,_d){'use strict';m.exports=function(e,n,o,t,a,f,s,d){if(!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[o,t,a,f,s,d],l=0;(u=new Error(n.replace(/%s/g,function(){return c[l++]}))).name='Invariant Violation'}throw u.framesToPop=1,u}}},188,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},189,[1,190]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1]));var l=t(r(d[2])),n=t(r(d[3]));e.default=class{constructor(t){}addListener(t,n,u){var s;null==(s=this._nativeModule)||s.addListener(t);var v=l.default.addListener(t,n,u);return{remove:()=>{var t;null!=v&&(null==(t=this._nativeModule)||t.removeListeners(1),v.remove(),v=null)}}}removeListener(t,n){var u;null==(u=this._nativeModule)||u.removeListeners(1),l.default.removeListener(t,n)}emit(t){for(var n=arguments.length,u=new Array(n>1?n-1:0),s=1;s<n;s++)u[s-1]=arguments[s];l.default.emit(t,...u)}removeAllListeners(t){var u;(0,n.default)(null!=t,'`NativeEventEmitter.removeAllListener()` requires a non-null argument.'),null==(u=this._nativeModule)||u.removeListeners(this.listenerCount(t)),l.default.removeAllListeners(t)}listenerCount(t){return l.default.listenerCount(t)}}},190,[1,86,191,15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=new u.default},191,[1,192]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;function t(t,n){var l=t[n];return null==l&&(l=new Set,t[n]=l),l}e.default=class{constructor(){this._registry={}}addListener(n,l,s){var u=t(this._registry,n),o={context:s,listener:l,remove(){u.delete(o)}};return u.add(o),o}emit(t){var n=this._registry[t];if(null!=n){for(var l=arguments.length,s=new Array(l>1?l-1:0),u=1;u<l;u++)s[u-1]=arguments[u];for(var o=0,v=[...n];o<v.length;o++){var _=v[o];_.listener.apply(_.context,s)}}}removeAllListeners(t){null==t?this._registry={}:delete this._registry[t]}listenerCount(t){var n=this._registry[t];return null==n?0:n.size}}},192,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={}},193,[]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e._createWebFontTemplate=h,e.default=void 0;var n=r(d[1]),s=t(r(d[2])),o=r(d[3]);function i(){if(!n.Platform.isDOMAvailable)return null;const t=p();return t.sheet?t.sheet:null}function l(){const t=i();if(t){const n=[...t.cssRules],s=[];for(let t=0;t<n.length;t++){const o=n[t];o instanceof CSSFontFaceRule&&s.push({rule:o,index:t})}return s}return[]}function c(t,n){return l().filter(({rule:s})=>!(s.style.fontFamily!==t||n&&n.display&&n.display!==s.style.fontDisplay))}const u=new Set;function f(){const t=[...u.entries()];if(!t.length)return[];const n=t.map(([{css:t}])=>t).join('\n'),s=t.map(([{resourceId:t}])=>t);return[{$$type:'style',children:n,id:y,type:'text/css'},...s.map(t=>({$$type:'link',rel:'preload',href:t,as:'font',crossorigin:''}))]}e.default={async unloadAllAsync(){if(!n.Platform.isDOMAvailable)return;const t=document.getElementById(y);t&&t instanceof HTMLStyleElement&&document.removeChild(t)},async unloadAsync(t,n){const s=i();if(!s)return;const o=c(t,n);for(const t of o)s.deleteRule(t.index)},getServerResources:()=>f().map(t=>{switch(t.$$type){case'style':return`<style id="${t.id}" type="${t.type}">${t.children}</style>`;case'link':return`<link rel="${t.rel}" href="${t.href}" as="${t.as}" crossorigin="${t.crossorigin}" />`;default:return''}}).filter(Boolean),resetServerContext(){u.clear()},getLoadedFonts(){if('undefined'==typeof window)return[...u.values()].map(({name:t})=>t);return l().map(({rule:t})=>t.style.fontFamily)},isLoaded:(t,n={})=>'undefined'==typeof window?!![...u.values()].find(n=>n.name===t):c(t,n)?.length>0,loadAsync(t,o){if('undefined'==typeof window)return u.add({name:t,css:h(t,o),resourceId:o.uri}),Promise.resolve();if(!(document.head&&'function'==typeof document.head.appendChild))throw new n.CodedError('ERR_WEB_ENVIRONMENT',"The browser's `document.head` element doesn't support injecting fonts.");const i=p();document.head.appendChild(i);return c(t,o).length||$(t,o),v()?new s.default(t,{display:o.display}).load(null,6e3):Promise.resolve()}};const y='expo-generated-fonts';function p(){const t=document.getElementById(y);if(t&&t instanceof HTMLStyleElement)return t;const n=document.createElement('style');return n.id=y,n.type='text/css',n}function h(t,n){return`@font-face{font-family:${t};src:url(${n.uri});font-display:${n.display||o.FontDisplay.AUTO}}`}function $(t,n){const s=h(t,n),o=p();if(o.styleSheet){const t=o;t.styleSheet.cssText=t.styleSheet.cssText?t.styleSheet.cssText+s:s}else{const t=document.createTextNode(s);o.appendChild(t)}return o}function v(){const{userAgent:t}=window.navigator,n=!!t.match(/iPad|iPhone/i),s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=t.includes('Edge'),i=t.includes('Trident'),l=t.includes('Firefox');return!(s||n||o||i||l)}},194,[1,157,195,196]);
__d(function(_g,_r,i,_a,_m,_e,_d){!(function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function n(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function o(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function d(t,n){function o(){var e=d;s(e)&&null!==e.g.parentNode&&n(e.l)}var d=t;e(t.h,o),e(t.i,o),s(t)}function a(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var l=null,r=null,c=null,h=null;function u(e){return null===r&&(f(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!e&&603>parseInt(e[1],10)):r=!1),r}function f(e){return null===h&&(h=!!e.document.fonts),h}function m(e,t){var n=e.style,o=e.weight;if(null===c){var s=document.createElement("div");try{s.style.font="condensed 100px sans-serif"}catch(e){}c=""!==s.style.font}return[n,o,c?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,s){var a=this,r=e||"BESbswy",c=0,h=s||3e3,p=(new Date).getTime();return new Promise(function(e,s){if(f(a.context)&&!u(a.context)){var w=new Promise(function(e,t){!(function n(){(new Date).getTime()-p>=h?t(Error(h+"ms timeout exceeded")):a.context.document.fonts.load(m(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(n,25)},t)})()}),g=new Promise(function(e,t){c=setTimeout(function(){t(Error(h+"ms timeout exceeded"))},h)});Promise.race([g,w]).then(function(){clearTimeout(c),e(a)},s)}else t(function(){function t(){var t;(t=-1!=g&&-1!=v||-1!=g&&-1!=y||-1!=v&&-1!=y)&&((t=g!=v&&g!=y&&v!=y)||(null===l&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=l&&(g==x&&v==x&&y==x||g==E&&v==E&&y==E||g==b&&v==b&&y==b)),t=!t),t&&(null!==T.parentNode&&T.parentNode.removeChild(T),clearTimeout(c),e(a))}var u=new n(r),f=new n(r),w=new n(r),g=-1,v=-1,y=-1,x=-1,E=-1,b=-1,T=document.createElement("div");T.dir="ltr",o(u,m(a,"sans-serif")),o(f,m(a,"serif")),o(w,m(a,"monospace")),T.appendChild(u.g),T.appendChild(f.g),T.appendChild(w.g),a.context.document.body.appendChild(T),x=u.g.offsetWidth,E=f.g.offsetWidth,b=w.g.offsetWidth,(function e(){if((new Date).getTime()-p>=h)null!==T.parentNode&&T.parentNode.removeChild(T),s(Error(h+"ms timeout exceeded"));else{var n=a.context.document.hidden;!0!==n&&void 0!==n||(g=u.g.offsetWidth,v=f.g.offsetWidth,y=w.g.offsetWidth,t()),c=setTimeout(e,50)}})(),d(u,function(e){g=e,t()}),o(u,m(a,'"'+a.family+'",sans-serif')),d(f,function(e){v=e,t()}),o(f,m(a,'"'+a.family+'",serif')),d(w,function(e){y=e,t()}),o(w,m(a,'"'+a.family+'",monospace'))})})},"object"==typeof _m?_m.exports=a:(window.FontFaceObserver=a,window.FontFaceObserver.prototype.load=a.prototype.load)})()},195,[]);
__d(function(g,r,i,a,m,e,d){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.FontDisplay=void 0,(function(o){o.AUTO="auto",o.SWAP="swap",o.BLOCK="block",o.FALLBACK="fallback",o.OPTIONAL="optional"})(o||(e.FontDisplay=o={}))},196,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getAssetForSource=function(t){const o=f(t),n=l(t);o&&'string'==typeof o||c(o);return{uri:o,display:n}},e.loadSingleFontAsync=function(t,o){('object'!=typeof o||'string'!=typeof o.uri||o.downloadAsync)&&c(o);try{return u.default.loadAsync(t,o)}catch{}return Promise.resolve()};var o=r(d[1]),n=r(d[2]),u=t(r(d[3])),s=r(d[4]);function f(t){return'string'==typeof t?t||null:'number'==typeof t?f(o.Asset.fromModule(t)):'object'==typeof t&&'number'==typeof t.uri?f(t.uri):'object'==typeof t&&(t.uri||t.localUri||t.default)||null}function l(t){return'object'==typeof t&&'display'in t&&t.display||s.FontDisplay.AUTO}function c(t){let o=typeof t;throw'object'===o&&(o=JSON.stringify(t,null,2)),new n.CodedError("ERR_FONT_SOURCE",`Expected font asset of type \`string | FontResource | Asset\` instead got: ${o}`)}},197,[1,198,157,194,196]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),r(d[0]);var n=r(d[1]);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))});var t=r(d[2]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))})},198,[199,200,211]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]),t=_r(d[1]),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,s,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((s=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(s.get||s.set)?o(u,t,s):u[t]=e[t]);return u})(e,t)})(_r(d[2]));if(t.IS_ENV_WITH_LOCAL_ASSETS){(r.default.setCustomSourceTransformer||r.setCustomSourceTransformer)(t=>{try{if('fileHashes'in t.asset&&t.asset.fileHashes){const r=e.Asset.fromMetadata(t.asset);return r.uri.startsWith(e.ANDROID_EMBEDDED_URL_BASE_RESOURCE)?t.resourceIdentifierWithoutScale():t.fromSource(r.downloaded?r.localUri:r.uri)}return t.defaultAsset()}catch{return t.defaultAsset()}})}},199,[200,205,210]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.Asset=_e.ANDROID_EMBEDDED_URL_BASE_RESOURCE=void 0;var e=_r(d[1]),i=(_r(d[2]),_r(d[3])),s=u(_r(d[4])),n=_r(d[5]),r=u(_r(d[6])),h=_r(d[7]),o=_r(d[8]),l=t(_r(d[9]));function u(t,e){if("function"==typeof WeakMap)var i=new WeakMap,s=new WeakMap;return(u=function(t,e){if(!e&&t&&t.__esModule)return t;var n,r,h={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return h;if(n=e?s:i){if(n.has(t))return n.get(t);n.set(t,h)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((r=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(r.get||r.set)?n(h,e,r):h[e]=t[e]);return h})(t,e)}const c=_e.ANDROID_EMBEDDED_URL_BASE_RESOURCE='file:///android_res/';class f{static byHash={};static byUri={};hash=null;localUri=null;width=null;height=null;downloading=!1;downloaded=!1;_downloadCallbacks=[];constructor({name:t,type:e,hash:i=null,uri:n,width:r,height:o}){this.name=t,this.type=e,this.hash=i,this.uri=n,'number'==typeof r&&(this.width=r),'number'==typeof o&&(this.height=o),i&&(this.localUri=(0,h.getLocalAssetUri)(i,e),this.localUri?.startsWith(c)?(this.uri=this.localUri,this.localUri=null):this.localUri&&(this.downloaded=!0)),t||(this.name=s.getFilename(n)),e||(this.type=s.getFileExtension(n))}static loadAsync(t){const e=Array.isArray(t)?t:[t];return Promise.all(e.map(t=>f.fromModule(t).downloadAsync()))}static fromModule(t){if('string'==typeof t)return f.fromURI(t);if('object'==typeof t&&'uri'in t&&'string'==typeof t.uri){const e=s.getFileExtension(t.uri);return new f({name:'',type:e.startsWith('.')?e.substring(1):e,hash:null,uri:t.uri,width:t.width,height:t.height})}const i=(0,e.getAssetByID)(t);if(!i)throw new Error(`Module "${t}" is missing from the asset registry`);if(!o.IS_ENV_WITH_LOCAL_ASSETS){const{uri:e}=(0,l.default)(t),s=new f({name:i.name,type:i.type,hash:i.hash,uri:e,width:i.width,height:i.height});return f.byHash[i.hash]=s,s}return f.fromMetadata(i)}static fromMetadata(t){const e=t.hash;if(f.byHash[e])return f.byHash[e];const{uri:s,hash:n}=(0,i.selectAssetSource)(t),r=new f({name:t.name,type:t.type,hash:n,uri:s,width:t.width,height:t.height});return f.byHash[e]=r,r}static fromURI(t){if(f.byUri[t])return f.byUri[t];let e='';if(t.indexOf(';base64')>-1)e=t.split(';')[0].split('/')[1];else{const i=s.getFileExtension(t);e=i.startsWith('.')?i.substring(1):i}const i=new f({name:'',type:e,hash:null,uri:t});return f.byUri[t]=i,i}async downloadAsync(){if(this.downloaded)return this;if(this.downloading)return await new Promise((t,e)=>{this._downloadCallbacks.push({resolve:t,reject:e})}),this;this.downloading=!0;try{if(r.isImageType(this.type)){const{width:t,height:e,name:i}=await r.getImageInfoAsync(this.uri);this.width=t,this.height=e,this.name=i}else this.name=s.getFilename(this.uri);this.localUri=await(0,n.downloadAsync)(this.uri,this.hash,this.type),this.downloaded=!0,this._downloadCallbacks.forEach(({resolve:t})=>t())}catch(t){throw this._downloadCallbacks.forEach(({reject:e})=>e(t)),t}finally{this.downloading=!1,this._downloadCallbacks=[]}return this}}_e.Asset=f},200,[1,201,157,202,206,207,208,209,205,210]);
__d(function(g,r,i,a,m,e,d){const s=[];m.exports={registerAsset:t=>s.push(t),getAssetByID:t=>s[t-1]}},201,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.resolveUri=c,e.selectAssetSource=function(t){const f=o.default.pickScale(t.scales,s.default.get()),l=t.scales.findIndex(t=>t===f),u=t.fileHashes?t.fileHashes[l]??t.fileHashes[0]:t.hash,p=t.fileUris?t.fileUris[l]??t.fileUris[0]:t.uri;if(p)return{uri:c(p),hash:u};const U=1===f?'':`@${f}x`,v=t.type?`.${encodeURIComponent(t.type)}`:'',x=`/${encodeURIComponent(t.name)}${U}${v}`,L=new URLSearchParams({platform:"web",hash:t.hash});if(/^https?:\/\//.test(t.httpServerLocation)){return{uri:t.httpServerLocation+x+'?'+L,hash:u}}const R=(0,h.getManifest2)(),S=R?.extra?.expoGo?.developer?'http://'+R.extra.expoGo.debuggerHost:null;if(S){const s=new URL(t.httpServerLocation+x,S);return s.searchParams.set('platform',"web"),s.searchParams.set('hash',t.hash),{uri:s.href,hash:u}}if(n.default.ExponentKernel)return{uri:`https://classic-assets.eascdn.net/~assets/${encodeURIComponent(u)}`,hash:u};return{uri:'',hash:u}};r(d[1]);var s=t(r(d[2])),n=t(r(d[3])),o=t(r(d[4])),h=r(d[5]);function c(t){return h.manifestBaseUrl?new URL(t,h.manifestBaseUrl).href:t}},202,[1,157,203,170,204,205]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));class n{static get(){return u.default.get('window').scale}static getFontScale(){return u.default.get('window').fontScale||n.get()}static getPixelSizeForLayoutSize(t){return Math.round(t*n.get())}static roundToNearestPixel(t){var u=n.get();return Math.round(t*u)/u}}e.default=n},203,[1,123]);
__d(function(g,r,_i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(d[1]);var s=t(r(d[2]));function i(t){const i=h.pickScale(t.scales,s.default.get()),l=1===i?'':'@'+i+'x',c=t.type?`.${t.type}`:'';return t.httpServerLocation.replace(/\.\.\//g,'_')+'/'+t.name+l+c}class h{constructor(t,s,i){this.serverUrl=t||'https://expo.dev',this.jsbundleUrl=null,this.asset=i}isLoadedFromServer(){return!0}isLoadedFromFileSystem(){return!1}defaultAsset(){return this.assetServerURL()}assetServerURL(){const t=new URL(i(this.asset),this.serverUrl);return t.searchParams.set('platform',"web"),t.searchParams.set('hash',this.asset.hash),this.fromSource(t.toString().replace(t.origin,''))}fromSource(t){return{__packager_asset:!0,width:this.asset.width??void 0,height:this.asset.height??void 0,uri:t,scale:h.pickScale(this.asset.scales,s.default.get())}}static pickScale(t,s){for(let i=0;i<t.length;i++)if(t[i]>=s)return t[i];return t[t.length-1]||1}}e.default=h},204,[1,157,203]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.IS_ENV_WITH_LOCAL_ASSETS=void 0,e.getLocalAssets=function(){return{}},e.getManifest2=function(){return{}},e.manifestBaseUrl=void 0;e.IS_ENV_WITH_LOCAL_ASSETS=!1;e.manifestBaseUrl=null},205,[]);
__d(function(g,r,i,a,m,e,d){function t(t){const{pathname:o,searchParams:s}=new URL(t,'https://e');return n(o)}function n(t){return t.substring(t.lastIndexOf('/')+1)}Object.defineProperty(e,"__esModule",{value:!0}),e.getFileExtension=function(n){const o=t(n),s=o.lastIndexOf('.');return s>0?o.substring(s):''},e.getFilename=t,e.getManifestBaseUrl=function(t){const n=new URL(t);let o=n.protocol;'exp:'===o?o='http:':'exps:'===o&&(o='https:');n.protocol=o;const s=n.pathname.substring(0,n.pathname.lastIndexOf('/')+1);return n.pathname=s,n.search='',n.hash='',n.protocol!==o?n.href.replace(n.protocol,o):n.href}},206,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.downloadAsync=async function(n,o,c){return n}},207,[]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getImageInfoAsync=function(t){if('undefined'==typeof window)return Promise.resolve({name:(0,n.getFilename)(t),width:0,height:0});return new Promise((o,u)=>{const f=new Image;f.onerror=u,f.onload=()=>{o({name:(0,n.getFilename)(t),width:f.naturalWidth,height:f.naturalHeight})},f.src=t})},e.isImageType=function(n){return/^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(n)};var n=r(d[0])},208,[206]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalAssetUri=function(n,t){return null}},209,[]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.pickScale=e.default=void 0,e.setCustomSourceTransformer=c;var n=r(d[1]),o=t(r(d[2]));let u;function c(t){u=t}function f(t){if('object'==typeof t)return t;const c=(0,n.getAssetByID)(t);if(!c)return null;const f=new o.default('https://expo.dev',null,c);return u?u(f):f.defaultAsset()}Object.defineProperty(f,'setCustomSourceTransformer',{get:()=>c});e.default=f;const{pickScale:l}=o.default;e.pickScale=l},210,[1,201,204]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useAssets=function(n){const[u,c]=(0,t.useState)(),[o,f]=(0,t.useState)();return(0,t.useEffect)(()=>{s.Asset.loadAsync(n).then(c).catch(f)},[]),[u,o]};var t=r(d[0]),s=r(d[1])},211,[25,200]);
__d(function(g,r,i,a,m,e,d){var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.isLoadedInCache=u,e.isLoadedNative=function(n){if(u(n))return!0;{const u=o.default.getLoadedFonts();return!!u?.length&&(u.forEach(n=>{t[n]=!0}),n in t)}},e.loadPromises=void 0,e.markLoaded=function(n){t[n]=!0},e.purgeCache=function(){t={}},e.purgeFontFamilyFromCache=function(n){delete t[n]};var o=n(r(d[1]));e.loadPromises={};let t={};function u(n){return n in t}},212,[1,194]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.getServerResources=function(){return n.default.getServerResources()},e.registerStaticFont=function(t,n){if(!n)throw new o.CodedError("ERR_FONT_SOURCE",`Cannot load null or undefined font source: { "${t}": ${n} }. Expected asset of type \`FontSource\` for fontFamily of name: "${t}"`);const s=(0,u.getAssetForSource)(n);(0,u.loadSingleFontAsync)(t,s)},e.resetServerContext=function(){return n.default.resetServerContext()};var o=r(d[1]),n=t(r(d[2])),u=r(d[3])},213,[1,157,194,197]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.renderToImageAsync=async function(o,l){if(!c.default)throw new n.UnavailabilityError('expo-font','ExpoFontUtils.renderToImageAsync');return await c.default.renderToImageAsync(o,Object.assign({},l,{color:l?.color?(0,t.default)(l.color):void 0}))};var n=r(d[1]),t=o(r(d[2])),c=o(r(d[3]))},214,[1,157,41,215]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[0]);class n extends o.NativeModule{async renderToImageAsync(n,t){throw new o.UnavailabilityError('expo-font','renderToImageAsync')}}e.default=(0,o.registerWebModule)(n,'ExpoFontUtils')},215,[157]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.useFonts=void 0;var n=r(d[0]),t=r(d[1]);function u(n){return'string'==typeof n?(0,t.isLoaded)(n):Object.keys(n).every(n=>(0,t.isLoaded)(n))}e.useFonts='undefined'==typeof window?function(n){return(0,t.loadAsync)(n),[!0,null]}:function(o){const[s,c]=(0,n.useState)(u(o)),[f,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let n=!0;return(0,t.loadAsync)(o).then(()=>{n&&c(!0)}).catch(t=>{n&&l(t)}),()=>{n=!1}},[]),[s,f]}},216,[25,156]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.NativeIconAPI=_e.DEFAULT_ICON_SIZE=_e.DEFAULT_ICON_COLOR=void 0,_e.default=function(t,u,h,O){const F=h?h.replace(/\.(otf|ttf)$/,''):u;class P extends n.PureComponent{root=null;static defaultProps={size:_,allowFontScaling:!1};render(){const n=this.props,{name:o,size:r,color:u,style:l,children:f}=n,s=(0,e.default)(n,p);let y=o?t[o]||'?':'';'number'==typeof y&&(y=String.fromCodePoint(y));const _={fontSize:r,color:u},I={fontFamily:F,fontWeight:'normal',fontStyle:'normal'};return s.style=[_,l,I,O||{}],(0,i.jsxs)(c.default,Object.assign({selectable:!1},s,{children:[y,f]}))}}const S=(0,f.default)();function b(e){const n=t[e]||'?';return'number'==typeof n?String.fromCodePoint(n):n}return P.Button=(0,s.default)(P),P.getImageSource=async function(t,e=_,n=I){(0,l.default)();const c=b(t),u=(0,r.default)(n),f=`${c}:${e}:${u}`;if(S.has(f))return S.get(f);try{const t={uri:await y.getImageForFont(F,c,e,u),scale:o.default.get()};return S.setValue(f,t),t}catch(t){throw S.setError(f,t),t}},P.getImageSourceSync=function(t,e=_,n=I){(0,l.default)();const c=b(t),u=(0,r.default)(n),f=`${c}:${e}:${u}`;if(S.has(f))return S.get(f);try{const t={uri:y.getImageForFontSync(F,c,e,u),scale:o.default.get()};return S.setValue(f,t),t}catch(t){throw S.setError(f,t),t}},P.loadFont=async function(t=h){},P.hasIcon=function(e){return Object.prototype.hasOwnProperty.call(t,e)},P.getRawGlyphMap=function(){return t},P.getFontFamily=function(){return F},P};var e=t(_r(d[1])),n=(function(t,e){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,c,u={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return u;if(r=e?o:n){if(r.has(t))return r.get(t);r.set(t,u)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((c=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(c.get||c.set)?r(u,e,c):u[e]=t[e]);return u})(t,e)})(_r(d[2])),o=(t(_r(d[3])),t(_r(d[4]))),r=t(_r(d[5])),c=t(_r(d[6])),u=t(_r(d[7])),l=t(_r(d[8])),f=t(_r(d[9])),s=t(_r(d[10])),i=_r(d[11]);const p=["name","size","color","style","children"];const y=_e.NativeIconAPI=u.default.RNVectorIconsManager||u.default.RNVectorIconsModule,_=_e.DEFAULT_ICON_SIZE=12,I=_e.DEFAULT_ICON_COLOR='black'},217,[1,126,25,86,203,41,122,170,218,219,220,141]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if(!n)throw new Error('The native RNVectorIcons API is not available, did you properly integrate the module? Please verify your autolinking setup and recompile.')};var t=o(r(d[1]));const n=t.default.RNVectorIconsManager||t.default.RNVectorIconsModule},218,[1,170]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){const s=new Map;return{setValue:(n,o)=>s.set(n,{type:t,data:o}),setError:(t,o)=>s.set(t,{type:n,data:o}),has:t=>s.has(t),get:t=>{if(!s.has(t))return;const{type:o,data:u}=s.get(t);if(o===n)throw u;return u}}};const t='value',n='error'},219,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){return class extends n.PureComponent{static defaultProps={backgroundColor:f,borderRadius:5,color:'white',size:20};render(){const n=this.props,{style:o,iconStyle:f,children:h}=n,P=(0,t.default)(n,u),j=(0,l.pick)(P,p,'style','name','size','color'),k=(0,l.pick)(P,b),O=(0,l.omit)(P,Object.keys(j),Object.keys(k),'iconStyle','borderRadius','backgroundColor');j.style=f?[y.icon,f]:y.icon;const x=(0,l.pick)(this.props,'color'),_=(0,l.pick)(this.props,'backgroundColor','borderRadius');return(0,c.jsx)(i.default,Object.assign({style:[y.touchable,_]},k,{children:(0,c.jsxs)(r.default,Object.assign({style:[y.container,_,o]},O,{children:[(0,c.jsx)(e,Object.assign({},j)),'string'==typeof h?(0,c.jsx)(s.default,{style:[y.text,x],selectable:!1,children:h}):h]}))}))}}};var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,i,r={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return r;if(s=t?o:n){if(s.has(e))return s.get(e);s.set(e,r)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?s(r,t,i):r[t]=e[t]);return r})(e,t)})(_r(d[2])),o=e(_r(d[3])),s=e(_r(d[4])),i=e(_r(d[5])),r=e(_r(d[6])),l=_r(d[7]),c=_r(d[8]);const u=["style","iconStyle","children"];const y=o.default.create({container:{flexDirection:'row',justifyContent:'flex-start',alignItems:'center',padding:8},touchable:{overflow:'hidden'},icon:{marginRight:10},text:{fontWeight:'600',backgroundColor:'transparent'}}),f='#007AFF',p=['ellipsizeMode','numberOfLines','textBreakStrategy','selectable','suppressHighlighting','allowFontScaling','adjustsFontSizeToFit','minimumFontScale'],b=['accessible','accessibilityLabel','accessibilityHint','accessibilityComponentType','accessibilityRole','accessibilityStates','accessibilityTraits','onFocus','onBlur','disabled','onPress','onPressIn','onPressOut','onLayout','onLongPress','nativeID','testID','delayPressIn','delayPressOut','delayLongPress','activeOpacity','underlayColor','selectionColor','onShowUnderlay','onHideUnderlay','hasTVPreferredFocus','tvParallaxProperties']},220,[1,126,25,33,122,221,88,222,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=e(_r(d[1])),l=e(_r(d[2])),r=(function(e,n){if("function"==typeof WeakMap)var l=new WeakMap,r=new WeakMap;return(function(e,n){if(!n&&e&&e.__esModule)return e;var o,t,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(o=n?r:l){if(o.has(e))return o.get(e);o.set(e,s)}for(const n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((t=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,n))&&(t.get||t.set)?o(s,n,t):s[n]=e[n]);return s})(e,n)})(_r(d[3])),o=r,t=e(_r(d[4])),s=e(_r(d[5])),u=e(_r(d[6])),i=e(_r(d[7]));var c=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function y(e,n){return{child:{opacity:null!=e?e:.85},underlay:{backgroundColor:void 0===n?'black':n}}}function f(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}function P(e,u){var P=e.activeOpacity,b=e.children,v=e.delayPressIn,O=e.delayPressOut,h=e.delayLongPress,_=e.disabled,k=e.focusable,w=e.onHideUnderlay,L=e.onLongPress,j=e.onPress,C=e.onPressIn,M=e.onPressOut,S=e.onShowUnderlay,E=e.rejectResponderTermination,I=e.style,R=e.testOnly_pressed,U=e.underlayColor,H=(0,l.default)(e,c),T=(0,r.useRef)(null),W=(0,t.default)(u,T),D=(0,r.useState)(!0===R?y(P,U):null),x=D[0],A=D[1],N=(0,r.useCallback)(()=>{f(e)&&(A(y(P,U)),null!=S&&S())},[P,S,e,U]),q=(0,r.useCallback)(()=>{!0!==R&&f(e)&&(A(null),null!=w&&w())},[w,e,R]),z=(0,r.useMemo)(()=>({cancelable:!E,disabled:_,delayLongPress:h,delayPressStart:v,delayPressEnd:O,onLongPress:L,onPress:j,onPressStart(e){N(),null!=C&&C(e)},onPressEnd(e){q(),null!=M&&M(e)}}),[h,v,O,_,L,j,C,M,E,N,q]),B=(0,s.default)(T,z),F=o.Children.only(b);return o.createElement(i.default,(0,n.default)({},H,B,{accessibilityDisabled:_,focusable:!_&&!1!==k,pointerEvents:_?'box-none':void 0,ref:W,style:[p.root,I,!_&&p.actionable,x&&x.underlay]}),o.cloneElement(F,{style:[F.props.style,x&&x.child]}))}var p=u.default.create({root:{userSelect:'none'},actionable:{cursor:'pointer',touchAction:'manipulation'}}),b=o.memo(o.forwardRef(P));b.displayName='TouchableHighlight';_e.default=b},221,[1,18,34,25,106,120,33,88]);
__d(function(g,r,i,a,m,e,d){m.exports={pick:(t,...c)=>c.flat().filter(c=>Object.prototype.hasOwnProperty.call(t,c)).reduce((c,o)=>(c[o]=t[o],c),{}),omit:(t,...c)=>{const o=new Set(c.flat());return Object.getOwnPropertyNames(t).filter(t=>!o.has(t)).reduce((c,o)=>(c[o]=t[o],c),{})}}},222,[]);
__d(function(o,e,n,t,c,s,d){c.exports="/assets/node_modules/@expo/vector-icons/build/vendor/react-native-vector-icons/Fonts/Ionicons.6148e7019854f3bde85b633cb88f3c25.ttf"},223,[]);
__d(function(e,r,o,a,l,i,t){l.exports={accessibility:59905,"accessibility-outline":59906,"accessibility-sharp":59907,add:59908,"add-circle":59909,"add-circle-outline":59910,"add-circle-sharp":59911,"add-outline":59912,"add-sharp":59913,airplane:59914,"airplane-outline":59915,"airplane-sharp":59916,alarm:59917,"alarm-outline":59918,"alarm-sharp":59919,albums:59920,"albums-outline":59921,"albums-sharp":59922,alert:59923,"alert-circle":59924,"alert-circle-outline":59925,"alert-circle-sharp":59926,"alert-outline":59927,"alert-sharp":59928,"american-football":59929,"american-football-outline":59930,"american-football-sharp":59931,analytics:59932,"analytics-outline":59933,"analytics-sharp":59934,aperture:59935,"aperture-outline":59936,"aperture-sharp":59937,apps:59938,"apps-outline":59939,"apps-sharp":59940,archive:59941,"archive-outline":59942,"archive-sharp":59943,"arrow-back":59944,"arrow-back-circle":59945,"arrow-back-circle-outline":59946,"arrow-back-circle-sharp":59947,"arrow-back-outline":59948,"arrow-back-sharp":59949,"arrow-down":59950,"arrow-down-circle":59951,"arrow-down-circle-outline":59952,"arrow-down-circle-sharp":59953,"arrow-down-outline":59954,"arrow-down-sharp":59955,"arrow-forward":59956,"arrow-forward-circle":59957,"arrow-forward-circle-outline":59958,"arrow-forward-circle-sharp":59959,"arrow-forward-outline":59960,"arrow-forward-sharp":59961,"arrow-redo":59962,"arrow-redo-circle":59963,"arrow-redo-circle-outline":59964,"arrow-redo-circle-sharp":59965,"arrow-redo-outline":59966,"arrow-redo-sharp":59967,"arrow-undo":59968,"arrow-undo-circle":59969,"arrow-undo-circle-outline":59970,"arrow-undo-circle-sharp":59971,"arrow-undo-outline":59972,"arrow-undo-sharp":59973,"arrow-up":59974,"arrow-up-circle":59975,"arrow-up-circle-outline":59976,"arrow-up-circle-sharp":59977,"arrow-up-outline":59978,"arrow-up-sharp":59979,at:59980,"at-circle":59981,"at-circle-outline":59982,"at-circle-sharp":59983,"at-outline":59984,"at-sharp":59985,attach:59986,"attach-outline":59987,"attach-sharp":59988,backspace:59989,"backspace-outline":59990,"backspace-sharp":59991,bag:59992,"bag-add":59993,"bag-add-outline":59994,"bag-add-sharp":59995,"bag-check":59996,"bag-check-outline":59997,"bag-check-sharp":59998,"bag-handle":59999,"bag-handle-outline":6e4,"bag-handle-sharp":60001,"bag-outline":60002,"bag-remove":60003,"bag-remove-outline":60004,"bag-remove-sharp":60005,"bag-sharp":60006,balloon:60007,"balloon-outline":60008,"balloon-sharp":60009,ban:60010,"ban-outline":60011,"ban-sharp":60012,bandage:60013,"bandage-outline":60014,"bandage-sharp":60015,"bar-chart":60016,"bar-chart-outline":60017,"bar-chart-sharp":60018,barbell:60019,"barbell-outline":60020,"barbell-sharp":60021,barcode:60022,"barcode-outline":60023,"barcode-sharp":60024,baseball:60025,"baseball-outline":60026,"baseball-sharp":60027,basket:60028,"basket-outline":60029,"basket-sharp":60030,basketball:60031,"basketball-outline":60032,"basketball-sharp":60033,"battery-charging":60034,"battery-charging-outline":60035,"battery-charging-sharp":60036,"battery-dead":60037,"battery-dead-outline":60038,"battery-dead-sharp":60039,"battery-full":60040,"battery-full-outline":60041,"battery-full-sharp":60042,"battery-half":60043,"battery-half-outline":60044,"battery-half-sharp":60045,beaker:60046,"beaker-outline":60047,"beaker-sharp":60048,bed:60049,"bed-outline":60050,"bed-sharp":60051,beer:60052,"beer-outline":60053,"beer-sharp":60054,bicycle:60055,"bicycle-outline":60056,"bicycle-sharp":60057,bluetooth:60058,"bluetooth-outline":60059,"bluetooth-sharp":60060,boat:60061,"boat-outline":60062,"boat-sharp":60063,body:60064,"body-outline":60065,"body-sharp":60066,bonfire:60067,"bonfire-outline":60068,"bonfire-sharp":60069,book:60070,"book-outline":60071,"book-sharp":60072,bookmark:60073,"bookmark-outline":60074,"bookmark-sharp":60075,bookmarks:60076,"bookmarks-outline":60077,"bookmarks-sharp":60078,"bowling-ball":60079,"bowling-ball-outline":60080,"bowling-ball-sharp":60081,briefcase:60082,"briefcase-outline":60083,"briefcase-sharp":60084,browsers:60085,"browsers-outline":60086,"browsers-sharp":60087,brush:60088,"brush-outline":60089,"brush-sharp":60090,bug:60091,"bug-outline":60092,"bug-sharp":60093,build:60094,"build-outline":60095,"build-sharp":60096,bulb:60097,"bulb-outline":60098,"bulb-sharp":60099,bus:60100,"bus-outline":60101,"bus-sharp":60102,business:60103,"business-outline":60104,"business-sharp":60105,cafe:60106,"cafe-outline":60107,"cafe-sharp":60108,calculator:60109,"calculator-outline":60110,"calculator-sharp":60111,calendar:60112,"calendar-clear":60113,"calendar-clear-outline":60114,"calendar-clear-sharp":60115,"calendar-number":60116,"calendar-number-outline":60117,"calendar-number-sharp":60118,"calendar-outline":60119,"calendar-sharp":60120,call:60121,"call-outline":60122,"call-sharp":60123,camera:60124,"camera-outline":60125,"camera-reverse":60126,"camera-reverse-outline":60127,"camera-reverse-sharp":60128,"camera-sharp":60129,car:60130,"car-outline":60131,"car-sharp":60132,"car-sport":60133,"car-sport-outline":60134,"car-sport-sharp":60135,card:60136,"card-outline":60137,"card-sharp":60138,"caret-back":60139,"caret-back-circle":60140,"caret-back-circle-outline":60141,"caret-back-circle-sharp":60142,"caret-back-outline":60143,"caret-back-sharp":60144,"caret-down":60145,"caret-down-circle":60146,"caret-down-circle-outline":60147,"caret-down-circle-sharp":60148,"caret-down-outline":60149,"caret-down-sharp":60150,"caret-forward":60151,"caret-forward-circle":60152,"caret-forward-circle-outline":60153,"caret-forward-circle-sharp":60154,"caret-forward-outline":60155,"caret-forward-sharp":60156,"caret-up":60157,"caret-up-circle":60158,"caret-up-circle-outline":60159,"caret-up-circle-sharp":60160,"caret-up-outline":60161,"caret-up-sharp":60162,cart:60163,"cart-outline":60164,"cart-sharp":60165,cash:60166,"cash-outline":60167,"cash-sharp":60168,cellular:60169,"cellular-outline":60170,"cellular-sharp":60171,chatbox:60172,"chatbox-ellipses":60173,"chatbox-ellipses-outline":60174,"chatbox-ellipses-sharp":60175,"chatbox-outline":60176,"chatbox-sharp":60177,chatbubble:60178,"chatbubble-ellipses":60179,"chatbubble-ellipses-outline":60180,"chatbubble-ellipses-sharp":60181,"chatbubble-outline":60182,"chatbubble-sharp":60183,chatbubbles:60184,"chatbubbles-outline":60185,"chatbubbles-sharp":60186,checkbox:60187,"checkbox-outline":60188,"checkbox-sharp":60189,checkmark:60190,"checkmark-circle":60191,"checkmark-circle-outline":60192,"checkmark-circle-sharp":60193,"checkmark-done":60194,"checkmark-done-circle":60195,"checkmark-done-circle-outline":60196,"checkmark-done-circle-sharp":60197,"checkmark-done-outline":60198,"checkmark-done-sharp":60199,"checkmark-outline":60200,"checkmark-sharp":60201,"chevron-back":60202,"chevron-back-circle":60203,"chevron-back-circle-outline":60204,"chevron-back-circle-sharp":60205,"chevron-back-outline":60206,"chevron-back-sharp":60207,"chevron-collapse":60208,"chevron-collapse-outline":60209,"chevron-collapse-sharp":60210,"chevron-down":60211,"chevron-down-circle":60212,"chevron-down-circle-outline":60213,"chevron-down-circle-sharp":60214,"chevron-down-outline":60215,"chevron-down-sharp":60216,"chevron-expand":60217,"chevron-expand-outline":60218,"chevron-expand-sharp":60219,"chevron-forward":60220,"chevron-forward-circle":60221,"chevron-forward-circle-outline":60222,"chevron-forward-circle-sharp":60223,"chevron-forward-outline":60224,"chevron-forward-sharp":60225,"chevron-up":60226,"chevron-up-circle":60227,"chevron-up-circle-outline":60228,"chevron-up-circle-sharp":60229,"chevron-up-outline":60230,"chevron-up-sharp":60231,clipboard:60232,"clipboard-outline":60233,"clipboard-sharp":60234,close:60235,"close-circle":60236,"close-circle-outline":60237,"close-circle-sharp":60238,"close-outline":60239,"close-sharp":60240,cloud:60241,"cloud-circle":60242,"cloud-circle-outline":60243,"cloud-circle-sharp":60244,"cloud-done":60245,"cloud-done-outline":60246,"cloud-done-sharp":60247,"cloud-download":60248,"cloud-download-outline":60249,"cloud-download-sharp":60250,"cloud-offline":60251,"cloud-offline-outline":60252,"cloud-offline-sharp":60253,"cloud-outline":60254,"cloud-sharp":60255,"cloud-upload":60256,"cloud-upload-outline":60257,"cloud-upload-sharp":60258,cloudy:60259,"cloudy-night":60260,"cloudy-night-outline":60261,"cloudy-night-sharp":60262,"cloudy-outline":60263,"cloudy-sharp":60264,code:60265,"code-download":60266,"code-download-outline":60267,"code-download-sharp":60268,"code-outline":60269,"code-sharp":60270,"code-slash":60271,"code-slash-outline":60272,"code-slash-sharp":60273,"code-working":60274,"code-working-outline":60275,"code-working-sharp":60276,cog:60277,"cog-outline":60278,"cog-sharp":60279,"color-fill":60280,"color-fill-outline":60281,"color-fill-sharp":60282,"color-filter":60283,"color-filter-outline":60284,"color-filter-sharp":60285,"color-palette":60286,"color-palette-outline":60287,"color-palette-sharp":60288,"color-wand":60289,"color-wand-outline":60290,"color-wand-sharp":60291,compass:60292,"compass-outline":60293,"compass-sharp":60294,construct:60295,"construct-outline":60296,"construct-sharp":60297,contract:60298,"contract-outline":60299,"contract-sharp":60300,contrast:60301,"contrast-outline":60302,"contrast-sharp":60303,copy:60304,"copy-outline":60305,"copy-sharp":60306,create:60307,"create-outline":60308,"create-sharp":60309,crop:60310,"crop-outline":60311,"crop-sharp":60312,cube:60313,"cube-outline":60314,"cube-sharp":60315,cut:60316,"cut-outline":60317,"cut-sharp":60318,desktop:60319,"desktop-outline":60320,"desktop-sharp":60321,diamond:60322,"diamond-outline":60323,"diamond-sharp":60324,dice:60325,"dice-outline":60326,"dice-sharp":60327,disc:60328,"disc-outline":60329,"disc-sharp":60330,document:60331,"document-attach":60332,"document-attach-outline":60333,"document-attach-sharp":60334,"document-lock":60335,"document-lock-outline":60336,"document-lock-sharp":60337,"document-outline":60338,"document-sharp":60339,"document-text":60340,"document-text-outline":60341,"document-text-sharp":60342,documents:60343,"documents-outline":60344,"documents-sharp":60345,download:60346,"download-outline":60347,"download-sharp":60348,duplicate:60349,"duplicate-outline":60350,"duplicate-sharp":60351,ear:60352,"ear-outline":60353,"ear-sharp":60354,earth:60355,"earth-outline":60356,"earth-sharp":60357,easel:60358,"easel-outline":60359,"easel-sharp":60360,egg:60361,"egg-outline":60362,"egg-sharp":60363,ellipse:60364,"ellipse-outline":60365,"ellipse-sharp":60366,"ellipsis-horizontal":60367,"ellipsis-horizontal-circle":60368,"ellipsis-horizontal-circle-outline":60369,"ellipsis-horizontal-circle-sharp":60370,"ellipsis-horizontal-outline":60371,"ellipsis-horizontal-sharp":60372,"ellipsis-vertical":60373,"ellipsis-vertical-circle":60374,"ellipsis-vertical-circle-outline":60375,"ellipsis-vertical-circle-sharp":60376,"ellipsis-vertical-outline":60377,"ellipsis-vertical-sharp":60378,enter:60379,"enter-outline":60380,"enter-sharp":60381,exit:60382,"exit-outline":60383,"exit-sharp":60384,expand:60385,"expand-outline":60386,"expand-sharp":60387,"extension-puzzle":60388,"extension-puzzle-outline":60389,"extension-puzzle-sharp":60390,eye:60391,"eye-off":60392,"eye-off-outline":60393,"eye-off-sharp":60394,"eye-outline":60395,"eye-sharp":60396,eyedrop:60397,"eyedrop-outline":60398,"eyedrop-sharp":60399,"fast-food":60400,"fast-food-outline":60401,"fast-food-sharp":60402,female:60403,"female-outline":60404,"female-sharp":60405,"file-tray":60406,"file-tray-full":60407,"file-tray-full-outline":60408,"file-tray-full-sharp":60409,"file-tray-outline":60410,"file-tray-sharp":60411,"file-tray-stacked":60412,"file-tray-stacked-outline":60413,"file-tray-stacked-sharp":60414,film:60415,"film-outline":60416,"film-sharp":60417,filter:60418,"filter-circle":60419,"filter-circle-outline":60420,"filter-circle-sharp":60421,"filter-outline":60422,"filter-sharp":60423,"finger-print":60424,"finger-print-outline":60425,"finger-print-sharp":60426,fish:60427,"fish-outline":60428,"fish-sharp":60429,fitness:60430,"fitness-outline":60431,"fitness-sharp":60432,flag:60433,"flag-outline":60434,"flag-sharp":60435,flame:60436,"flame-outline":60437,"flame-sharp":60438,flash:60439,"flash-off":60440,"flash-off-outline":60441,"flash-off-sharp":60442,"flash-outline":60443,"flash-sharp":60444,flashlight:60445,"flashlight-outline":60446,"flashlight-sharp":60447,flask:60448,"flask-outline":60449,"flask-sharp":60450,flower:60451,"flower-outline":60452,"flower-sharp":60453,folder:60454,"folder-open":60455,"folder-open-outline":60456,"folder-open-sharp":60457,"folder-outline":60458,"folder-sharp":60459,football:60460,"football-outline":60461,"football-sharp":60462,footsteps:60463,"footsteps-outline":60464,"footsteps-sharp":60465,funnel:60466,"funnel-outline":60467,"funnel-sharp":60468,"game-controller":60469,"game-controller-outline":60470,"game-controller-sharp":60471,gift:60472,"gift-outline":60473,"gift-sharp":60474,"git-branch":60475,"git-branch-outline":60476,"git-branch-sharp":60477,"git-commit":60478,"git-commit-outline":60479,"git-commit-sharp":60480,"git-compare":60481,"git-compare-outline":60482,"git-compare-sharp":60483,"git-merge":60484,"git-merge-outline":60485,"git-merge-sharp":60486,"git-network":60487,"git-network-outline":60488,"git-network-sharp":60489,"git-pull-request":60490,"git-pull-request-outline":60491,"git-pull-request-sharp":60492,glasses:60493,"glasses-outline":60494,"glasses-sharp":60495,globe:60496,"globe-outline":60497,"globe-sharp":60498,golf:60499,"golf-outline":60500,"golf-sharp":60501,grid:60502,"grid-outline":60503,"grid-sharp":60504,hammer:60505,"hammer-outline":60506,"hammer-sharp":60507,"hand-left":60508,"hand-left-outline":60509,"hand-left-sharp":60510,"hand-right":60511,"hand-right-outline":60512,"hand-right-sharp":60513,happy:60514,"happy-outline":60515,"happy-sharp":60516,"hardware-chip":60517,"hardware-chip-outline":60518,"hardware-chip-sharp":60519,headset:60520,"headset-outline":60521,"headset-sharp":60522,heart:60523,"heart-circle":60524,"heart-circle-outline":60525,"heart-circle-sharp":60526,"heart-dislike":60527,"heart-dislike-circle":60528,"heart-dislike-circle-outline":60529,"heart-dislike-circle-sharp":60530,"heart-dislike-outline":60531,"heart-dislike-sharp":60532,"heart-half":60533,"heart-half-outline":60534,"heart-half-sharp":60535,"heart-outline":60536,"heart-sharp":60537,help:60538,"help-buoy":60539,"help-buoy-outline":60540,"help-buoy-sharp":60541,"help-circle":60542,"help-circle-outline":60543,"help-circle-sharp":60544,"help-outline":60545,"help-sharp":60546,home:60547,"home-outline":60548,"home-sharp":60549,hourglass:60550,"hourglass-outline":60551,"hourglass-sharp":60552,"ice-cream":60553,"ice-cream-outline":60554,"ice-cream-sharp":60555,"id-card":60556,"id-card-outline":60557,"id-card-sharp":60558,image:60559,"image-outline":60560,"image-sharp":60561,images:60562,"images-outline":60563,"images-sharp":60564,infinite:60565,"infinite-outline":60566,"infinite-sharp":60567,information:60568,"information-circle":60569,"information-circle-outline":60570,"information-circle-sharp":60571,"information-outline":60572,"information-sharp":60573,"invert-mode":60574,"invert-mode-outline":60575,"invert-mode-sharp":60576,journal:60577,"journal-outline":60578,"journal-sharp":60579,key:60580,"key-outline":60581,"key-sharp":60582,keypad:60583,"keypad-outline":60584,"keypad-sharp":60585,language:60586,"language-outline":60587,"language-sharp":60588,laptop:60589,"laptop-outline":60590,"laptop-sharp":60591,layers:60592,"layers-outline":60593,"layers-sharp":60594,leaf:60595,"leaf-outline":60596,"leaf-sharp":60597,library:60598,"library-outline":60599,"library-sharp":60600,link:60601,"link-outline":60602,"link-sharp":60603,list:60604,"list-circle":60605,"list-circle-outline":60606,"list-circle-sharp":60607,"list-outline":60608,"list-sharp":60609,locate:60610,"locate-outline":60611,"locate-sharp":60612,location:60613,"location-outline":60614,"location-sharp":60615,"lock-closed":60616,"lock-closed-outline":60617,"lock-closed-sharp":60618,"lock-open":60619,"lock-open-outline":60620,"lock-open-sharp":60621,"log-in":60622,"log-in-outline":60623,"log-in-sharp":60624,"log-out":60625,"log-out-outline":60626,"log-out-sharp":60627,"logo-alipay":60628,"logo-amazon":60629,"logo-amplify":60630,"logo-android":60631,"logo-angular":60632,"logo-apple":60633,"logo-apple-appstore":60634,"logo-apple-ar":60635,"logo-behance":60636,"logo-bitbucket":60637,"logo-bitcoin":60638,"logo-buffer":60639,"logo-capacitor":60640,"logo-chrome":60641,"logo-closed-captioning":60642,"logo-codepen":60643,"logo-css3":60644,"logo-designernews":60645,"logo-deviantart":60646,"logo-discord":60647,"logo-docker":60648,"logo-dribbble":60649,"logo-dropbox":60650,"logo-edge":60651,"logo-electron":60652,"logo-euro":60653,"logo-facebook":60654,"logo-figma":60655,"logo-firebase":60656,"logo-firefox":60657,"logo-flickr":60658,"logo-foursquare":60659,"logo-github":60660,"logo-gitlab":60661,"logo-google":60662,"logo-google-playstore":60663,"logo-hackernews":60664,"logo-html5":60665,"logo-instagram":60666,"logo-ionic":60667,"logo-ionitron":60668,"logo-javascript":60669,"logo-laravel":60670,"logo-linkedin":60671,"logo-markdown":60672,"logo-mastodon":60673,"logo-medium":60674,"logo-microsoft":60675,"logo-no-smoking":60676,"logo-nodejs":60677,"logo-npm":60678,"logo-octocat":60679,"logo-paypal":60680,"logo-pinterest":60681,"logo-playstation":60682,"logo-pwa":60683,"logo-python":60684,"logo-react":60685,"logo-reddit":60686,"logo-rss":60687,"logo-sass":60688,"logo-skype":60689,"logo-slack":60690,"logo-snapchat":60691,"logo-soundcloud":60692,"logo-stackoverflow":60693,"logo-steam":60694,"logo-stencil":60695,"logo-tableau":60696,"logo-tiktok":60697,"logo-tumblr":60698,"logo-tux":60699,"logo-twitch":60700,"logo-twitter":60701,"logo-usd":60702,"logo-venmo":60703,"logo-vercel":60704,"logo-vimeo":60705,"logo-vk":60706,"logo-vue":60707,"logo-web-component":60708,"logo-wechat":60709,"logo-whatsapp":60710,"logo-windows":60711,"logo-wordpress":60712,"logo-xbox":60713,"logo-xing":60714,"logo-yahoo":60715,"logo-yen":60716,"logo-youtube":60717,magnet:60718,"magnet-outline":60719,"magnet-sharp":60720,mail:60721,"mail-open":60722,"mail-open-outline":60723,"mail-open-sharp":60724,"mail-outline":60725,"mail-sharp":60726,"mail-unread":60727,"mail-unread-outline":60728,"mail-unread-sharp":60729,male:60730,"male-female":60731,"male-female-outline":60732,"male-female-sharp":60733,"male-outline":60734,"male-sharp":60735,man:60736,"man-outline":60737,"man-sharp":60738,map:60739,"map-outline":60740,"map-sharp":60741,medal:60742,"medal-outline":60743,"medal-sharp":60744,medical:60745,"medical-outline":60746,"medical-sharp":60747,medkit:60748,"medkit-outline":60749,"medkit-sharp":60750,megaphone:60751,"megaphone-outline":60752,"megaphone-sharp":60753,menu:60754,"menu-outline":60755,"menu-sharp":60756,mic:60757,"mic-circle":60758,"mic-circle-outline":60759,"mic-circle-sharp":60760,"mic-off":60761,"mic-off-circle":60762,"mic-off-circle-outline":60763,"mic-off-circle-sharp":60764,"mic-off-outline":60765,"mic-off-sharp":60766,"mic-outline":60767,"mic-sharp":60768,moon:60769,"moon-outline":60770,"moon-sharp":60771,move:60772,"move-outline":60773,"move-sharp":60774,"musical-note":60775,"musical-note-outline":60776,"musical-note-sharp":60777,"musical-notes":60778,"musical-notes-outline":60779,"musical-notes-sharp":60780,navigate:60781,"navigate-circle":60782,"navigate-circle-outline":60783,"navigate-circle-sharp":60784,"navigate-outline":60785,"navigate-sharp":60786,newspaper:60787,"newspaper-outline":60788,"newspaper-sharp":60789,notifications:60790,"notifications-circle":60791,"notifications-circle-outline":60792,"notifications-circle-sharp":60793,"notifications-off":60794,"notifications-off-circle":60795,"notifications-off-circle-outline":60796,"notifications-off-circle-sharp":60797,"notifications-off-outline":60798,"notifications-off-sharp":60799,"notifications-outline":60800,"notifications-sharp":60801,nuclear:60802,"nuclear-outline":60803,"nuclear-sharp":60804,nutrition:60805,"nutrition-outline":60806,"nutrition-sharp":60807,open:60808,"open-outline":60809,"open-sharp":60810,options:60811,"options-outline":60812,"options-sharp":60813,"paper-plane":60814,"paper-plane-outline":60815,"paper-plane-sharp":60816,"partly-sunny":60817,"partly-sunny-outline":60818,"partly-sunny-sharp":60819,pause:60820,"pause-circle":60821,"pause-circle-outline":60822,"pause-circle-sharp":60823,"pause-outline":60824,"pause-sharp":60825,paw:60826,"paw-outline":60827,"paw-sharp":60828,pencil:60829,"pencil-outline":60830,"pencil-sharp":60831,people:60832,"people-circle":60833,"people-circle-outline":60834,"people-circle-sharp":60835,"people-outline":60836,"people-sharp":60837,person:60838,"person-add":60839,"person-add-outline":60840,"person-add-sharp":60841,"person-circle":60842,"person-circle-outline":60843,"person-circle-sharp":60844,"person-outline":60845,"person-remove":60846,"person-remove-outline":60847,"person-remove-sharp":60848,"person-sharp":60849,"phone-landscape":60850,"phone-landscape-outline":60851,"phone-landscape-sharp":60852,"phone-portrait":60853,"phone-portrait-outline":60854,"phone-portrait-sharp":60855,"pie-chart":60856,"pie-chart-outline":60857,"pie-chart-sharp":60858,pin:60859,"pin-outline":60860,"pin-sharp":60861,pint:60862,"pint-outline":60863,"pint-sharp":60864,pizza:60865,"pizza-outline":60866,"pizza-sharp":60867,planet:60868,"planet-outline":60869,"planet-sharp":60870,play:60871,"play-back":60872,"play-back-circle":60873,"play-back-circle-outline":60874,"play-back-circle-sharp":60875,"play-back-outline":60876,"play-back-sharp":60877,"play-circle":60878,"play-circle-outline":60879,"play-circle-sharp":60880,"play-forward":60881,"play-forward-circle":60882,"play-forward-circle-outline":60883,"play-forward-circle-sharp":60884,"play-forward-outline":60885,"play-forward-sharp":60886,"play-outline":60887,"play-sharp":60888,"play-skip-back":60889,"play-skip-back-circle":60890,"play-skip-back-circle-outline":60891,"play-skip-back-circle-sharp":60892,"play-skip-back-outline":60893,"play-skip-back-sharp":60894,"play-skip-forward":60895,"play-skip-forward-circle":60896,"play-skip-forward-circle-outline":60897,"play-skip-forward-circle-sharp":60898,"play-skip-forward-outline":60899,"play-skip-forward-sharp":60900,podium:60901,"podium-outline":60902,"podium-sharp":60903,power:60904,"power-outline":60905,"power-sharp":60906,pricetag:60907,"pricetag-outline":60908,"pricetag-sharp":60909,pricetags:60910,"pricetags-outline":60911,"pricetags-sharp":60912,print:60913,"print-outline":60914,"print-sharp":60915,prism:60916,"prism-outline":60917,"prism-sharp":60918,pulse:60919,"pulse-outline":60920,"pulse-sharp":60921,push:60922,"push-outline":60923,"push-sharp":60924,"qr-code":60925,"qr-code-outline":60926,"qr-code-sharp":60927,radio:60928,"radio-button-off":60929,"radio-button-off-outline":60930,"radio-button-off-sharp":60931,"radio-button-on":60932,"radio-button-on-outline":60933,"radio-button-on-sharp":60934,"radio-outline":60935,"radio-sharp":60936,rainy:60937,"rainy-outline":60938,"rainy-sharp":60939,reader:60940,"reader-outline":60941,"reader-sharp":60942,receipt:60943,"receipt-outline":60944,"receipt-sharp":60945,recording:60946,"recording-outline":60947,"recording-sharp":60948,refresh:60949,"refresh-circle":60950,"refresh-circle-outline":60951,"refresh-circle-sharp":60952,"refresh-outline":60953,"refresh-sharp":60954,reload:60955,"reload-circle":60956,"reload-circle-outline":60957,"reload-circle-sharp":60958,"reload-outline":60959,"reload-sharp":60960,remove:60961,"remove-circle":60962,"remove-circle-outline":60963,"remove-circle-sharp":60964,"remove-outline":60965,"remove-sharp":60966,"reorder-four":60967,"reorder-four-outline":60968,"reorder-four-sharp":60969,"reorder-three":60970,"reorder-three-outline":60971,"reorder-three-sharp":60972,"reorder-two":60973,"reorder-two-outline":60974,"reorder-two-sharp":60975,repeat:60976,"repeat-outline":60977,"repeat-sharp":60978,resize:60979,"resize-outline":60980,"resize-sharp":60981,restaurant:60982,"restaurant-outline":60983,"restaurant-sharp":60984,"return-down-back":60985,"return-down-back-outline":60986,"return-down-back-sharp":60987,"return-down-forward":60988,"return-down-forward-outline":60989,"return-down-forward-sharp":60990,"return-up-back":60991,"return-up-back-outline":60992,"return-up-back-sharp":60993,"return-up-forward":60994,"return-up-forward-outline":60995,"return-up-forward-sharp":60996,ribbon:60997,"ribbon-outline":60998,"ribbon-sharp":60999,rocket:61e3,"rocket-outline":61001,"rocket-sharp":61002,rose:61003,"rose-outline":61004,"rose-sharp":61005,sad:61006,"sad-outline":61007,"sad-sharp":61008,save:61009,"save-outline":61010,"save-sharp":61011,scale:61012,"scale-outline":61013,"scale-sharp":61014,scan:61015,"scan-circle":61016,"scan-circle-outline":61017,"scan-circle-sharp":61018,"scan-outline":61019,"scan-sharp":61020,school:61021,"school-outline":61022,"school-sharp":61023,search:61024,"search-circle":61025,"search-circle-outline":61026,"search-circle-sharp":61027,"search-outline":61028,"search-sharp":61029,send:61030,"send-outline":61031,"send-sharp":61032,server:61033,"server-outline":61034,"server-sharp":61035,settings:61036,"settings-outline":61037,"settings-sharp":61038,shapes:61039,"shapes-outline":61040,"shapes-sharp":61041,share:61042,"share-outline":61043,"share-sharp":61044,"share-social":61045,"share-social-outline":61046,"share-social-sharp":61047,shield:61048,"shield-checkmark":61049,"shield-checkmark-outline":61050,"shield-checkmark-sharp":61051,"shield-half":61052,"shield-half-outline":61053,"shield-half-sharp":61054,"shield-outline":61055,"shield-sharp":61056,shirt:61057,"shirt-outline":61058,"shirt-sharp":61059,shuffle:61060,"shuffle-outline":61061,"shuffle-sharp":61062,skull:61063,"skull-outline":61064,"skull-sharp":61065,snow:61066,"snow-outline":61067,"snow-sharp":61068,sparkles:61069,"sparkles-outline":61070,"sparkles-sharp":61071,speedometer:61072,"speedometer-outline":61073,"speedometer-sharp":61074,square:61075,"square-outline":61076,"square-sharp":61077,star:61078,"star-half":61079,"star-half-outline":61080,"star-half-sharp":61081,"star-outline":61082,"star-sharp":61083,"stats-chart":61084,"stats-chart-outline":61085,"stats-chart-sharp":61086,stop:61087,"stop-circle":61088,"stop-circle-outline":61089,"stop-circle-sharp":61090,"stop-outline":61091,"stop-sharp":61092,stopwatch:61093,"stopwatch-outline":61094,"stopwatch-sharp":61095,storefront:61096,"storefront-outline":61097,"storefront-sharp":61098,subway:61099,"subway-outline":61100,"subway-sharp":61101,sunny:61102,"sunny-outline":61103,"sunny-sharp":61104,"swap-horizontal":61105,"swap-horizontal-outline":61106,"swap-horizontal-sharp":61107,"swap-vertical":61108,"swap-vertical-outline":61109,"swap-vertical-sharp":61110,sync:61111,"sync-circle":61112,"sync-circle-outline":61113,"sync-circle-sharp":61114,"sync-outline":61115,"sync-sharp":61116,"tablet-landscape":61117,"tablet-landscape-outline":61118,"tablet-landscape-sharp":61119,"tablet-portrait":61120,"tablet-portrait-outline":61121,"tablet-portrait-sharp":61122,telescope:61123,"telescope-outline":61124,"telescope-sharp":61125,tennisball:61126,"tennisball-outline":61127,"tennisball-sharp":61128,terminal:61129,"terminal-outline":61130,"terminal-sharp":61131,text:61132,"text-outline":61133,"text-sharp":61134,thermometer:61135,"thermometer-outline":61136,"thermometer-sharp":61137,"thumbs-down":61138,"thumbs-down-outline":61139,"thumbs-down-sharp":61140,"thumbs-up":61141,"thumbs-up-outline":61142,"thumbs-up-sharp":61143,thunderstorm:61144,"thunderstorm-outline":61145,"thunderstorm-sharp":61146,ticket:61147,"ticket-outline":61148,"ticket-sharp":61149,time:61150,"time-outline":61151,"time-sharp":61152,timer:61153,"timer-outline":61154,"timer-sharp":61155,today:61156,"today-outline":61157,"today-sharp":61158,toggle:61159,"toggle-outline":61160,"toggle-sharp":61161,"trail-sign":61162,"trail-sign-outline":61163,"trail-sign-sharp":61164,train:61165,"train-outline":61166,"train-sharp":61167,transgender:61168,"transgender-outline":61169,"transgender-sharp":61170,trash:61171,"trash-bin":61172,"trash-bin-outline":61173,"trash-bin-sharp":61174,"trash-outline":61175,"trash-sharp":61176,"trending-down":61177,"trending-down-outline":61178,"trending-down-sharp":61179,"trending-up":61180,"trending-up-outline":61181,"trending-up-sharp":61182,triangle:61183,"triangle-outline":61184,"triangle-sharp":61185,trophy:61186,"trophy-outline":61187,"trophy-sharp":61188,tv:61189,"tv-outline":61190,"tv-sharp":61191,umbrella:61192,"umbrella-outline":61193,"umbrella-sharp":61194,unlink:61195,"unlink-outline":61196,"unlink-sharp":61197,videocam:61198,"videocam-off":61199,"videocam-off-outline":61200,"videocam-off-sharp":61201,"videocam-outline":61202,"videocam-sharp":61203,"volume-high":61204,"volume-high-outline":61205,"volume-high-sharp":61206,"volume-low":61207,"volume-low-outline":61208,"volume-low-sharp":61209,"volume-medium":61210,"volume-medium-outline":61211,"volume-medium-sharp":61212,"volume-mute":61213,"volume-mute-outline":61214,"volume-mute-sharp":61215,"volume-off":61216,"volume-off-outline":61217,"volume-off-sharp":61218,walk:61219,"walk-outline":61220,"walk-sharp":61221,wallet:61222,"wallet-outline":61223,"wallet-sharp":61224,warning:61225,"warning-outline":61226,"warning-sharp":61227,watch:61228,"watch-outline":61229,"watch-sharp":61230,water:61231,"water-outline":61232,"water-sharp":61233,wifi:61234,"wifi-outline":61235,"wifi-sharp":61236,wine:61237,"wine-outline":61238,"wine-sharp":61239,woman:61240,"woman-outline":61241,"woman-sharp":61242}},224,[]);
__d(function(g,r,i,a,m,e,d){var c=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.HapticFeedback=void 0;c(r(d[1]));const t=e.HapticFeedback={light:()=>{},medium:()=>{},heavy:()=>{},success:()=>{},warning:()=>{},error:()=>{},selection:()=>{}};e.default=t},225,[1,86]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(o){let{icon:s,onPress:n,variant:w="primary",size:y="medium",disabled:p=!1,style:v}=o,k=(0,t.default)(o,h);const j=(()=>{switch(w){case'primary':default:return{backgroundColor:'rgba(0, 122, 255, 0.2)',borderColor:'rgba(0, 122, 255, 0.4)',shadowColor:'rgba(0, 122, 255, 0.3)'};case'secondary':return{backgroundColor:'rgba(142, 142, 147, 0.15)',borderColor:'rgba(142, 142, 147, 0.3)',shadowColor:'rgba(142, 142, 147, 0.2)'}}})(),x=(()=>{switch(y){case'small':return{width:f?44:48,height:f?44:48,borderRadius:f?12:14};case'large':return{width:f?56:64,height:f?56:64,borderRadius:f?16:18};default:return{width:f?48:56,height:f?48:56,borderRadius:f?14:16}}})(),O=(()=>{switch(y){case'small':return f?18:20;case'large':return f?26:30;default:return f?22:24}})();return(0,b.jsx)(l.default,Object.assign({style:[C.touchButton,x,{backgroundColor:j.backgroundColor,borderColor:j.borderColor,shadowColor:j.shadowColor},p&&C.disabled,v],onPress:()=>{!p&&n&&(u.HapticFeedback.light(),n())},activeOpacity:p?1:.6},k,{children:(0,b.jsx)(c.default,{name:s,size:O,color:p?'rgba(255, 255, 255, 0.3)':'rgba(255, 255, 255, 0.95)',style:C.icon})}))};var t=o(r(d[1])),l=(o(r(d[2])),o(r(d[3]))),s=o(r(d[4])),n=(o(r(d[5])),o(r(d[6]))),c=o(r(d[7])),u=r(d[8]),b=r(d[9]);const h=["icon","onPress","variant","size","disabled","style"],{width:w}=n.default.get('window'),f=w<375;const C=s.default.create({touchButton:{borderWidth:.5,backdropFilter:'blur(20px)',shadowOffset:{width:0,height:2},shadowOpacity:.15,shadowRadius:4,elevation:3,alignItems:'center',justifyContent:'center',overflow:'hidden',position:'relative'},icon:{textAlign:'center',textAlignVertical:'center',position:'absolute',alignSelf:'center'},disabled:{opacity:.3,backgroundColor:'rgba(142, 142, 147, 0.06)',borderColor:'rgba(142, 142, 147, 0.12)'}})},226,[1,126,25,119,33,86,123,227,225,141]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),o=(t(r(d[2])),t(r(d[3])),t(r(d[4])),t(r(d[5]))),s=r(d[6]);const n=["name","size","color","style"];e.default=t=>{let{name:u,size:c=24,color:f="#000",style:v}=t,y=(0,l.default)(t,n);return(0,s.jsx)(o.default,Object.assign({name:u,size:c,color:f,style:v},y))}},227,[1,126,25,86,152,228,141]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=t(r(d[1])),n=(t(r(d[2])),t(r(d[3])),t(r(d[4])),r(d[5]));const l=["name","size","color","style"];e.default=t=>{let{name:s,size:c=18,color:f="#000",style:p}=t,y=(0,o.default)(t,l);const u={check:'\u2713',checkmark:'\u2713',close:'\xd7','finger-print':'\u26ac',fingerprint:'\u26ac','color-palette':'\u25c9',palette:'\u25c9',keypad:'\u2328',dialpad:'\u2328',home:'\u2302',settings:'\u2699',search:'\u2315',menu:'\u2261','arrow-back':'\u2039',arrow_back:'\u2039','arrow-forward':'\u203a',arrow_forward:'\u203a',add:'+',remove:'\u2212',play:'\u25b6',play_arrow:'\u25b6',pause:'\u275a\u275a',stop:'\u25a0',refresh:'\u21bb',download:'\u2193',upload:'\u2191',share:'\u2197',heart:'\u2665',favorite:'\u2665',star:'\u2605',bookmark:'\u2691',lock:'\ud83d\udd12',unlock:'\ud83d\udd13',lock_open:'\ud83d\udd13',eye:'\ud83d\udc41',visibility:'\ud83d\udc41','eye-off':'\u26ab',visibility_off:'\u26ab',edit:'\u270e',delete:'\u2715',save:'\ud83d\udcbe',copy:'\u29c9',content_copy:'\u29c9',cut:'\u2702',content_cut:'\u2702',paste:'\u29c9',content_paste:'\u29c9'}[s]||'\u2022';return(0,n.jsx)("span",Object.assign({style:Object.assign({fontSize:Math.min(c,20),color:f,lineHeight:1,userSelect:'none',display:'inline-flex',alignItems:'center',justifyContent:'center',fontFamily:'monospace, system-ui',fontWeight:'bold',width:c,height:c,textAlign:'center'},p)},y,{children:u}))}},228,[1,126,25,122,86,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({game:e,onStartGame:r,onChangeTheme:i,colors:p}){const[y,T]=(0,t.useState)(!1),[j]=(0,t.useState)(new n.default.Value(1));return(0,b.jsxs)(n.default.View,{style:[w.container,{opacity:j}],children:[(0,b.jsx)(o.default,{style:[w.backgroundGradient,{backgroundColor:(0,h.colorToHex)(p.bg)}]}),(0,b.jsxs)(o.default,{style:w.content,children:[(0,b.jsxs)(o.default,{style:w.titleSection,children:[(0,b.jsx)(l.default,{style:[w.title,{color:(0,h.colorToHex)(p.ball)}],children:"PILLAR VALLEY"}),(0,b.jsx)(l.default,{style:[w.subtitle,{color:(0,h.colorToHex)(p.ball)}],children:"3D"}),(0,b.jsx)(o.default,{style:[w.titleUnderline,{backgroundColor:(0,h.colorToHex)(p.ball)}]})]}),(e.score>0||e.best>0)&&(0,b.jsxs)(o.default,{style:[w.statsSection,{backgroundColor:(0,h.colorToHex)(p.ball)+'10',borderColor:(0,h.colorToHex)(p.ball)+'30'}],children:[e.score>0&&(0,b.jsxs)(o.default,{style:w.statItem,children:[(0,b.jsx)(l.default,{style:[w.statLabel,{color:(0,h.colorToHex)(p.ball)}],children:"LAST SCORE"}),(0,b.jsx)(l.default,{style:[w.statValue,{color:(0,h.colorToHex)(p.ball)}],children:e.score})]}),e.best>0&&(0,b.jsxs)(o.default,{style:w.statItem,children:[(0,b.jsx)(l.default,{style:[w.statLabel,{color:(0,h.colorToHex)(p.ball)}],children:"BEST SCORE"}),(0,b.jsx)(l.default,{style:[w.statValue,{color:(0,h.colorToHex)(p.ball)}],children:e.best})]})]}),(0,b.jsxs)(o.default,{style:[w.currentTheme,{backgroundColor:(0,h.colorToHex)(p.ball)+'08',borderColor:(0,h.colorToHex)(p.ball)+'20'}],children:[(0,b.jsxs)(o.default,{style:w.themePreview,children:[(0,b.jsx)(o.default,{style:[w.previewBg,{backgroundColor:(0,h.colorToHex)(p.bg)}]}),(0,b.jsx)(o.default,{style:[w.previewPillar,{backgroundColor:(0,h.colorToHex)(p.pillar),left:'20%',height:'60%'}]}),(0,b.jsx)(o.default,{style:[w.previewPillar,{backgroundColor:(0,h.colorToHex)(p.pillar),left:'35%',height:'80%'}]}),(0,b.jsx)(o.default,{style:[w.previewPillar,{backgroundColor:(0,h.colorToHex)(p.pillar),left:'50%',height:'70%'}]}),(0,b.jsx)(o.default,{style:[w.previewBallGlow,{backgroundColor:(0,h.colorToHex)(p.ball)+'40'}]}),(0,b.jsx)(o.default,{style:[w.previewBall,{backgroundColor:(0,h.colorToHex)(p.ball)}]})]}),(0,b.jsxs)(o.default,{style:w.themeInfo,children:[(0,b.jsx)(l.default,{style:[w.themeName,{color:(0,h.colorToHex)(p.ball)}],children:p.name}),(0,b.jsxs)(l.default,{style:[w.themeCount,{color:(0,h.colorToHex)(p.ball)}],children:["Theme ",e.currentThemeIndex+1," of ",f.COLOR_SCHEMES.length]})]})]}),(0,b.jsxs)(o.default,{style:w.actionButtons,children:[(0,b.jsx)(c.default,{title:e.score>0?'PLAY AGAIN':'START GAME',icon:e.score>0?'refresh':'play',variant:"accent",size:"large",onPress:()=>{n.default.timing(j,{toValue:0,duration:300,useNativeDriver:!0}).start(()=>{r()})},iconColor:(0,h.colorToHex)(p.ball),style:[w.primaryButton,{backgroundColor:(0,h.colorToHex)(p.ball)+'20',borderColor:(0,h.colorToHex)(p.ball)+'40'}]}),(0,b.jsx)(c.default,{title:"SELECT THEME",icon:"color-palette",variant:"secondary",size:"medium",onPress:()=>T(!0),iconColor:(0,h.colorToHex)(p.ball),style:[w.secondaryButton,{backgroundColor:(0,h.colorToHex)(p.ball)+'10',borderColor:(0,h.colorToHex)(p.ball)+'25'}]})]}),(0,b.jsxs)(o.default,{style:w.instructions,children:[(0,b.jsxs)(o.default,{style:w.instructionItem,children:[(0,b.jsx)(s.default,{name:"finger-print",size:20,color:(0,h.colorToHex)(p.ball)+'80'}),(0,b.jsx)(l.default,{style:[w.instructionText,{color:(0,h.colorToHex)(p.ball)}],children:"Tap anywhere to jump when over a pillar"})]}),(0,b.jsxs)(o.default,{style:w.instructionItem,children:[(0,b.jsx)(s.default,{name:"color-palette",size:20,color:(0,h.colorToHex)(p.ball)+'80'}),(0,b.jsx)(l.default,{style:[w.instructionText,{color:(0,h.colorToHex)(p.ball)}],children:"Themes change automatically every 10 points"})]}),(0,b.jsxs)(o.default,{style:w.instructionItem,children:[(0,b.jsx)(s.default,{name:"keypad",size:20,color:(0,h.colorToHex)(p.ball)+'80'}),(0,b.jsx)(l.default,{style:[w.instructionText,{color:(0,h.colorToHex)(p.ball)}],children:"SPACE: Jump \u2022 P: Pause \u2022 T: Change Theme"})]})]})]}),(0,b.jsx)(u.default,{visible:y,currentThemeIndex:e.currentThemeIndex,onThemeSelect:e=>{x.themeManager.setTheme(e),T(!1)},onClose:()=>T(!1)})]})};var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,l=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(r=t?l:o){if(r.has(e))return r.get(e);r.set(e,n)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?r(n,t,i):n[t]=e[t]);return n})(e,t)})(_r(d[1])),o=e(_r(d[2])),l=e(_r(d[3])),r=e(_r(d[4])),i=(e(_r(d[5])),e(_r(d[6]))),n=e(_r(d[7])),s=e(_r(d[8])),c=e(_r(d[9])),u=e(_r(d[10])),f=_r(d[11]),h=_r(d[12]),x=_r(d[13]),b=_r(d[14]);const{width:p,height:y}=i.default.get('window'),T=p<375||y<667,j=p>=768;const w=r.default.create({container:{position:'absolute',top:0,left:0,right:0,bottom:0,justifyContent:'center',alignItems:'center',zIndex:1e3},backgroundGradient:{position:'absolute',top:0,left:0,right:0,bottom:0,opacity:.95},content:{alignItems:'center',maxWidth:T?320:j?500:400,width:'90%',paddingHorizontal:20},titleSection:{alignItems:'center',marginBottom:T?32:40},title:{fontSize:T?36:j?64:52,fontWeight:'800',letterSpacing:-1.2,textAlign:'center',fontFamily:'System',marginBottom:4},subtitle:{fontSize:T?24:j?40:32,fontWeight:'300',letterSpacing:2,textAlign:'center',fontFamily:'System',opacity:.8},titleUnderline:{width:60,height:3,borderRadius:2,marginTop:12,opacity:.6},statsSection:{flexDirection:'row',justifyContent:'space-around',width:'100%',paddingVertical:20,paddingHorizontal:24,borderRadius:16,borderWidth:.5,marginBottom:24,backdropFilter:'blur(20px)'},statItem:{alignItems:'center',flex:1},statLabel:{fontSize:12,fontWeight:'600',letterSpacing:.5,marginBottom:6,opacity:.8,fontFamily:'System'},statValue:{fontSize:28,fontWeight:'700',letterSpacing:-.5,fontFamily:'System'},currentTheme:{flexDirection:'row',alignItems:'center',width:'100%',paddingVertical:16,paddingHorizontal:20,borderRadius:16,borderWidth:.5,marginBottom:32,backdropFilter:'blur(20px)'},themePreview:{width:50,height:30,borderRadius:8,overflow:'hidden',marginRight:16,position:'relative'},previewBg:{position:'absolute',top:0,left:0,right:0,bottom:0},previewPillar:{position:'absolute',bottom:0,width:'8%',borderRadius:1},previewBallGlow:{position:'absolute',top:'10%',right:'20%',width:12,height:12,borderRadius:6,opacity:.6},previewBall:{position:'absolute',top:'12%',right:'22%',width:8,height:8,borderRadius:4,shadowColor:'rgba(255, 255, 255, 0.5)',shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:1,elevation:2},themeInfo:{flex:1},themeName:{fontSize:16,fontWeight:'600',letterSpacing:-.32,marginBottom:2,fontFamily:'System'},themeCount:{fontSize:13,fontWeight:'500',letterSpacing:-.08,opacity:.7,fontFamily:'System'},actionButtons:{width:'100%',gap:16,marginBottom:32},primaryButton:{alignSelf:'center',minWidth:'80%'},secondaryButton:{alignSelf:'center',minWidth:'70%'},instructions:{width:'100%',gap:12},instructionItem:{flexDirection:'row',alignItems:'center',paddingHorizontal:16,paddingVertical:8},instructionText:{fontSize:14,fontWeight:'500',marginLeft:12,opacity:.8,letterSpacing:-.24,fontFamily:'System',flex:1}})},229,[1,25,88,122,33,86,123,230,227,151,310,146,148,147,141]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},230,[1,231]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=t(r(d[1])),u=t(r(d[2])),f=t(r(d[3])),o=t(r(d[4])),n=t(r(d[5])),s=t(r(d[6])),c=t(r(d[7])),v=t(r(d[8])),_=t(r(d[9])),w=t(r(d[10])),L=u.default.isTesting?_.default:w.default;e.default=(0,l.default)({FlatList:f.default,Image:o.default,ScrollView:n.default,SectionList:s.default,Text:c.default,View:v.default},L)},231,[1,10,86,232,281,284,285,289,290,291,292]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?f(u,t,o):u[t]=e[t]);return u})(e,t)})(_r(d[2])),n=e(_r(d[3])),f=e(_r(d[4]));var o=r.forwardRef((e,f)=>r.createElement(n.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f})));_e.default=(0,f.default)(o)},232,[1,18,25,233,263]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},233,[1,234]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),i=e(_r(d[2])),r=e(_r(d[3])),s=e(_r(d[4])),n=e(_r(d[5])),o=e(_r(d[6])),l=(e(_r(d[7])),e(_r(d[8]))),u=(function(e,t){if("function"==typeof WeakMap)var i=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,n,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(s=t?r:i){if(s.has(e))return s.get(e);s.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?s(o,t,n):o[t]=e[t]);return o})(e,t)})(_r(d[9])),h=e(_r(d[10])),p=_r(d[11]),f=e(_r(d[12]));var c=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function C(e){return null!=e?e:1}function v(e){return'number'==typeof Object(e).length}class _ extends u.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var i=C(this.props.numColumns);if(i>1){for(var r=[],s=0;s<i;s++){var n=t*i+s;if(n<e.length){var o=e[n];r.push(o)}}return r}return e[t]},this._getItemCount=e=>{if(null!=e&&v(e)){var t=C(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var i,r=C(this.props.numColumns),s=null!==(i=this.props.keyExtractor)&&void 0!==i?i:p.keyExtractor;return r>1?((0,l.default)(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map((e,i)=>s(e,t*r+i)).join(':')):s(e,t)},this._renderer=(e,t,i,r,n)=>{var o=C(r),h=i=>e?u.createElement(e,i):t?t(i):null,p=e=>{if(o>1){var t=e.item,r=e.index;return(0,l.default)(Array.isArray(t),'Expected array of items with numColumns > 1'),u.createElement(s.default,{style:[b.row,i]},t.map((t,i)=>{var s=h({item:t,index:r*o+i,separators:e.separators});return null!=s?u.createElement(u.Fragment,{key:i},s):null}))}return h(e)};return e?{ListItemComponent:p}:{renderItem:p}},this._memoizedRenderer=(0,f.default)(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){(0,l.default)(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),(0,l.default)(e.onViewableItemsChanged===this.props.onViewableItemsChanged,'Changing onViewableItemsChanged on the fly is not supported'),(0,l.default)(!(0,o.default)(e.viewabilityConfig,this.props.viewabilityConfig),'Changing viewabilityConfig on the fly is not supported'),(0,l.default)(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,'Changing viewabilityConfigCallbackPairs on the fly is not supported'),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,i=e.getItemCount,r=e.horizontal,s=e.columnWrapperStyle,n=e.onViewableItemsChanged,o=e.viewabilityConfigCallbackPairs,u=C(this.props.numColumns);(0,l.default)(!t&&!i,'FlatList does not support custom data formats.'),u>1?(0,l.default)(!r,'numColumns does not support horizontal.'):(0,l.default)(!s,'columnWrapperStyle not supported for single column lists'),(0,l.default)(!(n&&o),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var i,s=C(this.props.numColumns),n=null!==(i=this.props.keyExtractor)&&void 0!==i?i:p.keyExtractor;t.item.forEach((i,o)=>{(0,l.default)(null!=t.index,'Missing index!');var u=t.index*s+o;e.push((0,r.default)((0,r.default)({},t),{},{item:i,key:n(i,u),index:u}))})}_createOnViewableItemsChanged(e){return t=>{var i=C(this.props.numColumns);if(e)if(i>1){var r=[],s=[];t.viewableItems.forEach(e=>this._pushMultiColumnViewable(s,e)),t.changed.forEach(e=>this._pushMultiColumnViewable(r,e)),e({viewableItems:s,changed:r})}else e(t)}}render(){var e,r=this.props,s=r.numColumns,n=r.columnWrapperStyle,o=r.removeClippedSubviews,l=r.strictMode,p=void 0!==l&&l,f=(0,i.default)(r,c),C=p?this._memoizedRenderer:this._renderer;return u.createElement(h.default,(0,t.default)({},f,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=o,null!=e&&e)},C(this.props.ListItemComponent,this.props.renderItem,n,s,this.props.extraData)))}}var b=n.default.create({row:{flexDirection:'row'}});_e.default=_},234,[1,18,34,10,88,33,235,86,15,25,236,260,262]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function t(n,f,u){if(void 0===u&&(u=-1),0===u)return!0;if(n===f)return!1;if('function'==typeof n&&'function'==typeof f)return!1;if('object'!=typeof n||null===n)return n!==f;if('object'!=typeof f||null===f)return!0;if(n.constructor!==f.constructor)return!0;if(Array.isArray(n)){var o=n.length;if(f.length!==o)return!0;for(var c=0;c<o;c++)if(t(n[c],f[c],u-1))return!0}else{for(var l in n)if(t(n[l],f[l],u-1))return!0;for(var v in f)if(void 0===n[v]&&void 0!==f[v])return!0}return!1}},235,[]);
__d(function(g,_r,_i3,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),s=e(_r(d[2])),r=e(_r(d[3])),i=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),n=e(_r(d[7])),h=e(_r(d[8])),c=e(_r(d[9])),u=e(_r(d[10])),p=_r(d[11]),f=e(_r(d[12])),_=e(_r(d[13])),v=e(_r(d[14])),y=e(_r(d[15])),C=e(_r(d[16])),L=_r(d[17]),b=_r(d[18]),S=e(_r(d[19])),M=e(_r(d[20])),I=(function(e,t){if("function"==typeof WeakMap)var s=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var i,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(i=t?r:s){if(i.has(e))return i.get(e);i.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(i=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?i(l,t,o):l[t]=e[t]);return l})(e,t)})(_r(d[21]));var R=!1,w='';function x(e){return null!=e&&e}function E(e){return null!=e?e:10}function T(e){return null!=e?e:2}function F(e){return null!=e?e:2}function k(e,t){return e*t/2}function V(e){return null!=e?e:21}function O(e,t){for(var s=e.length-1;s>=0;s--)if(t(e[s]))return e[s];return null}class z extends v.default{scrollToEnd(e){var t=!e||e.animated,s=this.props.getItemCount(this.props.data)-1;if(!(s<0)){var r=this.__getFrameMetricsApprox(s,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(x(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}scrollToIndex(e){var t=this.props,s=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,l=t.onScrollToIndexFailed,n=e.animated,h=e.index,c=e.viewOffset,u=e.viewPosition;if((0,S.default)(h>=0,"scrollToIndex out of range: requested index "+h+" but minimum is 0"),(0,S.default)(i(s)>=1,"scrollToIndex out of range: item length "+i(s)+" but minimum is 1"),(0,S.default)(h<i(s),"scrollToIndex out of range: requested index "+h+" is out of 0 to "+(i(s)-1)),!o&&h>this._highestMeasuredFrameIndex)return(0,S.default)(!!l,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void l({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:h});var p=this.__getFrameMetricsApprox(Math.floor(h),this.props),f=Math.max(0,this._getOffsetApprox(h,this.props)-(u||0)*(this._scrollMetrics.visibleLength-p.length))-(c||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:f,animated:n}:{y:f,animated:n}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}scrollToItem(e){for(var t=e.item,s=this.props,i=s.data,o=s.getItem,l=(0,s.getItemCount)(i),n=0;n<l;n++)if(o(i,n)===t){this.scrollToIndex((0,r.default)((0,r.default)({},e),{},{index:n}));break}}scrollToOffset(e){var t=e.animated,s=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(x(this.props.horizontal)?{x:s,animated:t}:{y:s,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||'rootList'}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach(e=>{var s=null!=e&&this._cellRefs[e];s&&s.updateSeparatorProps(t)})},this._getSpacerKey=e=>e?'height':'width',this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new f.default,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,r=e.onRefresh;return this._isNestedWithSameOrientation()?I.createElement(l.default,e):r?((0,S.default)('boolean'==typeof e.refreshing,'`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:'undefined')+'`'),I.createElement(o.default,(0,s.default)({},e,{refreshControl:null==e.refreshControl?I.createElement(i.default,{refreshing:e.refreshing,onRefresh:r,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):I.createElement(o.default,e)},this._onCellLayout=(e,t,s)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:s,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&s===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,s),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,r.default)((0,r.default)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:(0,M.default)(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,s=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:s,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach(t=>{t._onScroll(e)}),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,s=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),o=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var l=this._convertParentScrollMetrics({visibleLength:s,offset:i});s=l.visibleLength,r=l.contentLength,i=l.offset,o=l.dOffset}var n=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,h=o/n;n>500&&this._scrollMetrics.dt>500&&r>5*s&&!this._hasWarned.perf&&((0,u.default)("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:n,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var c=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:n,dOffset:o,offset:i,timestamp:t,velocity:h,visibleLength:s,zoomScale:c},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==h&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollBeginDrag(e)}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollBegin(e)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollEnd(e)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((e,t)=>{var s=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=z._createRenderMask(t,s,this._getNonViewportRenderRegions(t));return s.first===e.cellsAroundViewport.first&&s.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:s,renderMask:r}})},this._createViewToken=(e,t,s)=>{var r=s.data,i=(0,s.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,s),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var s=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return s.offset+r*s.length},this.__getFrameMetricsApprox=(e,t)=>{var s=this._getFrameMetrics(e,t);if(s&&s.index===e)return s;var r=t.data,i=t.getItemCount,o=t.getItemLayout;return(0,S.default)(e>=0&&e<i(r),'Tried to get frame for out of range index '+e),(0,S.default)(!o,'Should not have to estimate frames when a measurement metrics function is provided'),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var s=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;(0,S.default)(e>=0&&e<i(s),'Tried to get frame for out of range index '+e);var l=r(s,e),n=this._frames[this._keyExtractor(l,e,t)];return n&&n.index===e||!o?n:o(s,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,s=e.getItemCount(e.data);if(t>=s||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,o=r-1;o>=0&&i<this._scrollMetrics.visibleLength;o--)r--,i+=this.__getFrameMetricsApprox(o,e).length;for(var l=t,n=0,h=l+1;h<s&&n<this._scrollMetrics.visibleLength;h++)l++,n+=this.__getFrameMetricsApprox(h,e).length;return[{first:r,last:l}]},this._checkProps(e),this._fillRateHelper=new _.default(this._getFrameMetrics),this._updateCellsToRenderBatcher=new h.default(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityHelper:new y.default(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}));else{var n=this.props,c=n.onViewableItemsChanged,p=n.viewabilityConfig;c&&this._viewabilityTuples.push({viewabilityHelper:new y.default(p),onViewableItemsChanged:c})}var v=z._initialRenderRegion(e);this.state={cellsAroundViewport:v,renderMask:z._createRenderMask(e,v)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,s=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=s>r,o=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,l=o;i&&(l=o<0?Math.min(o+t,0):Math.max(o-(s-r-t),0));var n=o-l;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var h=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=n;var c=h.scrollLeft-l;h.scrollLeft=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}else{e.target.scrollTop+=n;var u=h.scrollTop-l;h.scrollTop=this.props.getItemLayout?u:Math.min(u,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,s=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;(0,S.default)(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),(0,S.default)(V(s)>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.'),(0,S.default)(r,'VirtualizedList: The "getItemCount" prop must be provided');var l=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||l>0&&o>=l)||this._hasWarned.initialScrollIndex||(console.warn("initialScrollIndex \""+o+"\" is not valid (list has "+l+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,s){var r=e.getItemCount(e.data);(0,S.default)(t.first>=0&&t.last>=t.first-1&&t.last<r,"Invalid cells around viewport \"["+t.first+", "+t.last+"]\" was passed to VirtualizedList._createRenderMask");var i=new p.CellRenderMask(r);if(r>0){for(var o=0,l=[t,...null!=s?s:[]];o<l.length;o++){var n=l[o];i.addCells(n)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var h=z._initialRenderRegion(e);i.addCells(h)}var c=new Set(e.stickyHeaderIndices);z._ensureClosestStickyHeader(e,c,i,t.first)}return i}static _initialRenderRegion(e){var t,s,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!=(s=e.initialNumToRender)?s:10))-1}}static _ensureClosestStickyHeader(e,t,s,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){s.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,t){var s,r=e.data,i=e.getItemCount,o=F(e.onEndReachedThreshold),l=this._scrollMetrics,n=l.contentLength,h=l.offset,c=l.visibleLength,u=n-c-h;if(c<=0||n<=0)return t.last>=i(r)?z._constrainToItemCount(t,e):t;if(e.disableVirtualization){var p=u<o*c?E(e.maxToRenderPerBatch):0;s={first:0,last:Math.min(t.last+p,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(u)>=Number.EPSILON)return t.last>=i(r)?z._constrainToItemCount(t,e):t;s=(0,b.computeWindowedRenderLimits)(e,E(e.maxToRenderPerBatch),V(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),(0,S.default)(s.last<i(r),'computeWindowedRenderLimits() should return range in-bounds')}if(this._nestedChildLists.size()>0){var f=this._findFirstChildWithMore(s.first,s.last);s.last=null!=f?f:s.last}return s}_findFirstChildWithMore(e,t){for(var s=e;s<=t;s++){var r=this._indicesToKeys.get(s);if(null!=r&&this._nestedChildLists.anyInCell(r,e=>e.hasMore()))return s}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener('wheel',this.invertedWheelEventHandler):setTimeout(()=>this.setupWebWheelHandler(),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener('wheel',this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var s=z._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:s,renderMask:z._createRenderMask(e,s)}}_pushCells(e,t,r,i,o,l){var n,h=this,c=this.props,u=c.CellRendererComponent,p=c.ItemSeparatorComponent,f=c.ListHeaderComponent,_=c.ListItemComponent,v=c.data,y=c.debug,L=c.getItem,b=c.getItemCount,S=c.getItemLayout,M=c.horizontal,R=c.renderItem,w=f?1:0,x=b(v)-1;o=Math.min(x,o);for(var E=function(){var i=L(v,T),o=h._keyExtractor(i,T,h.props);h._indicesToKeys.set(T,o),r.has(T+w)&&t.push(e.length);var c=null==S||y||h._fillRateHelper.enabled();e.push(I.createElement(C.default,(0,s.default)({CellRendererComponent:u,ItemSeparatorComponent:T<x?p:void 0,ListItemComponent:_,cellKey:o,horizontal:M,index:T,inversionStyle:l,item:i,key:o,prevCellKey:n,onUpdateSeparators:h._onUpdateSeparators,onCellFocusCapture:e=>h._onCellFocusCapture(o),onUnmount:h._onCellUnmount,ref:e=>{h._cellRefs[o]=e},renderItem:R},c&&{onCellLayout:h._onCellLayout}))),n=o},T=i;T<=o;T++)E()}static _constrainToItemCount(e,t){var s=t.getItemCount(t.data),r=Math.min(s-1,e.last),i=E(t.maxToRenderPerBatch);return{first:(0,c.default)(0,s-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==x(this.props.horizontal))}_keyExtractor(e,t,s){if(null!=s.keyExtractor)return s.keyExtractor(e,t);var r=(0,b.keyExtractor)(e,t);return r===String(t)&&(R=!0,e.type&&e.type.displayName&&(w=e.type.displayName)),r}render(){this._checkProps(this.props);var e=this.props,s=e.ListEmptyComponent,i=e.ListFooterComponent,o=e.ListHeaderComponent,n=this.props,h=n.data,u=n.horizontal,p=this.props.inverted?x(this.props.horizontal)?A.horizontallyInverted:A.verticallyInverted:null,f=[],_=new Set(this.props.stickyHeaderIndices),v=[];if(o){_.has(0)&&v.push(0);var y=I.isValidElement(o)?o:I.createElement(o,null);f.push(I.createElement(L.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-header',key:"$header"},I.createElement(l.default,{onLayout:this._onLayoutHeader,style:[p,this.props.ListHeaderComponentStyle]},y)))}var C=this.props.getItemCount(h);if(0===C&&s){var b=I.isValidElement(s)?s:I.createElement(s,null);f.push(I.createElement(L.VirtualizedListCellContextProvider,{cellKey:this._getCellKey()+'-empty',key:"$empty"},I.cloneElement(b,{onLayout:e=>{this._onLayoutEmpty(e),b.props.onLayout&&b.props.onLayout(e)},style:[p,b.props.style]})))}if(C>0){R=!1,w='';for(var S,M=this._getSpacerKey(!u),E=this.state.renderMask.enumerateRegions(),T=O(E,e=>e.isSpacer),F=(0,t.default)(E);!(S=F()).done;){var k=S.value;if(k.isSpacer){if(this.props.disableVirtualization)continue;var V=k===T&&!this.props.getItemLayout?(0,c.default)(k.first-1,k.last,this._highestMeasuredFrameIndex):k.last,z=this.__getFrameMetricsApprox(k.first,this.props),P=this.__getFrameMetricsApprox(V,this.props),W=P.offset+P.length-z.offset;f.push(I.createElement(l.default,{key:"$spacer-"+k.first,style:{[M]:W}}))}else this._pushCells(f,v,_,k.first,k.last,p)}!this._hasWarned.keys&&R&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",w),this._hasWarned.keys=!0)}if(i){var N=I.isValidElement(i)?i:I.createElement(i,null);f.push(I.createElement(L.VirtualizedListCellContextProvider,{cellKey:this._getFooterCellKey(),key:"$footer"},I.createElement(l.default,{onLayout:this._onLayoutFooter,style:[p,this.props.ListFooterComponentStyle]},N)))}var H,B=(0,r.default)((0,r.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(H=this.props.scrollEventThrottle,null!=H?H:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:v,style:p?[p,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<C-1;var K=I.createElement(L.VirtualizedListContextProvider,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:x(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},I.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(B),{ref:this._captureScrollRef},f));return this.props.debug?I.createElement(l.default,{style:A.debug},K,this._renderDebugOverlay()):K}componentDidUpdate(e){var t=this.props,s=t.data,r=t.extraData;s===e.data&&r===e.extraData||this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.resetViewableIndices()});var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,e=>{e.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,s,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:s,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach(e=>{e.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn('measureLayoutRelativeToContainingList threw an error',e.stack)}}_getFooterCellKey(){return this._getCellKey()+'-footer'}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],s=this.props.getItemCount(this.props.data),r=0;r<s;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,n=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),h=n.offset+n.length-o,c=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return I.createElement(l.default,{style:[A.debugOverlayBase,A.debugOverlay]},t.map((t,s)=>I.createElement(l.default,{key:'f'+s,style:[A.debugOverlayBase,A.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})),I.createElement(l.default,{style:[A.debugOverlayBase,A.debugOverlayFrameLast,{top:o*e,height:h*e}]}),I.createElement(l.default,{style:[A.debugOverlayBase,A.debugOverlayFrameVis,{top:c*e,height:u*e}]}))}_selectLength(e){return x(this.props.horizontal)?e.width:e.height}_selectOffset(e){return x(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,s=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,l=e.onEndReachedThreshold,n=e.initialScrollIndex,h=this._scrollMetrics,c=h.contentLength,u=h.visibleLength,p=h.offset,f=p,_=c-u-p;f<.001&&(f=0),_<.001&&(_=0);var v=f<=(null!=i?i*u:2),y=_<=(null!=l?l*u:2);o&&this.state.cellsAroundViewport.last===s(t)-1&&y&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:_})):null!=r&&0===this.state.cellsAroundViewport.first&&v&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?n&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:f})):(this._sentStartForContentLength=v?this._sentStartForContentLength:0,this._sentEndForContentLength=y?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,s=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,l=r.velocity,n=this.props.getItemCount(this.props.data),h=!1,c=T(this.props.onStartReachedThreshold),u=F(this.props.onEndReachedThreshold);if(t>0){var p=i-this.__getFrameMetricsApprox(t,this.props).offset;h=p<0||l<-2&&p<k(c,o)}if(!h&&s>=0&&s<n-1){var f=this.__getFrameMetricsApprox(s,this.props).offset-(i+o);h=f<0||l>2&&f<k(u,o)}if(h&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(s=>{s.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,s.onViewableItemsChanged,t)})}}z.contextType=L.VirtualizedListContext;var A=n.default.create({verticallyInverted:{transform:'scaleY(-1)'},horizontallyInverted:{transform:'scaleX(-1)'},debug:{flex:1},debugOverlayBase:{position:'absolute',top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:'blue',borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:'orange'},debugOverlayFrameLast:{left:0,borderColor:'green',borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:'red',borderWidth:2}});_e.default=z},236,[1,237,18,10,240,241,88,33,247,251,252,253,254,255,256,257,258,259,260,15,261,25]);
__d(function(g,_r,i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,t.default)(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var t=e(_r(d[1]))},237,[1,238]);
__d(function(g,_r,i,_a,m,e,d){var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){if(t){if("string"==typeof t)return(0,r.default)(t,n);var a={}.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?(0,r.default)(t,n):void 0}};var r=t(_r(d[1]))},238,[1,239]);
__d(function(g,_r,i,_a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}},239,[]);
__d(function(g,r,i,a,m,e,d){var o=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(r(d[1])),l=o(r(d[2])),s=o(r(d[3])),n=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];e.default=function(o){o.colors,o.enabled,o.onRefresh,o.progressBackgroundColor,o.progressViewOffset,o.refreshing,o.size,o.tintColor,o.title,o.titleColor;var f=(0,t.default)(o,n);return s.default.createElement(l.default,f)}},240,[1,34,88,25]);
__d(function(g,r,_i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var o=e(r(d[1])),l=e(r(d[2])),n=e(r(d[3])),t=e(r(d[4])),s=e(r(d[5])),i=e(r(d[6])),c=e(r(d[7])),h=(e(r(d[8])),e(r(d[9]))),p=e(r(d[10])),u=e(r(d[11])),S=e(r(d[12])),R=e(r(d[13])),f=e(r(d[14])),y=e(r(d[15])),T=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],b={};class v extends f.default.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var o=e.nativeEvent;this.isTouching=0!==o.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var o=u.default.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==o||e.target===o||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),u.default.blurTextInput(o))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;e=n.x,o=n.y,l=n.animated}var t=this.getScrollableNode(),s=e||0,i=o||0;null!=t&&('function'==typeof t.scroll?t.scroll({top:i,left:s,behavior:l?'smooth':'auto'}):(t.scrollLeft=s,t.scrollTop=i))},this.scrollResponderZoomTo=(e,o)=>{(0,i.default)('zoomToRect is not implemented')},this.scrollResponderScrollNativeHandleToKeyboard=(e,o,l)=>{this.additionalScrollOffset=o||0,this.preventNegativeScrollOffset=!!l,S.default.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,o,l,n)=>{var s=t.default.get('window').height;this.keyboardWillOpenTo&&(s=this.keyboardWillOpenTo.endCoordinates.screenY);var i=o-s+n+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(i=Math.max(0,i)),this.scrollResponderScrollTo({x:0,y:i,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,o,l)=>{if('number'==typeof e)console.warn('`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.');else{var n=e||b;o=n.x,e=n.y,l=n.animated}this.scrollResponderScrollTo({x:o||0,y:e||0,animated:!1!==l})},this.scrollToEnd=e=>{var o=!1!==(e&&e.animated),l=this.props.horizontal,n=this.getScrollableNode(),t=l?n.scrollWidth:0,s=l?0:n.scrollHeight;this.scrollResponderScrollTo({x:t,y:s,animated:o})},this._handleContentOnLayout=e=>{var o=e.nativeEvent.layout,l=o.width,n=o.height;this.props.onContentSizeChange(l,n)},this._handleScroll=e=>{'on-drag'===this.props.keyboardDismissMode&&(0,s.default)(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,c.default)(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){(0,y.default)(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error('Error measuring text field: ',e)}render(){var e=this.props,t=e.contentContainerStyle,s=e.horizontal,c=e.onContentSizeChange,p=e.refreshControl,u=e.stickyHeaderIndices,S=e.pagingEnabled,y=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),b=(0,n.default)(e,T),v={};c&&(v={onLayout:this._handleContentOnLayout});var H=!s&&Array.isArray(u),E=H||S?f.default.Children.map(this.props.children,(e,o)=>{var l=H&&u.indexOf(o)>-1;return null!=e&&(l||S)?f.default.createElement(R.default,{style:[l&&w.stickyHeader,S&&w.pagingEnabledChild]},e):e}):this.props.children,C=f.default.createElement(R.default,(0,l.default)({},v,{children:E,collapsable:!1,ref:this._setInnerViewRef,style:[s&&w.contentContainerHorizontal,y&&w.contentContainerCenterContent,t]})),M=s?w.baseHorizontal:w.baseVertical,D=s?w.pagingEnabledHorizontal:w.pagingEnabledVertical,I=(0,o.default)((0,o.default)({},b),{},{style:[M,S&&D,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),N=h.default;(0,i.default)(void 0!==N,'ScrollViewClass must not be undefined');var x=f.default.createElement(N,(0,l.default)({},I,{ref:this._setScrollNodeRef}),C);return p?f.default.cloneElement(p,{style:I.style},x):x}}var H={flexGrow:1,flexShrink:1,transform:'translateZ(0)',WebkitOverflowScrolling:'touch'},w=p.default.create({baseVertical:(0,o.default)((0,o.default)({},H),{},{flexDirection:'column',overflowX:'hidden',overflowY:'auto'}),baseHorizontal:(0,o.default)((0,o.default)({},H),{},{flexDirection:'row',overflowX:'auto',overflowY:'hidden'}),contentContainerHorizontal:{flexDirection:'row'},contentContainerCenterContent:{justifyContent:'center',flexGrow:1},stickyHeader:{position:'sticky',top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:'x mandatory'},pagingEnabledVertical:{scrollSnapType:'y mandatory'},pagingEnabledChild:{scrollSnapAlign:'start'}}),E=f.default.forwardRef((e,o)=>f.default.createElement(v,(0,l.default)({},e,{forwardedRef:o})));E.displayName='ScrollView';_e.default=E},241,[1,10,18,34,123,242,15,107,86,244,33,243,101,88,25,245]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1]));e.default=()=>{t.default.blurTextInput(t.default.currentlyFocusedField())}},242,[1,243]);
__d(function(g,r,i,a,m,e,d){var u=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=u(r(d[1])),l={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(u){null!==u&&(this._currentlyFocusedNode=u,document.activeElement!==u&&t.default.focus(u))},blurTextInput(u){null!==u&&(this._currentlyFocusedNode=null,document.activeElement===u&&t.default.blur(u))}};e.default=l},243,[1,101]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,l,c={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return c;if(n=t?o:r){if(n.has(e))return n.get(e);n.set(e,c)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?n(c,t,l):c[t]=e[t]);return c})(e,t)})(_r(d[3])),n=e(_r(d[4])),l=e(_r(d[5])),c=e(_r(d[6]));var i=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function u(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var s=o.forwardRef((e,n)=>{var s=e.onScroll,h=e.onTouchMove,v=e.onWheel,p=e.scrollEnabled,w=void 0===p||p,S=e.scrollEventThrottle,y=void 0===S?0:S,b=e.showsHorizontalScrollIndicator,T=e.showsVerticalScrollIndicator,_=e.style,M=(0,r.default)(e,i),W=o.useRef({isScrolling:!1,scrollLastTick:0}),k=o.useRef(null),D=o.useRef(null);function E(e){return t=>{w&&e&&e(t)}}function O(e){W.current.isScrolling=!0,P(e)}function P(e){W.current.scrollLastTick=Date.now(),s&&s(u(e))}function j(e){W.current.isScrolling=!1,s&&s(u(e))}var H=!1===b||!1===T;return o.createElement(l.default,(0,t.default)({},M,{onScroll:function(e){var t,r,o;e.stopPropagation(),e.target===D.current&&(e.persist(),null!=k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{j(e)},100),W.current.isScrolling?(t=W.current.scrollLastTick,r=y,o=Date.now()-t,r>0&&o>=r&&P(e)):O(e))},onTouchMove:E(h),onWheel:E(v),ref:(0,c.default)(D,n),style:[_,!w&&f.scrollDisabled,H&&f.hideScrollbar]}))}),f=n.default.create({scrollDisabled:{overflowX:'hidden',overflowY:'hidden',touchAction:'none'},hideScrollbar:{scrollbarWidth:'none'}});_e.default=s},244,[1,18,34,25,33,88,106]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);m.exports=t},245,[246]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return function(){return t}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(t){return t},m.exports=n},246,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1]));e.default=class{constructor(t,s){this._delay=s,this._callback=t}dispose(t){void 0===t&&(t={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),t.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var t=setTimeout(()=>{this._taskHandle=s.default.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(t)}}}}},247,[1,248]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),o=t(r(d[2])),s=t(r(d[3])),c=t(r(d[4])),l=new s.default,u={Events:{interactionStart:'interactionStart',interactionComplete:'interactionComplete'},runAfterInteractions(t){var n=[],o=new Promise(o=>{b(),t&&n.push(t),n.push({run:o,name:'resolve '+(t&&t.name||'?')}),p.enqueueTasks(n)});return{then:o.then.bind(o),done:o.then.bind(o),cancel:()=>{p.cancelTasks(n)}}},createInteractionHandle(){b();var t=++S;return v.add(t),t},clearInteractionHandle(t){(0,n.default)(!!t,'Must provide a handle to clear.'),b(),v.delete(t),h.add(t)},addListener:l.addListener.bind(l),setDeadline(t){T=t}},f=new Set,v=new Set,h=new Set,p=new o.default({onMoreTasks:b}),w=0,S=0,T=-1;function b(){w||(w=T>0?setTimeout(k):(0,c.default)(k))}function k(){w=0;var t=f.size;v.forEach(t=>f.add(t)),h.forEach(t=>f.delete(t));var n=f.size;if(0!==t&&0===n?l.emit(u.Events.interactionComplete):0===t&&0!==n&&l.emit(u.Events.interactionStart),0===n)for(var o=Date.now();p.hasTasksToProcess();)if(p.processNext(),T>0&&Date.now()-o>=T){b();break}v.clear(),h.clear()}e.default=u},248,[1,15,249,192,250]);
__d(function(g,r,i,a,m,_e,d){var e=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(r(d[1])),s=e(r(d[2]));_e.default=class{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(e=>this.enqueue(e))}cancelTasks(e){this._queueStack=this._queueStack.map(s=>(0,t.default)((0,t.default)({},s),{},{tasks:s.tasks.filter(t=>-1===e.indexOf(t))})).filter((e,t)=>e.tasks.length>0||0===t)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{'object'==typeof t&&t.gen?this._genPromise(t):'object'==typeof t&&t.run?t.run():((0,s.default)('function'==typeof t,'Expected Function, SimpleTask, or PromiseTask, but got:\n'+JSON.stringify(t,null,2)),t())}catch(e){throw e.message='TaskQueue: Error with task '+(t.name||'')+': '+e.message,e}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1})-1,s=this._queueStack[t];e.gen().then(()=>{s.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(t=>{setTimeout(()=>{throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t},0)})}}},249,[1,10,15]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.cancelIdleCallback=void 0;var t=l(r(d[1])).default&&void 0!==window.requestIdleCallback,n=t?window.requestIdleCallback:function(l,t){return setTimeout(()=>{var t=Date.now();l({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)};e.cancelIdleCallback=t?window.cancelIdleCallback:function(l){clearTimeout(l)},e.default=n},250,[1,30]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t,u,n){return u<t?t:u>n?n:u}},251,[]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(){return console.log(...arguments)}},252,[]);
__d(function(g,r,_i,a,m,e,d){var s=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.CellRenderMask=void 0;var t=s(r(d[1])),i=s(r(d[2]));e.CellRenderMask=class{constructor(s){(0,i.default)(s>=0,'CellRenderMask must contain a non-negative number os cells'),this._numCells=s,this._regions=0===s?[]:[{first:0,last:s-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(s){if((0,i.default)(s.first>=0&&s.first<this._numCells&&s.last>=-1&&s.last<this._numCells&&s.last>=s.first-1,'CellRenderMask.addCells called with invalid cell range'),!(s.last<s.first)){var l=this._findRegion(s.first),n=l[0],f=l[1],o=this._findRegion(s.last),u=o[0],_=o[1];if(f!==_||n.isSpacer){var c=[],h=[],p=(0,t.default)((0,t.default)({},s),{},{isSpacer:!1});n.first<p.first&&(n.isSpacer?c.push({first:n.first,last:p.first-1,isSpacer:!0}):p.first=n.first),u.last>p.last&&(u.isSpacer?h.push({first:p.last+1,last:u.last,isSpacer:!0}):p.last=u.last);var C=[...c,p,...h],v=_-f+1;this._regions.splice(f,v,...C)}}}numCells(){return this._numCells}equals(s){return this._numCells===s._numCells&&this._regions.length===s._regions.length&&this._regions.every((t,i)=>t.first===s._regions[i].first&&t.last===s._regions[i].last&&t.isSpacer===s._regions[i].isSpacer)}_findRegion(s){for(var t=0,l=this._regions.length-1;t<=l;){var n=Math.floor((t+l)/2),f=this._regions[n];if(s>=f.first&&s<=f.last)return[f,n];s<f.first?l=n-1:s>f.last&&(t=n+1)}(0,i.default)(!1,"A region was not found containing cellIdx "+s)}}},253,[1,10,15]);
__d(function(g,r,i,a,m,e,d){var l=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=l(r(d[1])),n=l(r(d[2]));e.default=class{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(l,t){var o;(0,n.default)(!this._childrenToCellKey.has(l),'Trying to add already present child list');var h=null!==(o=this._cellKeyToChildren.get(t))&&void 0!==o?o:new Set;h.add(l),this._cellKeyToChildren.set(t,h),this._childrenToCellKey.set(l,t)}remove(l){var t=this._childrenToCellKey.get(l);(0,n.default)(null!=t,'Trying to remove non-present child list'),this._childrenToCellKey.delete(l);var o=this._cellKeyToChildren.get(t);(0,n.default)(o,'_cellKeyToChildren should contain cellKey'),o.delete(l),0===o.size&&this._cellKeyToChildren.delete(t)}forEach(l){for(var n,o=(0,t.default)(this._cellKeyToChildren.values());!(n=o()).done;)for(var h,s=n.value,c=(0,t.default)(s);!(h=c()).done;){l(h.value)}}forEachInCell(l,n){for(var o,h,s=null!==(o=this._cellKeyToChildren.get(l))&&void 0!==o?o:[],c=(0,t.default)(s);!(h=c()).done;){n(h.value)}}anyInCell(l,n){for(var o,h,s=null!==(o=this._cellKeyToChildren.get(l))&&void 0!==o?o:[],c=(0,t.default)(s);!(h=c()).done;){if(n(h.value))return!0}return!1}size(){return this._childrenToCellKey.size}}},254,[1,237,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1]));class l{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var n=[],_=10,h=null;e.default=class{static addListener(t){return null===h&&console.warn('Call `FillRateHelper.setSampleRate` before `addListener`.'),n.push(t),{remove:()=>{n=n.filter(s=>t!==s)}}}static setSampleRate(t){h=t}static setMinSampleCount(t){_=t}constructor(t){this._anyBlankStartTime=null,this._enabled=!1,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(h||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=g.performance.now())}deactivateAndFlush(){if(this._enabled){var t=this._samplesStartTime;if(null!=t)if(this._info.sample_count<_)this._resetData();else{var l=g.performance.now()-t,h=(0,s.default)((0,s.default)({},this._info),{},{total_time_spent:l});n.forEach(t=>t(h)),this._resetData()}}}computeBlankness(t,s,l){if(!this._enabled||0===t.getItemCount(t.data)||s.last<s.first||null==this._samplesStartTime)return 0;var n=l.dOffset,_=l.offset,h=l.velocity,o=l.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(o),this._info.pixels_scrolled+=Math.round(Math.abs(n));var u=Math.round(1e3*Math.abs(h)),f=g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=f-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=f-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,p=s.first,y=this._getFrameMetrics(p,t);p<=s.last&&(!y||!y.inLayout);)y=this._getFrameMetrics(p,t),p++;y&&p>0&&(c=Math.min(o,Math.max(0,y.offset-_)));for(var b=0,k=s.last,S=this._getFrameMetrics(k,t);k>=s.first&&(!S||!S.inLayout);)S=this._getFrameMetrics(k,t),k--;if(S&&k<t.getItemCount(t.data)-1){var v=S.offset+S.length;b=Math.min(o,Math.max(0,_+o-v))}var M=Math.round(c+b),T=M/o;return T>0?(this._anyBlankStartTime=f,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=M,T>.5&&(this._mostlyBlankStartTime=f,this._info.mostly_blank_count++)):(u<.01||Math.abs(n)<1)&&this.deactivateAndFlush(),T}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new l,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}},255,[1,10]);
__d(function(g,_r,_i,a,m,_e,d){var t=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=t(_r(d[1])),s=(function(t,e){if("function"==typeof WeakMap)var s=new WeakMap,n=new WeakMap;return(function(t,e){if(!e&&t&&t.__esModule)return t;var r,o,i={__proto__:null,default:t};if(null===t||"object"!=typeof t&&"function"!=typeof t)return i;if(r=e?n:s){if(r.has(t))return r.get(t);r.set(t,i)}for(const e in t)"default"!==e&&{}.hasOwnProperty.call(t,e)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(t,e))&&(o.get||o.set)?r(i,e,o):i[e]=t[e]);return i})(t,e)})(_r(d[2]));class n extends s.PureComponent{constructor(t){super(t),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(t,e){'function'==typeof t?super.setState((e,s)=>{var n;this._inAsyncStateUpdate=!0;try{n=t(e,s)}catch(t){throw t}finally{this._inAsyncStateUpdate=!1}return n},e):super.setState(t,e)}_installSetStateHooks(){var t=this,s=this.props,n=this.state;Object.defineProperty(this,'props',{get:()=>((0,e.default)(!t._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),s),set(t){s=t}}),Object.defineProperty(this,'state',{get:()=>((0,e.default)(!t._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(t){n=t}})}}_e.default=n},256,[1,15,25]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),s=t(r(d[2])),l=t(r(d[3]));function o(t,n,s,l,o,u){if(c(s,l,o))return!0;var v=h(s,l,o);return 100*(t?v/o:v/u)>=n}function h(t,n,s){var l=Math.min(n,s)-Math.max(t,0);return Math.max(0,l)}function c(t,n,s){return t>=0&&n<=s&&n>t}e.default=class{constructor(t){void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(t,n,s,h,c){var u=t.getItemCount(t.data),v=this._config,f=v.itemVisiblePercentThreshold,_=v.viewAreaCoveragePercentThreshold,w=null!=_,I=w?_:f;(0,l.default)(null!=I&&null!=f!=(null!=_),'Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold');var b=[];if(0===u)return b;var p=-1,y=c||{first:0,last:u-1},T=y.first,V=y.last;if(V>=u)return console.warn('Invalid render range computing viewability '+JSON.stringify({renderRange:c,itemCount:u})),[];for(var C=T;C<=V;C++){var M=h(C,t);if(M){var P=M.offset-n,S=P+M.length;if(P<s&&S>0)p=C,o(w,I,P,S,s,M.length)&&b.push(C);else if(p>=0)break}}return b}onUpdate(t,n,s,l,o,h,c){var u=t.getItemCount(t.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==u&&l(0,t)){var v=[];if(u&&(v=this.computeViewableItems(t,n,s,l,c)),this._viewableIndices.length!==v.length||!this._viewableIndices.every((t,n)=>t===v[n]))if(this._viewableIndices=v,this._config.minimumViewTime){var f=setTimeout(()=>{this._timers.delete(f),this._onUpdateSync(t,v,h,o)},this._config.minimumViewTime);this._timers.add(f)}else this._onUpdateSync(t,v,h,o)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(t,l,o,h){l=l.filter(t=>this._viewableIndices.includes(t));for(var c,u=this._viewableItems,v=new Map(l.map(n=>{var s=h(n,!0,t);return[s.key,s]})),f=[],_=(0,s.default)(v);!(c=_()).done;){var w=c.value,I=w[0],b=w[1];u.has(I)||f.push(b)}for(var p,y=(0,s.default)(u);!(p=y()).done;){var T=p.value,V=T[0],C=T[1];v.has(V)||f.push((0,n.default)((0,n.default)({},C),{},{isViewable:!1}))}f.length>0&&(this._viewableItems=v,o({viewableItems:Array.from(v.values()),changed:f,viewabilityConfig:this._config}))}}},257,[1,10,237,15]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),o=e(_r(d[3])),s=e(_r(d[4])),n=_r(d[5]),i=e(_r(d[6])),l=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,o=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,n,i={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return i;if(s=t?o:r){if(s.has(e))return s.get(e);s.set(e,i)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?s(i,t,n):i[t]=e[t]);return i})(e,t)})(_r(d[7]));class p extends l.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,r=e.prevCellKey;this.props.onUpdateSeparators([t,r],{highlighted:!1})},updateProps:(e,t)=>{var r=this.props,o=r.cellKey,s=r.prevCellKey;this.props.onUpdateSeparators(['leading'===e?s:o],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,r.default)((0,r.default)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:(0,r.default)((0,r.default)({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,r,o){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?l.createElement(t,{item:r,index:o,separators:this._separators}):e?e({item:r,index:o,separators:this._separators}):void(0,i.default)(!1,'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.')}render(){var e=this.props,r=e.CellRendererComponent,s=e.ItemSeparatorComponent,i=e.ListItemComponent,p=e.cellKey,h=e.horizontal,c=e.item,f=e.index,y=e.inversionStyle,v=e.onCellFocusCapture,C=e.onCellLayout,_=e.renderItem,L=this._renderElement(_,i,c,f),P=l.isValidElement(s)?s:s&&l.createElement(s,this.state.separatorProps),w=y?h?[u.rowReverse,y]:[u.columnReverse,y]:h?[u.row,y]:y,K=r?l.createElement(r,(0,t.default)({cellKey:p,index:f,item:c,style:w,onFocusCapture:v},C&&{onLayout:this._onLayout}),L,P):l.createElement(o.default,(0,t.default)({style:w,onFocusCapture:v},C&&{onLayout:this._onLayout}),L,P);return l.createElement(n.VirtualizedListCellContextProvider,{cellKey:this.props.cellKey},K)}}_e.default=p;var u=s.default.create({row:{flexDirection:'row'},rowReverse:{flexDirection:'row-reverse'},columnReverse:{flexDirection:'column-reverse'}})},258,[1,18,10,88,33,259,15,25]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.VirtualizedListCellContextProvider=function(e){var n=e.cellKey,o=e.children,u=(0,r.useContext)(l),s=(0,r.useMemo)(()=>null==u?null:(0,t.default)((0,t.default)({},u),{},{cellKey:n}),[u,n]);return i.createElement(l.Provider,{value:s},o)},_e.VirtualizedListContext=void 0,_e.VirtualizedListContextProvider=function(e){var t=e.children,n=e.value,o=(0,r.useMemo)(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return i.createElement(l.Provider,{value:o},t)},_e.VirtualizedListContextResetter=function(e){var t=e.children;return i.createElement(l.Provider,{value:null},t)};var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var l,n,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(l=t?i:r){if(l.has(e))return l.get(e);l.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?l(o,t,n):o[t]=e[t]);return o})(e,t)})(_r(d[2])),i=r;var l=_e.VirtualizedListContext=i.createContext(null)},259,[1,10,25]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,n,f,o){void 0===o&&(o=1);for(var s=n.getItemCount(n.data),l=[],u=0;u<t.length;u++)for(var v=t[u],c=0,h=s-1;c<=h;){var M=c+(h-c>>>1),b=f(M,n),x=b.offset*o,y=(b.offset+b.length)*o;if(0===M&&v<x||0!==M&&v<=x)h=M-1;else{if(!(v>y)){l[u]=M;break}c=M+1}}return l}function n(t,n){return n.last-n.first+1-Math.max(0,1+Math.min(n.last,t.last)-Math.max(n.first,t.first))}Object.defineProperty(e,"__esModule",{value:!0}),e.computeWindowedRenderLimits=function(f,o,s,l,u,v){var c=f.getItemCount(f.data);if(0===c)return{first:0,last:-1};var h=v.offset,M=v.velocity,b=v.visibleLength,x=v.zoomScale,y=void 0===x?1:x,w=Math.max(0,h),k=w+b,p=(s-1)*b,C=M>1?'after':M<-1?'before':'none',O=Math.max(0,w-.5*p),_=Math.max(0,k+.5*p);if(u(c-1,f).offset*y<O)return{first:Math.max(0,c-1-o),last:c-1};var j=t([O,w,k,_],f,u,y),L=j[0],S=j[1],E=j[2],I=j[3];L=null==L?0:L,S=null==S?Math.max(0,L):S,I=null==I?c-1:I,E=null==E?Math.min(I,S+o-1):E;var R={first:S,last:E},z=n(l,R);for(;!(S<=L&&E>=I);){var B=z>=o,F=S<=l.first||S>l.last,J=S>L&&(!B||!F),N=E>=l.last||E<l.first,P=E<I&&(!B||!N);if(B&&!J&&!P)break;!J||'after'===C&&P&&N||(F&&z++,S--),!P||'before'===C&&J&&F||(N&&z++,E++)}if(!(E>=S&&S>=0&&E<c&&S>=L&&E<=I&&S<=R.first&&E>=R.last))throw new Error('Bad window calculation '+JSON.stringify({first:S,last:E,itemCount:c,overscanFirst:L,overscanLast:I,visible:R}));return{first:S,last:E}},e.elementsThatOverlapOffsets=t,e.keyExtractor=function(t,n){if('object'==typeof t&&null!=(null==t?void 0:t.key))return t.key;if('object'==typeof t&&null!=(null==t?void 0:t.id))return t.id;return String(n)},e.newRangeCount=n},260,[]);
__d(function(g,r,i,a,m,e,d){'use strict';function t(t,o){if(null!=t)return t;var n=new Error(void 0!==o?o:'Got unexpected '+t);throw n.framesToPop=1,n}m.exports=t,m.exports.default=t,Object.defineProperty(m.exports,'__esModule',{value:!0})},261,[]);
__d(function(g,r,_i2,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n){void 0===n&&(n=u);var l=null;function i(){for(var u=[],i=0;i<arguments.length;i++)u[i]=arguments[i];if(l&&l.lastThis===this&&n(u,l.lastArgs))return l.lastResult;var s=t.apply(this,u);return l={lastResult:s,lastArgs:u,lastThis:this},s}return i.clear=function(){l=null},i};var t=Number.isNaN||function(t){return'number'==typeof t&&t!=t};function n(n,u){return n===u||!(!t(n)||!t(u))}function u(t,u){if(t.length!==u.length)return!1;for(var l=0;l<t.length;l++)if(!n(t[l],u[l]))return!1;return!0}},262,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function(e){return f.forwardRef((o,i)=>{var c=(0,n.default)(o),p=c[0],s=c[1],y=(0,u.default)(s,i),_=p.passthroughAnimatedPropExplicitValues,v=p.style,w=null!=_?_:{},M=w.style,O=(0,r.default)(w,l),P=[v,M];return f.createElement(e,(0,t.default)({},p,O,{style:P,ref:y}))})};var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),u=e(_r(d[4])),f=(e(_r(d[5])),e(_r(d[6])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var u,f,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(u=t?n:r){if(u.has(e))return u.get(e);u.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((f=(u=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(f.get||f.set)?u(l,t,f):l[t]=e[t]);return l})(e,t)})(_r(d[7])));var l=["style"]},263,[1,18,34,264,280,33,88,25]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var u=(0,o.useReducer)(t=>t+1,0)[1],f=(0,o.useRef)(null),_=(0,o.useMemo)(()=>new n.default(t,()=>null==f.current?void 0:f.current()),[t]);v(_);var b=(0,o.useCallback)(n=>{_.setNativeView(n),f.current=()=>{u()};var c=h(n),o=[];for(var s in t){var v=t[s];v instanceof l.AnimatedEvent&&v.__isNative&&(v.__attach(c,s),o.push([s,v]))}return()=>{f.current=null;for(var t=0,u=o;t<u.length;t++){var n=u[t],l=n[0];n[1].__detach(c,l)}}},[t,_]),p=(0,c.default)(b);return[s(_),p]};var u=t(r(d[1])),n=t(r(d[2])),l=r(d[3]),c=t(r(d[4])),f=t(r(d[5])),o=r(d[6]),_=t(r(d[7]));function s(t){return(0,u.default)((0,u.default)({},t.__getValue()),{},{collapsable:!1})}function v(t){var u=(0,o.useRef)(null),n=(0,o.useRef)(!1);(0,o.useEffect)(()=>{f.default.API.flushQueue()}),(0,_.default)(()=>(n.current=!1,()=>{n.current=!0}),[]),(0,_.default)(()=>{if(t.__attach(),null!=u.current){var l=u.current;l.__restoreDefaultValues(),l.__detach(),u.current=null}return()=>{n.current?t.__detach():u.current=t}},[t])}function h(t){return'object'==typeof t&&'function'==typeof(null==t?void 0:t.getScrollableNode)?t.getScrollableNode():t}},264,[1,10,265,266,279,271,25,100]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),s=r(d[2]),n=t(r(d[3])),o=t(r(d[4])),l=t(r(d[5])),h=t(r(d[6]));class v extends n.default{constructor(t,s){super(),t.style&&(t=(0,_.default)((0,_.default)({},t),{},{style:new o.default(t.style)})),this._props=t,this._callback=s,this.__attach()}__getValue(){var t={};for(var _ in this._props){var l=this._props[_];l instanceof n.default?(!l.__isNative||l instanceof o.default)&&(t[_]=l.__getValue()):l instanceof s.AnimatedEvent?t[_]=l.__getHandler():t[_]=l}return t}__getAnimatedValue(){var t={};for(var _ in this._props){var s=this._props[_];s instanceof n.default&&(t[_]=s.__getAnimatedValue())}return t}__attach(){for(var t in this._props){var _=this._props[t];_ instanceof n.default&&_.__addChild(this)}}__detach(){for(var t in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var _=this._props[t];_ instanceof n.default&&_.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){for(var t in this.__isNative=!0,this._props){var _=this._props[t];_ instanceof n.default&&_.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(t){this._animatedView!==t&&(this._animatedView=t,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){(0,h.default)(this.__isNative,'Expected node to be marked as "native"');var t=this._animatedView;(0,h.default)(null!=t,'Unable to locate attached view in the native tree'),l.default.API.connectAnimatedNodeToView(this.__getNativeTag(),t)}__disconnectAnimatedView(){(0,h.default)(this.__isNative,'Expected node to be marked as "native"');var t=this._animatedView;(0,h.default)(null!=t,'Unable to locate attached view in the native tree'),l.default.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),t)}__restoreDefaultValues(){this.__isNative&&l.default.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var t={};for(var _ in this._props){var s=this._props[_];s instanceof n.default&&(s.__makeNative(),t[_]=s.__getNativeTag())}return{type:'props',props:t}}}e.default=v},265,[1,10,266,270,277,271,15]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.AnimatedEvent=void 0,_e.attachNativeEvent=r;var t=e(_r(d[1])),n=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,s,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(r=t?i:n){if(r.has(e))return r.get(e);r.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((s=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(s.get||s.set)?r(l,t,s):l[t]=e[t]);return l})(e,t)})(_r(d[2])),i=e(_r(d[3]));function r(e,r,s){var l=[],o=(e,n)=>{if(e instanceof t.default)e.__makeNative(),l.push({nativeEventPath:n,animatedValueTag:e.__getNativeTag()});else if('object'==typeof e)for(var i in e)o(e[i],n.concat(i))};return(0,i.default)(s[0]&&s[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.'),o(s[0].nativeEvent,[]),null!=e&&l.forEach(t=>{n.default.API.addAnimatedEventToView(e,r,t)}),{detach(){null!=e&&l.forEach(t=>{n.default.API.removeAnimatedEventFromView(e,r,t.animatedValueTag)})}}}_e.AnimatedEvent=class{constructor(e,t){this._listeners=[],this._argMapping=e,null==t&&(console.warn('Animated.event now requires a second argument for options'),t={useNativeDriver:!1}),t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=(0,n.shouldUseNativeDriver)(t)}__addListener(e){this._listeners.push(e)}__removeListener(e){this._listeners=this._listeners.filter(t=>t!==e)}__attach(e,t){(0,i.default)(this.__isNative,'Only native driven events need to be attached.'),this._attachedEvent=r(e,t,this._argMapping)}__detach(e,t){(0,i.default)(this.__isNative,'Only native driven events need to be detached.'),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var s=(e,n,i)=>{if(e instanceof t.default)'number'==typeof n&&e.setValue(n);else if('object'==typeof e)for(var r in e)s(e[r],n[r],r)};e._argMapping.forEach((e,t)=>{s(e,i[t],'arg'+t)}),e._callListeners(...i)}}_callListeners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach(e=>e(...t))}}},266,[1,267,271,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),_=t(r(d[3])),h=t(r(d[4])).default.API;class u extends n.default{constructor(t,s){if(super(),'number'!=typeof t)throw new Error('AnimatedValue: Attempting to set value to undefined');this._startingValue=this._value=t,this._offset=0,this._animation=null,s&&s.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&h.getValue(this.__getNativeTag(),t=>{this._value=t-this._offset}),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(t){var s,n;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(t,!this.__isNative),this.__isNative&&(s=this.__getNativeTag().toString(),n=()=>h.setAnimatedNodeValue(this.__getNativeTag(),t),h.setWaitingForIdentifier(s),n(),h.unsetWaitingForIdentifier(s))}setOffset(t){this._offset=t,this.__isNative&&h.setAnimatedNodeOffset(this.__getNativeTag(),t)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&h.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&h.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(t){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,t&&(this.__isNative?h.getValue(this.__getNativeTag(),t):t(this.__getValue()))}resetAnimation(t){this.stopAnimation(t),this._value=this._startingValue,this.__isNative&&h.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(t){this._updateValue(t,!1)}interpolate(t){return new s.default(this,t)}animate(t,s){var n=null;t.__isInteraction&&(n=_.default.createInteractionHandle());var h=this._animation;this._animation&&this._animation.stop(),this._animation=t,t.start(this._value,t=>{this._updateValue(t,!0)},t=>{this._animation=null,null!==n&&_.default.clearInteractionHandle(n),s&&s(t)},h,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(t){this.stopTracking(),this._tracking=t,this._tracking&&this._tracking.update()}_updateValue(t,s){if(void 0===t)throw new Error('AnimatedValue: Attempting to set value to undefined');var n,_;this._value=t,s&&(n=this,_=new Set,(function t(s){'function'==typeof s.update?_.add(s):s.__getChildren().forEach(t)})(n),_.forEach(t=>t.update())),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:'value',value:this._value,offset:this._offset}}}e.default=u},267,[1,268,269,248,271]);
__d(function(_g,_r,_i,_a,m,e,d){'use strict';var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(_r(d[1])),r=t(_r(d[2])),n=t(_r(d[3])),i=t(_r(d[4])),o=t(_r(d[5])),u=t=>t;function p(t){if(t.outputRange&&'string'==typeof t.outputRange[0])return h(t);var a=t.outputRange,r=t.inputRange,n=t.easing||u,o='extend';void 0!==t.extrapolateLeft?o=t.extrapolateLeft:void 0!==t.extrapolate&&(o=t.extrapolate);var p='extend';return void 0!==t.extrapolateRight?p=t.extrapolateRight:void 0!==t.extrapolate&&(p=t.extrapolate),t=>{(0,i.default)('number'==typeof t,'Cannot interpolation an input which is not a number');var u=g(t,r);return l(t,r[u],r[u+1],a[u],a[u+1],n,o,p)}}function l(t,a,r,n,i,o,u,p){var l=t;if(l<a){if('identity'===u)return l;'clamp'===u&&(l=a)}if(l>r){if('identity'===p)return l;'clamp'===p&&(l=r)}return n===i?n:a===r?t<=a?n:i:(a===-1/0?l=-l:r===1/0?l-=a:l=(l-a)/(r-a),l=o(l),n===-1/0?l=-l:i===1/0?l+=n:l=l*(i-n)+n,l)}function f(t){var a=(0,o.default)(t);return null===a||'number'!=typeof a?t:"rgba("+((4278190080&(a=a||0))>>>24)+", "+((16711680&a)>>>16)+", "+((65280&a)>>>8)+", "+(255&a)/255+")"}var _=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function h(t){var r=t.outputRange;(0,i.default)(r.length>=2,'Bad output range'),s(r=r.map(f));var n=r[0].match(_).map(()=>[]);r.forEach(t=>{t.match(_).forEach((t,a)=>{n[a].push(+t)})});var o,u=r[0].match(_).map((r,i)=>p((0,a.default)((0,a.default)({},t),{},{outputRange:n[i]}))),l='string'==typeof(o=r[0])&&o.startsWith('rgb');return t=>{var a=0;return r[0].replace(_,()=>{var r=+u[a++](t);return l&&(r=a<4?Math.round(r):Math.round(1e3*r)/1e3),String(r)})}}function s(t){for(var a=t[0].replace(_,''),r=1;r<t.length;++r)(0,i.default)(a===t[r].replace(_,''),'invalid pattern '+t[0]+' and '+t[r])}function g(t,a){var r;for(r=1;r<a.length-1&&!(a[r]>=t);++r);return r-1}class c extends r.default{constructor(t,a){super(),this._parent=t,this._config=a,this._interpolation=p(a)}__makeNative(t){this._parent.__makeNative(t),super.__makeNative(t)}__getValue(){var t=this._parent.__getValue();return(0,i.default)('number'==typeof t,'Cannot interpolate an input which is not a number.'),this._interpolation(t)}interpolate(t){return new c(this,t)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(t){return t.map(n.default.transformDataType)}__getNativeConfig(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||'extend',extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||'extend',type:'interpolation'}}}c.__createInterpolation=p;e.default=c},268,[1,10,269,271,15,42]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),s=t(r(d[2])),h=t(r(d[3]));class l extends s.default{constructor(){super(),this._children=[]}__makeNative(t){if(!this.__isNative){this.__isNative=!0;for(var s,l=(0,_.default)(this._children);!(s=l()).done;){var n=s.value;n.__makeNative(t),h.default.API.connectAnimatedNodes(this.__getNativeTag(),n.__getNativeTag())}}super.__makeNative(t)}__addChild(t){0===this._children.length&&this.__attach(),this._children.push(t),this.__isNative&&(t.__makeNative(this.__getPlatformConfig()),h.default.API.connectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()))}__removeChild(t){var _=this._children.indexOf(t);-1!==_?(this.__isNative&&t.__isNative&&h.default.API.disconnectAnimatedNodes(this.__getNativeTag(),t.__getNativeTag()),this._children.splice(_,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}__getChildren(){return this._children}__callListeners(t){if(super.__callListeners(t),!this.__isNative)for(var s,h=(0,_.default)(this._children);!(s=h()).done;){var l=s.value;l.__getValue&&l.__callListeners(l.__getValue())}}}e.default=l},269,[1,237,270,271]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),_=s.default.API,o=1;e.default=class{__attach(){}__detach(){this.__isNative&&null!=this.__nativeTag&&(s.default.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(t){}__removeChild(t){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(t){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=t,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(t){var s=String(o++);return this._listeners[s]=t,this.__isNative&&this._startListeningToNativeValueUpdates(),s}removeListener(t){delete this._listeners[t],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),_.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=s.default.nativeEventEmitter.addListener('onAnimatedValueUpdate',t=>{t.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(t.value)}))}__onAnimatedValueUpdateReceived(t){this.__callListeners(t)}__callListeners(t){for(var s in this._listeners)this._listeners[s]({value:t})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,_.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){var t;s.default.assertNativeAnimatedModule(),(0,n.default)(this.__isNative,'Attempt to get native tag from node not marked as "native"');var _=null!==(t=this.__nativeTag)&&void 0!==t?t:s.default.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=_;var o=this.__getNativeConfig();this._platformConfig&&(o.platformConfig=this._platformConfig),s.default.API.createAnimatedNode(_,o),this.__shouldUpdateListenersForNewNativeTag=!0}return _}__getNativeConfig(){throw new Error('This JS animated node type cannot be used as native animated node')}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(t){this._platformConfig=t}}},270,[1,271,15]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0,e.addWhitelistedInterpolationParam=I,e.addWhitelistedStyleProp=q,e.addWhitelistedTransformProp=V,e.assertNativeAnimatedModule=k,e.default=void 0,e.generateNewAnimationId=Q,e.generateNewNodeTag=W,e.isSupportedColorStyleProp=R,e.isSupportedInterpolationParam=E,e.isSupportedStyleProp=D,e.isSupportedTransformProp=C,e.shouldUseNativeDriver=M,e.transformDataType=X,e.validateInterpolation=L,e.validateStyles=x,e.validateTransform=F;var o,n=t(r(d[1])),u=t(r(d[2])),l=(t(r(d[3])),t(r(d[4]))),s=(t(r(d[5])),t(r(d[6]))),f=t(r(d[7])),p=(t(r(d[8])),u.default),v=1,c=1,N=new Set,b=!1,A=[],h=null,O=p,w=e.API={getValue:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.getValue,t,o)},setWaitingForIdentifier:function(t){N.add(t),b=!0,s.default.animatedShouldDebounceQueueFlush()&&h&&clearTimeout(h)},unsetWaitingForIdentifier:function(t){N.delete(t),0===N.size&&(b=!1,w.disableQueue())},disableQueue:function(){((0,f.default)(O,'Native animated module is not available'),s.default.animatedShouldDebounceQueueFlush())?(clearImmediate(h),h=setImmediate(w.flushQueue)):w.flushQueue()},flushQueue:function(){},queueOperation:function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),u=1;u<o;u++)n[u-1]=arguments[u];b||0!==A.length?A.push(()=>t(...n)):t(...n)},createAnimatedNode:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.createAnimatedNode,t,o)},updateAnimatedNodeConfig:function(t,o){(0,f.default)(O,'Native animated module is not available')},startListeningToAnimatedNodeValue:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.startListeningToAnimatedNodeValue,t)},stopListeningToAnimatedNodeValue:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.stopListeningToAnimatedNodeValue,t)},connectAnimatedNodes:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.connectAnimatedNodes,t,o)},disconnectAnimatedNodes:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.disconnectAnimatedNodes,t,o)},startAnimatingNode:function(t,o,n,u){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.startAnimatingNode,t,o,n,u)},stopAnimation:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.stopAnimation,t)},setAnimatedNodeValue:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.setAnimatedNodeValue,t,o)},setAnimatedNodeOffset:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.setAnimatedNodeOffset,t,o)},flattenAnimatedNodeOffset:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.flattenAnimatedNodeOffset,t)},extractAnimatedNodeOffset:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.extractAnimatedNodeOffset,t)},connectAnimatedNodeToView:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.connectAnimatedNodeToView,t,o)},disconnectAnimatedNodeFromView:function(t,o){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.disconnectAnimatedNodeFromView,t,o)},restoreDefaultValues:function(t){(0,f.default)(O,'Native animated module is not available'),null!=O.restoreDefaultValues&&w.queueOperation(O.restoreDefaultValues,t)},dropAnimatedNode:function(t){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.dropAnimatedNode,t)},addAnimatedEventToView:function(t,o,n){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.addAnimatedEventToView,t,o,n)},removeAnimatedEventFromView(t,o,n){(0,f.default)(O,'Native animated module is not available'),w.queueOperation(O.removeAnimatedEventFromView,t,o,n)}},y={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},T=(0,n.default)((0,n.default)({},y),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),P={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},S={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function q(t){T[t]=!0}function V(t){P[t]=!0}function I(t){S[t]=!0}function R(t){return y.hasOwnProperty(t)}function D(t){return T.hasOwnProperty(t)}function C(t){return P.hasOwnProperty(t)}function E(t){return S.hasOwnProperty(t)}function F(t){t.forEach(t=>{if(!C(t.property))throw new Error("Property '"+t.property+"' is not supported by native animated module")})}function x(t){for(var o in t)if(!D(o))throw new Error("Style property '"+o+"' is not supported by native animated module")}function L(t){for(var o in t)if(!E(o))throw new Error("Interpolation property '"+o+"' is not supported by native animated module")}function W(){return v++}function Q(){return c++}function k(){(0,f.default)(p,'Native animated module is not available')}var B=!1;function M(t){return null==t.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==t.useNativeDriver||p?t.useNativeDriver||!1:(B||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),B=!0),!1)}function X(t){return'string'!=typeof t?t:/deg$/.test(t)?(parseFloat(t)||0)*Math.PI/180:t}e.default={API:w,isSupportedColorStyleProp:R,isSupportedStyleProp:D,isSupportedTransformProp:C,isSupportedInterpolationParam:E,addWhitelistedStyleProp:q,addWhitelistedTransformProp:V,addWhitelistedInterpolationParam:I,validateStyles:x,validateTransform:F,validateInterpolation:L,generateNewNodeTag:W,generateNewAnimationId:Q,assertNativeAnimatedModule:k,shouldUseNativeDriver:M,transformDataType:X,get nativeEventEmitter(){return o||(o=new l.default(null)),o}}},271,[1,10,272,274,190,275,276,15,191]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,f,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((f=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(f.get||f.set)?o(u,t,f):u[t]=e[t]);return u})(e,t)})(_r(d[0]));_e.default=e.get('NativeAnimatedModule')},272,[273]);
__d(function(g,r,i,a,m,e,d){'use strict';var n=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.get=u,e.getEnforcing=function(n){var u=null;return(0,t.default)(null!=u,"TurboModuleRegistry.getEnforcing(...): '"+n+"' could not be found. Verify that a module by this name is registered in the native binary."),u};var t=n(r(d[1]));function u(n){return null}},273,[1,15]);
__d(function(g,_r,_i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,u,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((u=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(u.get||u.set)?o(f,t,u):f[t]=e[t]);return f})(e,t)})(_r(d[0]));_e.default=e.get('NativeAnimatedTurboModule')},274,[273]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},275,[1,86]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={isLayoutAnimationEnabled:()=>!0,shouldEmitW3CPointerEvents:()=>!1,shouldPressibilityUseW3CPointerEventsForHover:()=>!1,animatedShouldDebounceQueueFlush:()=>!1,animatedShouldUseSingleOp:()=>!1}},276,[]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),l=t(r(d[2])),_=t(r(d[3])),n=t(r(d[4])),u=t(r(d[5])).default.flatten;function f(t){var _=u(t),n={};for(var y in _){var v=_[y];'transform'===y&&Array.isArray(v)?n[y]=new l.default(v):v instanceof s.default?n[y]=v:v&&!Array.isArray(v)&&'object'==typeof v&&(n[y]=f(v))}return n}class y extends _.default{constructor(t){super(),this._inputStyle=t,this._style=f(t)}_walkStyleAndGetValues(t){var l={};for(var _ in t){var n=t[_];n instanceof s.default?n.__isNative||(l[_]=n.__getValue()):n&&!Array.isArray(n)&&'object'==typeof n?l[_]=this._walkStyleAndGetValues(n):l[_]=n}return l}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(t){var l={};for(var _ in t){var n=t[_];n instanceof s.default?l[_]=n.__getAnimatedValue():n&&!Array.isArray(n)&&'object'==typeof n&&(l[_]=this._walkStyleAndGetAnimatedValues(n))}return l}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var t in this._style){var l=this._style[t];l instanceof s.default&&l.__addChild(this)}}__detach(){for(var t in this._style){var l=this._style[t];l instanceof s.default&&l.__removeChild(this)}super.__detach()}__makeNative(){for(var t in this._style){var l=this._style[t];l instanceof s.default&&l.__makeNative()}super.__makeNative()}__getNativeConfig(){var t={};for(var l in this._style)if(this._style[l]instanceof s.default){var _=this._style[l];_.__makeNative(),t[l]=_.__getNativeTag()}return n.default.validateStyles(t),{type:'style',style:t}}}e.default=y},277,[1,270,278,269,271,33]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),f=t(r(d[3]));class _ extends n.default{constructor(t){super(),this._transforms=t}__makeNative(){this._transforms.forEach(t=>{for(var n in t){var f=t[n];f instanceof s.default&&f.__makeNative()}}),super.__makeNative()}__getValue(){return this._transforms.map(t=>{var n={};for(var f in t){var _=t[f];_ instanceof s.default?n[f]=_.__getValue():n[f]=_}return n})}__getAnimatedValue(){return this._transforms.map(t=>{var n={};for(var f in t){var _=t[f];_ instanceof s.default?n[f]=_.__getAnimatedValue():n[f]=_}return n})}__attach(){this._transforms.forEach(t=>{for(var n in t){var f=t[n];f instanceof s.default&&f.__addChild(this)}})}__detach(){this._transforms.forEach(t=>{for(var n in t){var f=t[n];f instanceof s.default&&f.__removeChild(this)}}),super.__detach()}__getNativeConfig(){var t=[];return this._transforms.forEach(n=>{for(var _ in n){var o=n[_];o instanceof s.default?t.push({type:'animated',property:_,nodeTag:o.__getNativeTag()}):t.push({type:'static',property:_,value:f.default.transformDataType(o)})}}),f.default.validateTransform(t),{type:'transform',transforms:t}}}e.default=_},278,[1,270,269,271]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){var t=(0,u.useRef)(void 0);return(0,u.useCallback)(u=>{t.current&&(t.current(),t.current=void 0),null!=u&&(t.current=n(u))},[n])};var u=r(d[0])},279,[25]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,u=new Array(t),l=0;l<t;l++)u[l]=arguments[l];return(0,n.useCallback)(n=>{for(var t=0,l=u;t<l.length;t++){var f=l[t];null!=f&&('function'==typeof f?f(n):f.current=n)}},[...u])};var n=r(d[0])},280,[25]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?f:n){if(r.has(e))return r.get(e);r.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(u,t,o):u[t]=e[t])})(e,t)})(_r(d[1]));var t=e(_r(d[2])),n=e(_r(d[3]));_e.default=(0,n.default)(t.default)},281,[1,25,282,263]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),n=e(_r(d[3])),o=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,l,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(o=t?n:r){if(o.has(e))return o.get(e);o.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((l=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(l.get||l.set)?o(u,t,l):u[t]=e[t]);return u})(e,t)})(_r(d[4])),l=e(_r(d[5])),u=_r(d[6]),i=_r(d[7]),s=e(_r(d[8])),c=e(_r(d[9])),f=e(_r(d[10])),h=e(_r(d[11])),p=e(_r(d[12])),b=_r(d[13]);var y=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],v='LOADED',w='LOADING',E=0,k=/^(data:image\/svg\+xml;utf8,)(.*)/;function z(e,t){return e&&null!=t?o.createElement("svg",{style:{position:'absolute',height:0,visibility:'hidden',width:0}},o.createElement("defs",null,o.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},o.createElement("feFlood",{floodColor:""+e,key:e}),o.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}function S(e,t,r,n){var o=f.default.flatten(e),l=o.filter,u=o.resizeMode,s=o.shadowOffset,c=o.tintColor;o.resizeMode&&(0,b.warnOnce)('Image.style.resizeMode','Image: style.resizeMode is deprecated. Please use props.resizeMode.'),o.tintColor&&(0,b.warnOnce)('Image.style.tintColor','Image: style.tintColor is deprecated. Please use props.tintColor.');var h=[],p=null;if(l&&h.push(l),t&&h.push("blur("+t+"px)"),s){var y=(0,i.createBoxShadowValue)(o);y&&h.push("drop-shadow("+y+")")}return(n||c)&&null!=r&&h.push("url(#tint-"+r+")"),h.length>0&&(p=h.join(' ')),[u,p,c]}function I(e){if('number'==typeof e){var t=(0,u.getAssetByID)(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&'object'==typeof e)return{height:e.height,width:e.width}}function C(e){var t=null;if('number'==typeof e){var r=(0,u.getAssetByID)(e);if(null==r)throw new Error("Image: asset with ID \""+e+"\" could not be found. Please check the image source or packager.");var n=r.scales[0];if(r.scales.length>1){var o=c.default.get();n=r.scales.reduce((e,t)=>Math.abs(t-o)<Math.abs(e-o)?t:e)}var l=1!==n?"@"+n+"x":'';t=r?r.httpServerLocation+"/"+r.name+l+"."+r.type:''}else'string'==typeof e?t=e:e&&'string'==typeof e.uri&&(t=e.uri);if(t){var i=t.match(k);if(i){var s=i[1],f=i[2];return""+s+encodeURIComponent(f)}}return t}var M=o.forwardRef((e,t)=>{var u=e['aria-label'],i=e.accessibilityLabel,c=e.blurRadius,f=e.defaultSource,b=e.draggable,k=e.onError,M=e.onLayout,L=e.onLoad,x=e.onLoadEnd,P=e.onLoadStart,_=e.pointerEvents,D=e.source,j=e.style,A=(0,n.default)(e,y),W=u||i,B=o.useState(()=>{var e=C(D);if(null!=e&&s.default.has(e))return v;return"IDLE"}),F=B[0],H=B[1],q=o.useState({}),N=q[0],$=q[1],G=o.useContext(h.default),U=o.useRef(null),V=o.useRef(E++),J=o.useRef(null),K=F===v||F===w&&null==f,Q=S(j,c,V.current,e.tintColor),T=Q[0],X=Q[1],Y=Q[2],Z=e.resizeMode||T||'cover',ee=e.tintColor||Y,te=K?D:f,re=C(te),ae=I(te),ne=re?"url(\""+re+"\")":null,oe=(function(){if(null!=U.current&&('center'===Z||'repeat'===Z)){var e=U.current,t=e.naturalHeight,r=e.naturalWidth,n=N.height,o=N.width;if(t&&r&&n&&o){var l=Math.min(1,o/r,n/t);return Math.ceil(l*r)+"px "+Math.ceil(l*t)+"px"}}})(),le=re?(0,l.default)('img',{alt:W||'',style:O.accessibilityImage$raw,draggable:b||!1,ref:U,src:re}):null;var ue=C(D);return o.useEffect(()=>{function e(){null!=J.current&&(s.default.abort(J.current),J.current=null)}return e(),null!=ue&&(H(w),P&&P(),J.current=s.default.load(ue,function(e){H(v),L&&L(e),x&&x()},function(){H("ERRORED"),k&&k({nativeEvent:{error:"Failed to load resource "+ue}}),x&&x()})),e},[ue,J,H,k,L,x,P]),o.createElement(p.default,(0,r.default)({},A,{"aria-label":W,onLayout:function(e){if('center'===Z||'repeat'===Z||M){var t=e.nativeEvent.layout;M&&M(e),$(t)}},pointerEvents:_,ref:t,style:[O.root,G&&O.inline,ae,j,O.undo,{boxShadow:null}]}),o.createElement(p.default,{style:[O.image,R[Z],{backgroundImage:ne,filter:X},null!=oe&&{backgroundSize:oe}],suppressHydrationWarning:!0}),le,z(ee,V.current))});M.displayName='Image';var L=M;L.getSize=function(e,t,r){s.default.getSize(e,t,r)},L.prefetch=function(e){return s.default.prefetch(e)},L.queryCache=function(e){return s.default.queryCache(e)};var O=f.default.create({root:{flexBasis:'auto',overflow:'hidden',zIndex:0},inline:{display:'inline-flex'},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,t.default)((0,t.default)({},f.default.absoluteFillObject),{},{backgroundColor:'transparent',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundSize:'cover',height:'100%',width:'100%',zIndex:-1}),accessibilityImage$raw:(0,t.default)((0,t.default)({},f.default.absoluteFillObject),{},{height:'100%',opacity:0,width:'100%',zIndex:-1})}),R=f.default.create({center:{backgroundSize:'auto'},contain:{backgroundSize:'contain'},cover:{backgroundSize:'cover'},none:{backgroundPosition:'0',backgroundSize:'auto'},repeat:{backgroundPosition:'0',backgroundRepeat:'repeat',backgroundSize:'auto'},stretch:{backgroundSize:'100% 100%'}});_e.default=L},282,[1,10,18,34,25,89,201,77,283,203,33,117,88,78]);
__d(function(g,r,i,a,m,_e,d){Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=_e.ImageUriCache=void 0;var e=/^data:/;class t{static has(n){var o=t._entries;return e.test(n)||Boolean(o[n])}static add(e){var n=t._entries,o=Date.now();n[e]?(n[e].lastUsedTimestamp=o,n[e].refCount+=1):n[e]={lastUsedTimestamp:o,refCount:1}}static remove(e){var n=t._entries;n[e]&&(n[e].refCount-=1),t._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,n,o=t._entries,s=Object.keys(o);s.length+1>t._maximumEntries&&(s.forEach(t=>{var s=o[t];(!n||s.lastUsedTimestamp<n.lastUsedTimestamp)&&0===s.refCount&&(e=t,n=s)}),e&&delete o[e])}}_e.ImageUriCache=t,t._maximumEntries=256,t._entries={};var n=0,o={},s={abort(e){var t=o[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete o[""+e])},getSize(e,t,n){var l=!1,c=setInterval(v,16),u=s.load(e,v,function(){'function'==typeof n&&n();s.abort(u),clearInterval(c)});function v(){var e=o[""+u];if(e){var n=e.naturalHeight,v=e.naturalWidth;n&&v&&(t(v,n),l=!0)}l&&(s.abort(u),clearInterval(c))}},has:e=>t.has(e),load(e,t,s){n+=1;var l=new window.Image;return l.onerror=s,l.onload=e=>{var n=()=>t({nativeEvent:e});'function'==typeof l.decode?l.decode().then(n,n):setTimeout(n,0)},l.src=e,o[""+n]=l,n},prefetch:e=>new Promise((n,o)=>{s.load(e,()=>{t.add(e),t.remove(e),n()},o)}),queryCache(e){var n={};return e.forEach(e=>{t.has(e)&&(n[e]='disk/memory')}),Promise.resolve(n)}};_e.default=s},283,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?f(u,t,o):u[t]=e[t]);return u})(e,t)})(_r(d[2])),n=e(_r(d[3])),f=e(_r(d[4]));var o=r.forwardRef((e,f)=>r.createElement(n.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f})));_e.default=(0,f.default)(o)},284,[1,18,25,241,263]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var f,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(f=t?n:r){if(f.has(e))return f.get(e);f.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(f=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?f(u,t,o):u[t]=e[t]);return u})(e,t)})(_r(d[2])),n=e(_r(d[3])),f=e(_r(d[4]));var o=r.forwardRef((e,f)=>r.createElement(n.default,(0,t.default)({scrollEventThrottle:1e-4},e,{ref:f})));_e.default=(0,f.default)(o)},285,[1,18,25,286,263]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},286,[1,287]);
__d(function(g,_r,_i,a,m,_e,d){'use strict';var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),i=(e(_r(d[3])),(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var s,n,o={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return o;if(s=t?i:r){if(s.has(e))return s.get(e);s.set(e,o)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((n=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(n.get||n.set)?s(o,t,n):o[t]=e[t]);return o})(e,t)})(_r(d[4]))),s=e(_r(d[5]));var n=["stickySectionHeadersEnabled"];class o extends i.PureComponent{constructor(){super(...arguments),this._captureRef=e=>{this._wrapperListRef=e}}scrollToLocation(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}recordInteraction(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}flashScrollIndicators(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}getScrollResponder(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}getScrollableNode(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}render(){var e=this.props,o=e.stickySectionHeadersEnabled,l=(0,r.default)(e,n),f=null!=o&&o;return i.createElement(s.default,(0,t.default)({},l,{stickySectionHeadersEnabled:f,ref:this._captureRef,getItemCount:e=>e.length,getItem:(e,t)=>e[t]}))}}_e.default=o},287,[1,18,34,86,25,288]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var t=e(_r(d[1])),r=e(_r(d[2])),i=e(_r(d[3])),n=e(_r(d[4])),o=e(_r(d[5])),l=e(_r(d[6])),s=_r(d[7]),p=e(_r(d[8])),u=(function(e,t){if("function"==typeof WeakMap)var r=new WeakMap,i=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var n,o,l={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return l;if(n=t?i:r){if(n.has(e))return n.get(e);n.set(e,l)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?n(l,t,o):l[t]=e[t]);return l})(e,t)})(_r(d[9]));var c=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class h extends u.PureComponent{constructor(){super(...arguments),this._keyExtractor=(e,t)=>{var r=this._subExtractor(t);return r&&r.key||String(t)},this._convertViewable=e=>{var t;(0,p.default)(null!=e.index,'Received a broken ViewToken');var r=this._subExtractor(e.index);if(!r)return null;var i=r.section.keyExtractor,o=this.props.keyExtractor||s.keyExtractor,l=null!=i?i(e.item,r.index):o(e.item,null!==(t=r.index)&&void 0!==t?t:0);return(0,n.default)((0,n.default)({},e),{},{index:r.index,key:l,section:r.section})},this._onViewableItemsChanged=e=>{var t=e.viewableItems,r=e.changed,i=this.props.onViewableItemsChanged;null!=i&&i({viewableItems:t.map(this._convertViewable,this).filter(Boolean),changed:r.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=e=>t=>{var r=t.item,i=t.index,n=this._subExtractor(i);if(!n)return null;var o=n.index;if(null==o){var l=n.section;if(!0===n.header){var s=this.props.renderSectionHeader;return s?s({section:l}):null}var c=this.props.renderSectionFooter;return c?c({section:l}):null}var h=n.section.renderItem||this.props.renderItem,_=this._getSeparatorComponent(i,n,e);return(0,p.default)(h,'no renderItem!'),u.createElement(f,{SeparatorComponent:_,LeadingSeparatorComponent:0===o?this.props.SectionSeparatorComponent:void 0,cellKey:n.key,index:o,item:r,leadingItem:n.leadingItem,leadingSection:n.leadingSection,prevCellKey:(this._subExtractor(i-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:h,section:n.section,trailingItem:n.trailingItem,trailingSection:n.trailingSection,inverted:!!this.props.inverted})},this._updatePropsFor=(e,t)=>{var r=this._updatePropsMap[e];null!=r&&r(t)},this._updateHighlightFor=(e,t)=>{var r=this._updateHighlightMap[e];null!=r&&r(t)},this._setUpdateHighlightFor=(e,t)=>{null!=t?this._updateHighlightMap[e]=t:delete this._updateHighlightFor[e]},this._setUpdatePropsFor=(e,t)=>{null!=t?this._updatePropsMap[e]=t:delete this._updatePropsMap[e]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=e=>{this._listRef=e}}scrollToLocation(e){for(var t=e.itemIndex,r=0;r<e.sectionIndex;r++)t+=this.props.getItemCount(this.props.sections[r].data)+2;var i=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)i+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var o=(0,n.default)((0,n.default)({},e),{},{viewOffset:i,index:t});this._listRef.scrollToIndex(o)}}getListRef(){return this._listRef}render(){for(var e,n=this.props,o=(n.ItemSeparatorComponent,n.SectionSeparatorComponent,n.renderItem,n.renderSectionFooter,n.renderSectionHeader,n.sections,n.stickySectionHeadersEnabled,(0,i.default)(n,c)),s=this.props.ListHeaderComponent?1:0,p=this.props.stickySectionHeadersEnabled?[]:void 0,h=0,f=(0,r.default)(this.props.sections);!(e=f()).done;){var _=e.value;null!=p&&p.push(h+s),h+=2,h+=this.props.getItemCount(_.data)}var S=this._renderItem(h);return u.createElement(l.default,(0,t.default)({},o,{keyExtractor:this._keyExtractor,stickyHeaderIndices:p,renderItem:S,data:this.props.sections,getItem:(e,t)=>this._getItem(this.props,e,t),getItemCount:()=>h,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(e,t,r){if(!t)return null;for(var i=r-1,n=0;n<t.length;n++){var o=t[n],l=o.data,s=e.getItemCount(l);if(-1===i||i===s)return o;if(i<s)return e.getItem(l,i);i-=s+2}return null}_subExtractor(e){for(var t=e,r=this.props,i=r.getItem,n=r.getItemCount,o=r.keyExtractor,l=r.sections,p=0;p<l.length;p++){var u=l[p],c=u.data,h=u.key||String(p);if(!((t-=1)>=n(c)+1))return-1===t?{section:u,key:h+':header',index:null,header:!0,trailingSection:l[p+1]}:t===n(c)?{section:u,key:h+':footer',index:null,header:!1,trailingSection:l[p+1]}:{section:u,key:h+':'+(u.keyExtractor||o||s.keyExtractor)(i(c,t),t),index:t,leadingItem:i(c,t-1),leadingSection:l[p-1],trailingItem:i(c,t+1),trailingSection:l[p+1]};t-=n(c)+1}}_getSeparatorComponent(e,t,r){if(!(t=t||this._subExtractor(e)))return null;var i=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,n=this.props.SectionSeparatorComponent,o=e===r-1,l=t.index===this.props.getItemCount(t.section.data)-1;return n&&l?n:!i||l||o?null:i}}function f(e){var r=e.LeadingSeparatorComponent,i=e.SeparatorComponent,l=e.cellKey,s=e.prevCellKey,p=e.setSelfHighlightCallback,c=e.updateHighlightFor,h=e.setSelfUpdatePropsCallback,f=e.updatePropsFor,_=e.item,S=e.index,v=e.section,I=e.inverted,x=u.useState(!1),y=x[0],C=x[1],k=u.useState(!1),b=k[0],E=k[1],H=u.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),P=H[0],w=H[1],F=u.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),M=F[0],R=F[1];u.useEffect(()=>(p(l,E),h(l,R),()=>{h(l,null),p(l,null)}),[l,p,R,h]);var V={highlight:()=>{C(!0),E(!0),null!=s&&c(s,!0)},unhighlight:()=>{C(!1),E(!1),null!=s&&c(s,!1)},updateProps:(e,t)=>{'leading'===e?null!=r?w((0,n.default)((0,n.default)({},P),t)):null!=s&&f(s,(0,n.default)((0,n.default)({},P),t)):'trailing'===e&&null!=i&&R((0,n.default)((0,n.default)({},M),t))}},O=e.renderItem({item:_,index:S,section:v,separators:V}),U=null!=r&&u.createElement(r,(0,t.default)({highlighted:y},P)),L=null!=i&&u.createElement(i,(0,t.default)({highlighted:b},M));return U||L?u.createElement(o.default,null,!1===I?U:L,O,!1===I?L:U):O}_e.default=h},288,[1,18,237,34,10,88,236,260,15,25]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?f:n){if(r.has(e))return r.get(e);r.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(u,t,o):u[t]=e[t])})(e,t)})(_r(d[1]));var t=e(_r(d[2])),n=e(_r(d[3]));_e.default=(0,n.default)(t.default)},289,[1,25,122,263]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;!(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,f=new WeakMap;(function(e,t){if(!t&&e&&e.__esModule)return e;var r,o,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(r=t?f:n){if(r.has(e))return r.get(e);r.set(e,u)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((o=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(o.get||o.set)?r(u,t,o):u[t]=e[t])})(e,t)})(_r(d[1]));var t=e(_r(d[2])),n=e(_r(d[3]));_e.default=(0,n.default)(t.default)},290,[1,25,88,263]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(r(d[1])),u=r(d[2]),l=t(r(d[3])),f=t(r(d[4])),o=t(r(d[5])),s=t(r(d[6])),v=t(r(d[7])),c=t(r(d[8])),p=t(r(d[9])),E=!1;function h(t){return n=>{var u=null==n?n:function(){if(E)console.warn('Ignoring recursive animation callback when running mock animations');else{E=!0;try{n(...arguments)}finally{E=!1}}};t(u)}}var y={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},k=t=>(0,n.default)((0,n.default)({},y),{},{start:h(n=>{t.forEach(t=>t.start()),null==n||n({finished:!0})})});e.default={Value:s.default,ValueXY:v.default,Color:p.default,Interpolation:f.default,Node:o.default,decay:function(t,n){return y},timing:function(t,u){var l=t;return(0,n.default)((0,n.default)({},y),{},{start:h(t=>{l.setValue(u.toValue),null==t||t({finished:!0})})})},spring:function(t,u){var l=t;return(0,n.default)((0,n.default)({},y),{},{start:h(t=>{l.setValue(u.toValue),null==t||t({finished:!0})})})},add:l.default.add,subtract:l.default.subtract,divide:l.default.divide,multiply:l.default.multiply,modulo:l.default.modulo,diffClamp:l.default.diffClamp,delay:function(t){return y},sequence:function(t){return k(t)},parallel:function(t,n){return k(t)},stagger:function(t,n){return k(n)},loop:function(t,n){(void 0===n?{}:n).iterations;return y},event:l.default.event,createAnimatedComponent:c.default,attachNativeEvent:u.attachNativeEvent,forkEvent:l.default.forkEvent,unforkEvent:l.default.unforkEvent,Event:u.AnimatedEvent}},291,[1,10,266,292,268,270,267,300,263,305]);
__d(function(_g,_r,_i,_a,m,e,d){'use strict';var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=t(_r(d[1])),i=_r(d[2]),r=t(_r(d[3])),a=t(_r(d[4])),o=t(_r(d[5])),u=t(_r(d[6])),f=t(_r(d[7])),s=t(_r(d[8])),c=t(_r(d[9])),v=(t(_r(d[10])),t(_r(d[11]))),l=t(_r(d[12])),p=t(_r(d[13])),g=t(_r(d[14])),h=t(_r(d[15])),_=t(_r(d[16])),N=t(_r(d[17])),w=t(_r(d[18])),E=t(_r(d[19])),A=function(t,n){return t&&n.onComplete?function(){n.onComplete&&n.onComplete(...arguments),t&&t(...arguments)}:t||n.onComplete},D=function(t,i,r){if(t instanceof g.default){var a=(0,n.default)({},i),o=(0,n.default)({},i);for(var u in i){var f=i[u],s=f.x,c=f.y;void 0!==s&&void 0!==c&&(a[u]=s,o[u]=c)}var v=r(t.x,a),l=r(t.y,o);return U([v,l],{stopTogether:!1})}if(t instanceof E.default){var p=(0,n.default)({},i),h=(0,n.default)({},i),_=(0,n.default)({},i),N=(0,n.default)({},i);for(var w in i){var A=i[w],D=A.r,L=A.g,y=A.b,k=A.a;void 0!==D&&void 0!==L&&void 0!==y&&void 0!==k&&(p[w]=D,h[w]=L,_[w]=y,N[w]=k)}var C=r(t.r,p),V=r(t.g,h),T=r(t.b,_),b=r(t.a,N);return U([C,V,T,b],{stopTogether:!1})}return null},L=function t(i,r){var a=function(t,n,i){i=A(i,n);var r=t,a=n;r.stopTracking(),n.toValue instanceof c.default?r.track(new l.default(r,n.toValue,N.default,a,i)):r.animate(new N.default(a),i)};return D(i,r,t)||{start:function(t){a(i,r,t)},stop:function(){i.stopAnimation()},reset:function(){i.resetAnimation()},_startNativeLoop:function(t){var o=(0,n.default)((0,n.default)({},r),{},{iterations:t});a(i,o)},_isUsingNativeDriver:function(){return r.useNativeDriver||!1}}},y=function(t){var n=0;return{start:function(i){0===t.length?i&&i({finished:!0}):t[n].start(function r(a){a.finished&&++n!==t.length?t[n].start(r):i&&i(a)})},stop:function(){n<t.length&&t[n].stop()},reset:function(){t.forEach((t,i)=>{i<=n&&t.reset()}),n=0},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations')},_isUsingNativeDriver:function(){return!1}}},U=function(t,n){var i=0,r={},a=!(n&&!1===n.stopTogether),o={start:function(n){i!==t.length?t.forEach((u,f)=>{var s=function(u){if(r[f]=!0,++i===t.length)return i=0,void(n&&n(u));!u.finished&&a&&o.stop()};u?u.start(s):s({finished:!0})}):n&&n({finished:!0})},stop:function(){t.forEach((t,n)=>{!r[n]&&t.stop(),r[n]=!0})},reset:function(){t.forEach((t,n)=>{t.reset(),r[n]=!1,i=0})},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations')},_isUsingNativeDriver:function(){return!1}};return o},k=function(t){return L(new p.default(0),{toValue:0,delay:t,duration:0,useNativeDriver:!1})};e.default={Value:p.default,ValueXY:g.default,Color:E.default,Interpolation:u.default,Node:c.default,decay:function t(i,r){var a=function(t,n,i){i=A(i,n);var r=t,a=n;r.stopTracking(),r.animate(new h.default(a),i)};return D(i,r,t)||{start:function(t){a(i,r,t)},stop:function(){i.stopAnimation()},reset:function(){i.resetAnimation()},_startNativeLoop:function(t){var o=(0,n.default)((0,n.default)({},r),{},{iterations:t});a(i,o)},_isUsingNativeDriver:function(){return r.useNativeDriver||!1}}},timing:L,spring:function t(i,r){var a=function(t,n,i){i=A(i,n);var r=t,a=n;r.stopTracking(),n.toValue instanceof c.default?r.track(new l.default(r,n.toValue,_.default,a,i)):r.animate(new _.default(a),i)};return D(i,r,t)||{start:function(t){a(i,r,t)},stop:function(){i.stopAnimation()},reset:function(){i.resetAnimation()},_startNativeLoop:function(t){var o=(0,n.default)((0,n.default)({},r),{},{iterations:t});a(i,o)},_isUsingNativeDriver:function(){return r.useNativeDriver||!1}}},add:function(t,n){return new r.default(t,n)},subtract:function(t,n){return new v.default(t,n)},divide:function(t,n){return new o.default(t,n)},multiply:function(t,n){return new s.default(t,n)},modulo:function(t,n){return new f.default(t,n)},diffClamp:function(t,n,i){return new a.default(t,n,i)},delay:k,sequence:y,parallel:U,stagger:function(t,n){return U(n.map((n,i)=>y([k(t*i),n])))},loop:function(t,n){var i=void 0===n?{}:n,r=i.iterations,a=void 0===r?-1:r,o=i.resetBeforeIteration,u=void 0===o||o,f=!1,s=0;return{start:function(n){t&&0!==a?t._isUsingNativeDriver()?t._startNativeLoop(a):(function i(r){void 0===r&&(r={finished:!0}),f||s===a||!1===r.finished?n&&n(r):(s++,u&&t.reset(),t.start(i))})():n&&n({finished:!0})},stop:function(){f=!0,t.stop()},reset:function(){s=0,f=!1,t.reset()},_startNativeLoop:function(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations')},_isUsingNativeDriver:function(){return t._isUsingNativeDriver()}}},event:function(t,n){var r=new i.AnimatedEvent(t,n);return r.__isNative?r:r.__getHandler()},createAnimatedComponent:w.default,attachNativeEvent:i.attachNativeEvent,forkEvent:function(t,n){return t?t instanceof i.AnimatedEvent?(t.__addListener(n),t):function(){'function'==typeof t&&t(...arguments),n(...arguments)}:n},unforkEvent:function(t,n){t&&t instanceof i.AnimatedEvent&&t.__removeListener(n)},Event:i.AnimatedEvent}},292,[1,10,266,293,294,295,268,296,297,270,265,298,299,267,300,301,303,306,263,305]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),a=t(r(d[2])),s=t(r(d[3]));class h extends s.default{constructor(t,_){super(),this._a='number'==typeof t?new a.default(t):t,this._b='number'==typeof _?new a.default(_):_}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(t){return new _.default(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'addition',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}e.default=h},293,[1,268,267,269]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=t(r(d[1])),_=t(r(d[2]));class s extends _.default{constructor(t,a,_){super(),this._a=t,this._min=a,this._max=_,this._value=this._lastValue=this._a.__getValue()}__makeNative(t){this._a.__makeNative(t),super.__makeNative(t)}interpolate(t){return new a.default(this,t)}__getValue(){var t=this._a.__getValue(),a=t-this._lastValue;return this._lastValue=t,this._value=Math.min(Math.max(this._value+a,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max}}}e.default=s},294,[1,268,269]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),a=t(r(d[2])),s=t(r(d[3])),o=t(r(d[4]));class n extends o.default{constructor(t,_){super(),this._warnedAboutDivideByZero=!1,(0===_||_ instanceof a.default&&0===_.__getValue())&&console.error('Detected potential division by zero in AnimatedDivision'),this._a='number'==typeof t?new s.default(t):t,this._b='number'==typeof _?new s.default(_):_}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){var t=this._a.__getValue(),_=this._b.__getValue();return 0===_?(this._warnedAboutDivideByZero||(console.error('Detected division by zero in AnimatedDivision'),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,t/_)}interpolate(t){return new _.default(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'division',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}e.default=n},295,[1,268,270,267,269]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),u=t(r(d[2]));class a extends u.default{constructor(t,_){super(),this._a=t,this._modulus=_}__makeNative(t){this._a.__makeNative(t),super.__makeNative(t)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(t){return new _.default(this,t)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'modulus',input:this._a.__getNativeTag(),modulus:this._modulus}}}e.default=a},296,[1,268,269]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),a=t(r(d[2])),s=t(r(d[3]));class h extends s.default{constructor(t,_){super(),this._a='number'==typeof t?new a.default(t):t,this._b='number'==typeof _?new a.default(_):_}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(t){return new _.default(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'multiplication',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}e.default=h},297,[1,268,267,269]);
__d(function(g,r,i,_a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),a=t(r(d[2])),s=t(r(d[3]));class h extends s.default{constructor(t,_){super(),this._a='number'==typeof t?new a.default(t):t,this._b='number'==typeof _?new a.default(_):_}__makeNative(t){this._a.__makeNative(t),this._b.__makeNative(t),super.__makeNative(t)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(t){return new _.default(this,t)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:'subtraction',input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}e.default=h},298,[1,268,267,269]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=t(r(d[1])),n=(t(r(d[2])),t(r(d[3]))),s=r(d[4]);class h extends n.default{constructor(t,_,n,h,u){super(),this._value=t,this._parent=_,this._animationClass=n,this._animationConfig=h,this._useNativeDriver=(0,s.shouldUseNativeDriver)(h),this._callback=u,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass((0,_.default)((0,_.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var t=new this._animationClass((0,_.default)((0,_.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:'tracking',animationId:(0,s.generateNewAnimationId)(),animationConfig:t,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}e.default=h},299,[1,10,267,270,271]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=t(r(d[2])),l=t(r(d[3])),f=1;class h extends n.default{constructor(t){super();var n=t||{x:0,y:0};'number'==typeof n.x&&'number'==typeof n.y?(this.x=new s.default(n.x),this.y=new s.default(n.y)):((0,l.default)(n.x instanceof s.default&&n.y instanceof s.default,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=n.x,this.y=n.y),this._listeners={}}setValue(t){this.x.setValue(t.x),this.y.setValue(t.y)}setOffset(t){this.x.setOffset(t.x),this.y.setOffset(t.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(t){this.x.resetAnimation(),this.y.resetAnimation(),t&&t(this.__getValue())}stopAnimation(t){this.x.stopAnimation(),this.y.stopAnimation(),t&&t(this.__getValue())}addListener(t){var s=String(f++),n=s=>{s.value;t(this.__getValue())};return this._listeners[s]={x:this.x.addListener(n),y:this.y.addListener(n)},s}removeListener(t){this.x.removeListener(this._listeners[t].x),this.y.removeListener(this._listeners[t].y),delete this._listeners[t]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}}e.default=h},300,[1,267,269,15]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),n=r(d[2]);class o extends s.default{constructor(t){var s,o,_;super(),this._deceleration=null!==(s=t.deceleration)&&void 0!==s?s:.998,this._velocity=t.velocity,this._useNativeDriver=(0,n.shouldUseNativeDriver)(t),this.__isInteraction=null!==(o=t.isInteraction)&&void 0!==o?o:!this._useNativeDriver,this.__iterations=null!==(_=t.iterations)&&void 0!==_?_:1}__getNativeAnimationConfig(){return{type:'decay',deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(t,s,n,o,_){this.__active=!0,this._lastValue=t,this._fromValue=t,this._onUpdate=s,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(_):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var t=Date.now(),s=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(t-this._startTime)));this._onUpdate(s),Math.abs(this._lastValue-s)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=s,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}stop(){super.stop(),this.__active=!1,g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}e.default=o},301,[1,302,271]);
__d(function(g,r,i,a,m,_e,d){'use strict';var t=r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var n=t(r(d[1])),e=1;_e.default=class{start(t,n,e,o,_){}stop(){this.__nativeId&&n.default.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw new Error('This animation type cannot be offloaded to native')}__debouncedOnEnd(t){var n=this.__onEnd;this.__onEnd=null,n&&n(t)}__startNativeAnimation(t){var o=e+":startAnimation";e+=1,n.default.API.setWaitingForIdentifier(o);try{var _=this.__getNativeAnimationConfig();t.__makeNative(_.platformConfig),this.__nativeId=n.default.generateNewAnimationId(),n.default.API.startAnimatingNode(this.__nativeId,t.__getNativeTag(),_,this.__debouncedOnEnd.bind(this))}catch(t){throw t}finally{n.default.API.unsetWaitingForIdentifier(o)}}}},302,[1,271]);
__d(function(g,r,i,a,_m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1])),o=t(r(d[2])),n=t(r(d[3])),h=r(d[4]);t(r(d[5]));class l extends s.default{constructor(t){var s,l,_,f,m,u,v,c,p,V,T;if(super(),this._overshootClamping=null!==(s=t.overshootClamping)&&void 0!==s&&s,this._restDisplacementThreshold=null!==(l=t.restDisplacementThreshold)&&void 0!==l?l:.001,this._restSpeedThreshold=null!==(_=t.restSpeedThreshold)&&void 0!==_?_:.001,this._initialVelocity=null!==(f=t.velocity)&&void 0!==f?f:0,this._lastVelocity=null!==(m=t.velocity)&&void 0!==m?m:0,this._toValue=t.toValue,this._delay=null!==(u=t.delay)&&void 0!==u?u:0,this._useNativeDriver=(0,h.shouldUseNativeDriver)(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(v=t.isInteraction)&&void 0!==v?v:!this._useNativeDriver,this.__iterations=null!==(c=t.iterations)&&void 0!==c?c:1,void 0!==t.stiffness||void 0!==t.damping||void 0!==t.mass)(0,n.default)(void 0===t.bounciness&&void 0===t.speed&&void 0===t.tension&&void 0===t.friction,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one'),this._stiffness=null!==(p=t.stiffness)&&void 0!==p?p:100,this._damping=null!==(V=t.damping)&&void 0!==V?V:10,this._mass=null!==(T=t.mass)&&void 0!==T?T:1;else if(void 0!==t.bounciness||void 0!==t.speed){var y,b;(0,n.default)(void 0===t.tension&&void 0===t.friction&&void 0===t.stiffness&&void 0===t.damping&&void 0===t.mass,'You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one');var M=o.default.fromBouncinessAndSpeed(null!==(y=t.bounciness)&&void 0!==y?y:8,null!==(b=t.speed)&&void 0!==b?b:12);this._stiffness=M.stiffness,this._damping=M.damping,this._mass=1}else{var D,P,C=o.default.fromOrigamiTensionAndFriction(null!==(D=t.tension)&&void 0!==D?D:40,null!==(P=t.friction)&&void 0!==P?P:7);this._stiffness=C.stiffness,this._damping=C.damping,this._mass=1}(0,n.default)(this._stiffness>0,'Stiffness value must be greater than 0'),(0,n.default)(this._damping>0,'Damping value must be greater than 0'),(0,n.default)(this._mass>0,'Mass value must be greater than 0')}__getNativeAnimationConfig(){var t;return{type:'spring',overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(t=this._initialVelocity)&&void 0!==t?t:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,s,o,n,h){if(this.__active=!0,this._startPosition=t,this._lastPosition=this._startPosition,this._onUpdate=s,this.__onEnd=o,this._lastTime=Date.now(),this._frameTime=0,n instanceof l){var _=n.getInternalState();this._lastPosition=_.lastPosition,this._lastVelocity=_.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=_.lastTime}var f=()=>{this._useNativeDriver?this.__startNativeAnimation(h):this.onUpdate()};this._delay?this._timeout=setTimeout(f,this._delay):f()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var t=Date.now();t>this._lastTime+64&&(t=this._lastTime+64);var s=(t-this._lastTime)/1e3;this._frameTime+=s;var o=this._damping,n=this._mass,h=this._stiffness,l=-this._initialVelocity,_=o/(2*Math.sqrt(h*n)),f=Math.sqrt(h/n),m=f*Math.sqrt(1-_*_),u=this._toValue-this._startPosition,v=0,c=0,p=this._frameTime;if(_<1){var V=Math.exp(-_*f*p);v=this._toValue-V*((l+_*f*u)/m*Math.sin(m*p)+u*Math.cos(m*p)),c=_*f*V*(Math.sin(m*p)*(l+_*f*u)/m+u*Math.cos(m*p))-V*(Math.cos(m*p)*(l+_*f*u)-m*u*Math.sin(m*p))}else{var T=Math.exp(-f*p);v=this._toValue-T*(u+(l+f*u)*p),c=T*(l*(p*f-1)+p*u*(f*f))}if(this._lastTime=t,this._lastPosition=v,this._lastVelocity=c,this._onUpdate(v),this.__active){var y=!1;this._overshootClamping&&0!==this._stiffness&&(y=this._startPosition<this._toValue?v>this._toValue:v<this._toValue);var b=Math.abs(c)<=this._restSpeedThreshold,M=!0;if(0!==this._stiffness&&(M=Math.abs(this._toValue-v)<=this._restDisplacementThreshold),y||b&&M)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}e.default=l},303,[1,302,304,15,271,305]);
__d(function(g,r,i,a,m,e,d){'use strict';function n(n){return 3.62*(n-30)+194}function t(n){return 3*(n-8)+25}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={fromOrigamiTensionAndFriction:function(u,o){return{stiffness:n(u),damping:t(o)}},fromBouncinessAndSpeed:function(u,o){function f(n,t,u){return(n-t)/(u-t)}function c(n,t,u){return t+n*(u-t)}function s(n,t,u){return n*u+(1-n)*t}function p(n){return 44e-6*Math.pow(n,3)-.006*Math.pow(n,2)+.36*n+2}function M(n){return 45e-8*Math.pow(n,3)-332e-6*Math.pow(n,2)+.1078*n+5.84}var h=f(u/1.7,0,20);h=c(h,0,.8);var w,l,v,_,A=c(f(o/1.7,0,20),.5,200),O=(w=h,l=(v=A)<=18?(_=v,7e-4*Math.pow(_,3)-.031*Math.pow(_,2)+.64*_+1.28):v>18&&v<=44?p(v):M(v),s(2*w-w*w,l,.01));return{stiffness:n(A),damping:t(O)}}}},304,[]);
__d(function(_g,_r,i,_a,m,e,d){'use strict';var t=_r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(_r(d[1])),a=t(_r(d[2])),r=t(_r(d[3])),n=t(_r(d[4])).default.API,h={r:0,g:0,b:0,a:1},l=1;function _(t){if(null==t)return null;if(o(t))return t;var s=(0,r.default)(t);if(null==s)return null;if('object'==typeof s){if(null!=s)return s}else if('number'==typeof s){return{r:(4278190080&s)>>>24,g:(16711680&s)>>>16,b:(65280&s)>>>8,a:(255&s)/255}}return null}function o(t){return t&&'number'==typeof t.r&&'number'==typeof t.g&&'number'==typeof t.b&&'number'==typeof t.a}function f(t){return t&&t.r instanceof s.default&&t.g instanceof s.default&&t.b instanceof s.default&&t.a instanceof s.default}class u extends a.default{constructor(t,a){super(),this._listeners={};var r=null!=t?t:h;if(f(r)){var n=r;this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a}else{var l,u=null!==(l=_(r))&&void 0!==l?l:h,v=h;o(u)?v=u:this.nativeColor=u,this.r=new s.default(v.r),this.g=new s.default(v.g),this.b=new s.default(v.b),this.a=new s.default(v.a)}(this.nativeColor||a&&a.useNativeDriver)&&this.__makeNative()}setValue(t){var s,a=!1;if(this.__isNative){var r=this.__getNativeTag();n.setWaitingForIdentifier(r.toString())}var l=null!==(s=_(t))&&void 0!==s?s:h;if(o(l)){var f=l;this.r.setValue(f.r),this.g.setValue(f.g),this.b.setValue(f.b),this.a.setValue(f.a),null!=this.nativeColor&&(this.nativeColor=null,a=!0)}else{var u=l;this.nativeColor!==u&&(this.nativeColor=u,a=!0)}if(this.__isNative){var v=this.__getNativeTag();a&&n.updateAnimatedNodeConfig(v,this.__getNativeConfig()),n.unsetWaitingForIdentifier(v.toString())}}setOffset(t){this.r.setOffset(t.r),this.g.setOffset(t.g),this.b.setOffset(t.b),this.a.setOffset(t.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(t){var s=String(l++),a=s=>{s.value;t(this.__getValue())};return this._listeners[s]={r:this.r.addListener(a),g:this.g.addListener(a),b:this.b.addListener(a),a:this.a.addListener(a)},s}removeListener(t){this.r.removeListener(this._listeners[t].r),this.g.removeListener(this._listeners[t].g),this.b.removeListener(this._listeners[t].b),this.a.removeListener(this._listeners[t].a),delete this._listeners[t]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(t){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),t&&t(this.__getValue())}resetAnimation(t){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),t&&t(this.__getValue())}__getValue(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(t){this.r.__makeNative(t),this.g.__makeNative(t),this.b.__makeNative(t),this.a.__makeNative(t),super.__makeNative(t)}__getNativeConfig(){return{type:'color',r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}e.default=u},305,[1,267,269,42,271]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t(r(d[1])),t(r(d[2])),t(r(d[3]));var s,n=t(r(d[4])),o=t(r(d[5])),_=r(d[6]);t(r(d[7]));class h extends o.default{constructor(t){var o,h,u,l,v;super(),this._toValue=t.toValue,this._easing=null!==(o=t.easing)&&void 0!==o?o:(s||(s=n.default.inOut(n.default.ease)),s),this._duration=null!==(h=t.duration)&&void 0!==h?h:500,this._delay=null!==(u=t.delay)&&void 0!==u?u:0,this.__iterations=null!==(l=t.iterations)&&void 0!==l?l:1,this._useNativeDriver=(0,_.shouldUseNativeDriver)(t),this._platformConfig=t.platformConfig,this.__isInteraction=null!==(v=t.isInteraction)&&void 0!==v?v:!this._useNativeDriver}__getNativeAnimationConfig(){for(var t=[],s=Math.round(this._duration/16.666666666666668),n=0;n<s;n++)t.push(this._easing(n/s));return t.push(this._easing(1)),{type:'frames',frames:t,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(t,s,n,o,_){this.__active=!0,this._fromValue=t,this._onUpdate=s,this.__onEnd=n;var h=()=>{0!==this._duration||this._useNativeDriver?(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(_):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))):(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(h,this._delay):h()}onUpdate(){var t=Date.now();if(t>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((t-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}e.default=h},306,[1,267,300,268,307,302,271,305]);
__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=t(r(d[1]));e.default=u.default},307,[1,308]);
__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,c=t(r(d[1]));class s{static step0(t){return t>0?1:0}static step1(t){return t>=1?1:0}static linear(t){return t}static ease(t){return u||(u=s.bezier(.42,0,1,1)),u(t)}static quad(t){return t*t}static cubic(t){return t*t*t}static poly(t){return u=>Math.pow(u,t)}static sin(t){return 1-Math.cos(t*Math.PI/2)}static circle(t){return 1-Math.sqrt(1-t*t)}static exp(t){return Math.pow(2,10*(t-1))}static elastic(t){void 0===t&&(t=1);var u=t*Math.PI;return t=>1-Math.pow(Math.cos(t*Math.PI/2),3)*Math.cos(t*u)}static back(t){return void 0===t&&(t=1.70158),u=>u*u*((t+1)*u-t)}static bounce(t){if(t<.36363636363636365)return 7.5625*t*t;if(t<.7272727272727273){var u=t-.5454545454545454;return 7.5625*u*u+.75}if(t<.9090909090909091){var c=t-.8181818181818182;return 7.5625*c*c+.9375}var s=t-.9545454545454546;return 7.5625*s*s+.984375}static bezier(t,u,s,n){return(0,c.default)(t,u,s,n)}static in(t){return t}static out(t){return u=>1-t(1-u)}static inOut(t){return u=>u<.5?t(2*u)/2:1-t(2*(1-u))/2}}e.default=s},308,[1,309]);
__d(function(g,r,_i,a,m,e,d){
/**
   * BezierEasing - use bezier curve for transition easing function
   * https://github.com/gre/bezier-easing
   * @copyright 2014-2015 Gaëtan Renaudeau. MIT License.
   */
'use strict';Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,u,o,v){if(!(n>=0&&n<=1&&o>=0&&o<=1))throw new Error('bezier x values must be in [0, 1] range');var l=c?new Float32Array(f):new Array(f);if(n!==u||o!==v)for(var s=0;s<f;++s)l[s]=w(s*i,n,o);function h(u){for(var f=0,c=1;10!==c&&l[c]<=u;++c)f+=i;--c;var v=f+(u-l[c])/(l[c+1]-l[c])*i,s=y(v,n,o);return s>=t?_(u,v,n,o):0===s?v:b(u,f,f+i,n,o)}return function(t){return n===u&&o===v?t:0===t?0:1===t?1:w(h(t),u,v)}};var n=4,t=.001,u=1e-7,o=10,f=11,i=.1,c='function'==typeof Float32Array;function v(n,t){return 1-3*t+3*n}function l(n,t){return 3*t-6*n}function s(n){return 3*n}function w(n,t,u){return((v(t,u)*n+l(t,u))*n+s(t))*n}function y(n,t,u){return 3*v(t,u)*n*n+2*l(t,u)*n+s(t)}function b(n,t,f,i,c){var v,l,s=0,y=t,b=f;do{(v=w(l=y+(b-y)/2,i,c)-n)>0?b=l:y=l}while(Math.abs(v)>u&&++s<o);return l}function _(t,u,o,f){for(var i=u,c=0;c<n;++c){var v=y(i,o,f);if(0===v)return i;i-=(w(i,o,f)-t)/v}return i}},309,[]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({currentThemeIndex:e,onThemeSelect:n,onClose:y,visible:w=!1}){const[x,j]=(0,t.useState)(e);if(!w)return null;const v=e=>{j(e);try{b.HapticFeedback.selection()}catch(e){}try{u.themeManager.setTheme(e)&&n(e)}catch(e){}},S=(e,t)=>{const i=x===t;return(0,p.jsxs)(l.default,{style:[C.themeCard,i&&C.selectedThemeCard,{borderColor:i?(0,f.colorToHex)(e.ball):'rgba(142, 142, 147, 0.2)'}],onPress:()=>{v(t)},activeOpacity:.6,delayPressIn:0,delayPressOut:0,children:[(0,p.jsxs)(o.default,{style:C.themePreview,children:[(0,p.jsx)(o.default,{style:[C.previewBackground,{backgroundColor:(0,f.colorToHex)(e.bg)}]}),(0,p.jsx)(o.default,{style:[C.previewPillar,{backgroundColor:(0,f.colorToHex)(e.pillar),left:'20%',height:'60%'}]}),(0,p.jsx)(o.default,{style:[C.previewPillar,{backgroundColor:(0,f.colorToHex)(e.pillar),left:'35%',height:'80%'}]}),(0,p.jsx)(o.default,{style:[C.previewPillar,{backgroundColor:(0,f.colorToHex)(e.pillar),left:'50%',height:'70%'}]}),(0,p.jsx)(o.default,{style:[C.previewBallGlow,{backgroundColor:(0,f.colorToHex)(e.ball)+'40'}]}),(0,p.jsx)(o.default,{style:[C.previewBall,{backgroundColor:(0,f.colorToHex)(e.ball)}]})]}),(0,p.jsxs)(o.default,{style:C.themeInfo,children:[(0,p.jsxs)(o.default,{style:C.themeTextContainer,children:[(0,p.jsx)(r.default,{style:[C.themeName,{color:(0,f.colorToHex)(e.ball)}],children:e.name}),e.description&&(0,p.jsx)(r.default,{style:C.themeDescription,children:e.description})]}),(0,p.jsxs)(r.default,{style:C.themeIndex,children:[t+1," of ",h.COLOR_SCHEMES.length]})]}),i&&(0,p.jsx)(o.default,{style:[C.selectionIndicator,{backgroundColor:(0,f.colorToHex)(e.ball)}],children:(0,p.jsx)(c.default,{name:"checkmark",size:16,color:"white"})})]},t)};return(0,p.jsxs)(o.default,{style:C.overlay,children:[(0,p.jsx)(l.default,{style:i.default.absoluteFill,onPress:y,activeOpacity:1}),(0,p.jsxs)(o.default,{style:C.container,children:[(0,p.jsxs)(o.default,{style:C.header,children:[(0,p.jsxs)(o.default,{children:[(0,p.jsx)(r.default,{style:C.title,children:"Choose Theme"}),(0,p.jsxs)(r.default,{style:C.subtitle,children:[h.COLOR_SCHEMES.length," Beautiful Themes"]})]}),(0,p.jsx)(l.default,{style:C.closeButton,onPress:y,activeOpacity:.7,children:(0,p.jsx)(c.default,{name:"close",size:24,color:"rgba(255, 255, 255, 0.8)"})})]}),(0,p.jsx)(s.default,{style:C.scrollView,contentContainerStyle:C.themeGrid,showsVerticalScrollIndicator:!1,nestedScrollEnabled:!0,children:h.COLOR_SCHEMES.map((e,t)=>S(e,t))}),(0,p.jsx)(o.default,{style:C.footer,children:(0,p.jsx)(r.default,{style:C.footerText,children:"Themes change automatically every 10 points during gameplay"})})]})]})};var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var l,i,n={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return n;if(l=t?r:o){if(l.has(e))return l.get(e);l.set(e,n)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(l=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?l(n,t,i):n[t]=e[t]);return n})(e,t)})(_r(d[1])),o=e(_r(d[2])),r=e(_r(d[3])),l=e(_r(d[4])),i=e(_r(d[5])),n=(e(_r(d[6])),e(_r(d[7]))),s=e(_r(d[8])),c=(e(_r(d[9])),e(_r(d[10]))),h=_r(d[11]),f=_r(d[12]),u=_r(d[13]),b=_r(d[14]),p=_r(d[15]);const{width:y}=n.default.get('window'),w=y<375,x=y>=768;const C=i.default.create({overlay:{position:'absolute',top:0,left:0,right:0,bottom:0,backgroundColor:'rgba(0, 0, 0, 0.8)',justifyContent:'center',alignItems:'center',zIndex:1e4},container:{width:w?'95%':x?'70%':'85%',maxWidth:x?600:w?350:400,height:w?'85%':'80%',backgroundColor:'rgba(28, 28, 30, 0.95)',borderRadius:w?16:20,borderWidth:.5,borderColor:'rgba(142, 142, 147, 0.3)',backdropFilter:'blur(20px)',shadowColor:'rgba(0, 0, 0, 0.3)',shadowOffset:{width:0,height:8},shadowOpacity:.3,shadowRadius:16,elevation:8},header:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingHorizontal:w?16:24,paddingVertical:w?16:20,borderBottomWidth:.5,borderBottomColor:'rgba(142, 142, 147, 0.2)'},title:{fontSize:22,fontWeight:'700',color:'rgba(255, 255, 255, 0.95)',letterSpacing:-.4,fontFamily:'System'},subtitle:{fontSize:14,fontWeight:'500',color:'rgba(142, 142, 147, 0.8)',letterSpacing:-.08,fontFamily:'System',marginTop:2},closeButton:{width:32,height:32,borderRadius:16,backgroundColor:'rgba(142, 142, 147, 0.15)',justifyContent:'center',alignItems:'center'},scrollView:{flex:1,minHeight:200},themeGrid:{padding:w?12:20,paddingBottom:w?20:30},themeCard:{backgroundColor:'rgba(44, 44, 46, 0.8)',borderRadius:w?12:16,borderWidth:1,padding:w?12:16,marginBottom:w?8:12,shadowColor:'rgba(0, 0, 0, 0.2)',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:4,elevation:3,transform:[{scale:1}]},selectedThemeCard:{backgroundColor:'rgba(44, 44, 46, 1)',borderWidth:2,shadowColor:'rgba(0, 122, 255, 0.4)',shadowOffset:{width:0,height:6},shadowOpacity:.4,shadowRadius:12,elevation:8,transform:[{scale:1.02}]},themePreview:{height:w?50:60,borderRadius:w?8:12,overflow:'hidden',marginBottom:w?8:12,position:'relative'},previewBackground:{position:'absolute',top:0,left:0,right:0,bottom:0},previewPillar:{position:'absolute',bottom:0,width:'8%',borderRadius:2},previewBallGlow:{position:'absolute',top:'15%',right:'20%',width:18,height:18,borderRadius:9,opacity:.6},previewBall:{position:'absolute',top:'18%',right:'23%',width:12,height:12,borderRadius:6,shadowColor:'rgba(255, 255, 255, 0.5)',shadowOffset:{width:0,height:1},shadowOpacity:.8,shadowRadius:2,elevation:4},themeInfo:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},themeTextContainer:{flex:1,marginRight:12},themeName:{fontSize:16,fontWeight:'600',letterSpacing:-.32,fontFamily:'System',marginBottom:2},themeDescription:{fontSize:13,fontWeight:'400',color:'rgba(142, 142, 147, 0.9)',letterSpacing:-.08,fontFamily:'System',fontStyle:'italic'},themeIndex:{fontSize:14,fontWeight:'500',color:'rgba(142, 142, 147, 0.8)',letterSpacing:-.24,fontFamily:'System',textAlign:'right'},selectionIndicator:{position:'absolute',top:12,right:12,width:24,height:24,borderRadius:12,justifyContent:'center',alignItems:'center',shadowColor:'rgba(0, 0, 0, 0.3)',shadowOffset:{width:0,height:2},shadowOpacity:.3,shadowRadius:4,elevation:4},footer:{paddingHorizontal:w?16:24,paddingVertical:w?12:16,borderTopWidth:.5,borderTopColor:'rgba(142, 142, 147, 0.2)'},footerText:{fontSize:13,fontWeight:'500',color:'rgba(142, 142, 147, 0.8)',textAlign:'center',lineHeight:18,letterSpacing:-.08,fontFamily:'System'}})},310,[1,25,88,122,119,33,86,123,241,230,227,146,148,147,225,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({message:e,type:o="success",visible:l=!1,onHide:s,duration:c=2e3}){const[f]=(0,r.useState)(new n.default.Value(0)),[b]=(0,r.useState)(new n.default.Value(-50));if((0,r.useEffect)(()=>{if(l){n.default.parallel([n.default.timing(f,{toValue:1,duration:200,useNativeDriver:!0}),n.default.spring(b,{toValue:0,tension:120,friction:6,useNativeDriver:!0})]).start();const e=setTimeout(()=>{n.default.parallel([n.default.timing(f,{toValue:0,duration:200,useNativeDriver:!0}),n.default.timing(b,{toValue:-50,duration:200,useNativeDriver:!0})]).start(()=>{s&&s()})},c);return()=>clearTimeout(e)}},[l,f,b,c,s]),!l)return null;const p=(()=>{switch(o){case'success':return{backgroundColor:'rgba(52, 199, 89, 0.15)',borderColor:'rgba(52, 199, 89, 0.3)'};case'warning':return{backgroundColor:'rgba(255, 149, 0, 0.15)',borderColor:'rgba(255, 149, 0, 0.3)'};case'error':return{backgroundColor:'rgba(255, 59, 48, 0.15)',borderColor:'rgba(255, 59, 48, 0.3)'};default:return{backgroundColor:'rgba(0, 122, 255, 0.15)',borderColor:'rgba(0, 122, 255, 0.3)'}}})();return(0,i.jsx)(n.default.View,{style:[u.container,{opacity:f,transform:[{translateY:b}],backgroundColor:p.backgroundColor,borderColor:p.borderColor}],children:(0,i.jsx)(t.default,{style:u.message,children:e})})};var r=(function(e,r){if("function"==typeof WeakMap)var t=new WeakMap,o=new WeakMap;return(function(e,r){if(!r&&e&&e.__esModule)return e;var n,i,u={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return u;if(n=r?o:t){if(n.has(e))return n.get(e);n.set(e,u)}for(const r in e)"default"!==r&&{}.hasOwnProperty.call(e,r)&&((i=(n=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,r))&&(i.get||i.set)?n(u,r,i):u[r]=e[r]);return u})(e,r)})(_r(d[1])),t=(e(_r(d[2])),e(_r(d[3]))),o=e(_r(d[4])),n=e(_r(d[5])),i=(e(_r(d[6])),_r(d[7]));const u=o.default.create({container:{position:'absolute',top:40,left:20,right:20,paddingHorizontal:20,paddingVertical:16,borderRadius:16,borderWidth:.5,backdropFilter:'blur(20px)',shadowColor:'rgba(0, 0, 0, 0.15)',shadowOffset:{width:0,height:2},shadowOpacity:.2,shadowRadius:8,elevation:5,zIndex:9999},message:{fontSize:16,fontWeight:'600',color:'rgba(255, 255, 255, 0.95)',textAlign:'center',letterSpacing:-.32,fontFamily:'System'}})},311,[1,25,88,122,33,230,86,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=function({children:e}){const[f,u]=(0,t.useState)(o.default.get('window'));(0,t.useEffect)(()=>{const e=o.default.addEventListener('change',({window:e})=>{u(e)});return()=>e?.remove()},[]),(0,t.useEffect)(()=>{},[]);const c=r.default.create({container:Object.assign({position:'absolute',top:0,left:0,right:0,bottom:0,width:f.width,height:f.height,backgroundColor:'#000',overflow:'hidden'},!1,{minWidth:'100vw',minHeight:'100vh',maxWidth:'100vw',maxHeight:'100vh'})});return(0,i.jsx)(n.default,{style:c.container,children:e})};var t=(function(e,t){if("function"==typeof WeakMap)var n=new WeakMap,r=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var o,i,f={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return f;if(o=t?r:n){if(o.has(e))return o.get(e);o.set(e,f)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?o(f,t,i):f[t]=e[t]);return f})(e,t)})(_r(d[1])),n=e(_r(d[2])),r=e(_r(d[3])),o=(e(_r(d[4])),e(_r(d[5]))),i=_r(d[6])},312,[1,25,88,33,86,123,141]);
__d(function(g,_r,_i,a,m,_e,d){var e=_r(d[0]);Object.defineProperty(_e,"__esModule",{value:!0}),_e.BannerAd=function({style:e,testMode:t=!1}){return(0,n.jsx)(r,{adSlot:"auto",adFormat:"auto",fullWidthResponsive:!0,testMode:t,style:[{backgroundColor:'rgba(0, 0, 0, 0.1)',borderRadius:8,padding:8,marginVertical:16},e]})},_e.RectangleAd=function({style:e,testMode:t=!1}){return(0,n.jsx)(r,{adSlot:"auto",adFormat:"rectangle",fullWidthResponsive:!0,testMode:t,style:[{backgroundColor:'rgba(0, 0, 0, 0.1)',borderRadius:8,padding:8,marginVertical:16,minHeight:250},e]})},_e.default=r;var t=(function(e,t){if("function"==typeof WeakMap)var o=new WeakMap,n=new WeakMap;return(function(e,t){if(!t&&e&&e.__esModule)return e;var r,i,s={__proto__:null,default:e};if(null===e||"object"!=typeof e&&"function"!=typeof e)return s;if(r=t?n:o){if(r.has(e))return r.get(e);r.set(e,s)}for(const t in e)"default"!==t&&{}.hasOwnProperty.call(e,t)&&((i=(r=Object.defineProperty)&&Object.getOwnPropertyDescriptor(e,t))&&(i.get||i.set)?r(s,t,i):s[t]=e[t]);return s})(e,t)})(_r(d[1])),o=e(_r(d[2])),n=(e(_r(d[3])),_r(d[4]));function r({adSlot:e="auto",adFormat:r="auto",fullWidthResponsive:i=!0,style:s={},testMode:l=!1}){const u=(0,t.useRef)(null),c=(0,t.useRef)(!1);return(0,t.useEffect)(()=>{if('undefined'==typeof window)return;const e=document.querySelector('script[src*="adsbygoogle.js"]'),t=setTimeout(()=>{if(e&&window.adsbygoogle)try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}else if(!e&&!c.current){const e=document.createElement('script');e.async=!0,e.src='https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8069198795330862',e.crossOrigin='anonymous',e.onload=()=>{c.current=!0;try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){}},e.onerror=()=>{},document.head.appendChild(e)}},500);return()=>{clearTimeout(t)}},[]),(0,n.jsx)(o.default,{style:[{width:'100%',minHeight:90,alignItems:'center',justifyContent:'center',marginVertical:10},s],children:(0,n.jsxs)("div",{ref:u,style:{width:'100%',textAlign:'center',minHeight:'90px',display:'flex',alignItems:'center',justifyContent:'center',position:'relative'},children:[(0,n.jsx)("ins",{className:"adsbygoogle",style:{display:'block',width:'100%',height:'auto',minHeight:'90px'},"data-ad-client":"ca-pub-8069198795330862","data-ad-slot":e,"data-ad-format":r,"data-full-width-responsive":i.toString(),"data-ad-test":l?'on':'off'}),(0,n.jsx)("div",{style:{position:'absolute',top:'50%',left:'50%',transform:'translate(-50%, -50%)',color:'rgba(255, 255, 255, 0.5)',fontSize:'12px',pointerEvents:'none',zIndex:-1},children:"Advertisement"})]})})}},313,[1,25,88,86,141]);
__d(function(g,r,_i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.generateNextPillar=e.createInitialPillars=void 0;var t=r(d[0]),n=r(d[1]);const I=(t,I)=>I.some(I=>(0,n.distance)(t.x,t.z,I.x,I.z)<t.r+I.r+3);e.createInitialPillars=()=>{const o=[{x:0,z:0,r:(0,n.random)(...t.CONFIG.PILLAR_RADIUS),id:0}];for(let l=1;l<t.CONFIG.PILLAR_COUNT;l++){const i=o[l-1];let A,N=0;do{const I=(0,n.getNextAngle)();A={x:i.x+t.CONFIG.PILLAR_DISTANCE*Math.cos(I),z:i.z+t.CONFIG.PILLAR_DISTANCE*Math.sin(I),r:(0,n.random)(...t.CONFIG.PILLAR_RADIUS),id:l},N++}while(I(A,o)&&N<10);o.push(A)}return o};e.generateNextPillar=o=>{const l=o[o.length-1];let i,A=0;do{const I=(0,n.getNextAngle)();i={x:l.x+t.CONFIG.PILLAR_DISTANCE*Math.cos(I),z:l.z+t.CONFIG.PILLAR_DISTANCE*Math.sin(I),r:(0,n.random)(...t.CONFIG.PILLAR_RADIUS),id:Date.now()+Math.random()},A++}while(I(i,o)&&A<10);return i}},314,[146,148]);
__d(function(g,r,i,a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.saveGameSettings=e.loadGameSettings=void 0;var t=r(d[0]);e.saveGameSettings=S=>{try{'undefined'!=typeof Storage&&localStorage.setItem(t.STORAGE_KEYS.GAME_SETTINGS,JSON.stringify(S))}catch(t){}};e.loadGameSettings=()=>{try{if('undefined'!=typeof Storage){const S=localStorage.getItem(t.STORAGE_KEYS.GAME_SETTINGS);return S?JSON.parse(S):{}}}catch(t){}return{}}},315,[146]);
__d(function(g,r,i,_a,m,e,d){Object.defineProperty(e,"__esModule",{value:!0}),e.testProblematicPatterns=e.testHermesCompatibility=void 0;e.testHermesCompatibility=()=>{try{const t=[1,2,3],a={a:1,b:2},n=(Object.assign({},a),t.length,t=>2*t),[s,...o]=(t.map(n),t),{a:c,b:l}=a;return!0}catch(t){return!1}};e.testProblematicPatterns=()=>{try{Date.now(),Math.random();const t='hello world',a=(t.slice(0,5),t.substring(0,5),[1,2,3,4,5]);a.filter(t=>t>2),a.map(t=>2*t);return!0}catch(t){return!1}}},316,[]);
__r(4);
__r(0);